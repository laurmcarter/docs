%!PS-Adobe-2.0
%%Creator: dvipsk 5.58c Copyright 1986, 1994 Radical Eye Software
%%Title: popl96.dvi
%%Pages: 11
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips popl96 -o
%DVIPSParameters: dpi=300, compressed, comments removed
%DVIPSSource:  TeX output 1995.10.19:1804
%%BeginProcSet: texc.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]/id ch-image N /rw ch-width 7 add 8 idiv string N /rc 0 N /gp 0 N
/cp 0 N{rc 0 ne{rc 1 sub /rc X rw}{G}ifelse}imagemask restore}B /G{{id
gp get /gp gp 1 add N dup 18 mod S 18 idiv pl S get exec}loop}B /adv{cp
add /cp X}B /chg{rw cp id gp 4 index getinterval putinterval dup gp add
/gp X adv}B /nd{/cp 0 N rw exit}B /lsh{rw cp 2 copy get dup 0 eq{pop 1}{
dup 255 eq{pop 254}{dup dup add 255 and S 1 and or}ifelse}ifelse put 1
adv}B /rsh{rw cp 2 copy get dup 0 eq{pop 128}{dup 255 eq{pop 127}{dup 2
idiv S 128 and or}ifelse}ifelse put 1 adv}B /clr{rw cp 2 index string
putinterval adv}B /set{rw cp fillstr 0 4 index getinterval putinterval
adv}B /fillstr 18 string 0 1 17{2 copy 255 put pop}for N /pl[{adv 1 chg}
{adv 1 chg nd}{1 add chg}{1 add chg nd}{adv lsh}{adv lsh nd}{adv rsh}{
adv rsh nd}{1 add adv}{/rc X nd}{1 add set}{1 add clr}{adv 2 chg}{adv 2
chg nd}{pop nd}]dup{bind pop}forall N /D{/cc X dup type /stringtype ne{]
}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (popl96.dvi)
@start /Fa 22 119 df<EAFFF8A30D037E8B12>45 D<126012F0A212600404798312>I<
13181338A21370A213E0A2EA01C0A3EA0380A2EA0700A2120EA25AA35AA25AA25AA25A0D
1A7E9612>I<EAFFE013F8EA383C131C130EA4131C133CEA3FF813E0EA3800A612FEA20F
147F9312>80 D<EAFF8013E0EA38F013781338A3137813F0EA3FE013C0EA38E01370A413
77A2EAFE3E131C10147F9312>82 D<EA1FC0EA3FF0EA3838EA101C1200EA07FC123FEA78
1C12E0A3EA703C383FFF80EA1FCF110E7F8D12>97 D<12F8A21238A4EA3BE0EA3FF0EA3C
38EA381C130C130EA4130C131CEA3C38EA3FF0EA1BC00F147F9312>I<EA07F0EA1FF8EA
3838EA7010EA600012E0A41260EA70381238EA1FF0EA07E00D0E7E8D12>I<13F8A21338
A4EA07B8EA1FF8EA3878EA7038126012E0A41260EA70781238EA1FFEEA0FBE0F147F9312
>I<EA0780EA1FE0EA38701270EA603812E0EAFFF8A2EAE0001260EA70381238EA1FF0EA
07C00D0E7E8D12>I<137E13FFEA01C7EA03821380A2EA7FFE12FFEA0380AAEA3FF8A210
14809312>I<1206120FA21206C7FCA3127FA21207AAEAFFF0A20C157D9412>105
D<12F8A21238A4EA3BFCA2EA38F0EA39E0EA3BC0EA3F80A213C0EA3DE0123813701338EA
FC7EA20F147F9312>107 D<B4FCA21207B0EAFFF8A20D147E9312>I<EAF9E0EAFFF0EA3E
38123C1238A8EAFE3EA20F0E7F8D12>110 D<EA0F80EA3FE01238EA7070EAE038A5EAF0
78EA7070EA38E0123FEA0F800D0E7E8D12>I<EAFBE0EAFFF0EA3C38EA381C130C130EA4
130C131CEA3C38EA3FF0EA3BC0EA3800A512FEA20F157F8D12>I<EAFC78EAFDFCEA1F9C
EA1E081300121CA7EAFFC0A20E0E7E8D12>114 D<EA1FF0123FEA607012C0EAE000127F
EA3FE0EA0FF0EA0078EA601812E0EAF030EAFFE0EADFC00D0E7E8D12>I<1206120EA3EA
7FF812FFEA0E00A7131CA3EA07F8EA01E00E127F9112>I<EAF8F8A2EA3838A91378EA1F
FEEA0FBE0F0E7F8D12>I<EAFC7EA2EA3838A2EA1C70A3EA0EE0A4EA07C0A2EA03800F0E
7F8D12>I E /Fb 2 51 df<121812F81218AA12FF080D7D8C0E>49
D<123EEA4180EA80C012C01200A2EA0180EA03001204EA08401230EA7F8012FF0A0D7E8C
0E>I E /Fc 1 49 df<1218A31230A31260A312C0A2050B7E8B09>48
D E /Fd 1 51 df<387FFFF0B512F838C00018B1B512F8A215157D971C>50
D E /Fe 2 49 df<B512C0A212027D8618>0 D<1208121CA21238A312301270A21260A2
12C0A2060D7E8D09>48 D E /Ff 7 83 df<1720176017C0EE0180EE030016065E5E5E5E
5E4B5A4BC7FC15065D5D5D5D5D4A5A4AC8FC14065C5C5C5C5C495A49C9FC13065B5B5B5B
5B485A48CAFC12065A5A5A5A5A5A2B2C80AA2A>0 D<5A1380EA03C013E013F0EA07F813
FC13FEEA0FFF13FCEA1FE01300123C1270126012801010808F2A>9
D<13011306130E133C13F81207EA3FF012FFEA7FE0123F121FEA0FC012071203EA018012
00101066A92A>18 D<1302131E137EEA01FE120F12FFA2120F1201EA007E131E13020F0C
7E852A>27 D<EAFFF0EA7FE0A3EA3FC0A2EA1F80A2EA0F00A31206A40C0F86902A>63
D<7E7E12607E7E7E7E7E6C7E6C7E13607F7F7F7F7F6D7E6D7E146080808080806E7E6E7E
156081818181816F7E6F7E16608282828282EE0180EE00C0176017202B2C80AA2A>I<13
801201EA03C01207120FEA1FE0123F127FEAFFF0123FEA07F81200133C130E1306130110
10668F2A>82 D E /Fg 7 24 df<12FEEAFFF0EA01FE38000FC0EB01F0EB003C140FEC03
80EC00E0157015188181816F7E6F7E1660A28282A282A282A282A3EE0180A3EE00C0A517
60A72B2BA98153>16 D<1760A717C0A5EE0180A3EE0300A31606A25EA25EA25E5EA25E4B
5A4BC7FC15065D5D15705DEC0380020FC8FC143CEB01F0EB0FC0D801FEC9FCEAFFF048CA
FC2B2BA9AA53>I<12C0A71260A47EA37EA37EA27EA27EA26C7E6C7E1360A27F7F7F7F7F
EB01C06D7E1430141C140FEC03C0EC00F8153FED07F0923800FFE0160F2B2B80AA53>I<
EE0FE016FF923807F000033FC7FC15F8EC03C0020FC8FC141C143014E0495A49C9FC1306
5B5B5B5BA25B485A48CAFCA21206A25AA25AA35AA35AA45AA72B2B808153>I<12FEEAFF
F8EA01FF380007E0EB00FC141FEC0380EC00E01578151C15076F7EED00C0166082828282
82707EA2707E1760A283A28383A283A383A3EF0180A3EF00C0A61860A718203334B18164
>I<18201860A718C0A6EF0180A3EF0300A31706A35FA25F5FA25FA25F4C5AA24CC7FC16
065E5E5E5E5EED03804BC8FC151C157815E0EC0380021FC9FC14FCEB07E048B4CAFCEAFF
F848CBFC3334B1B364>I<EF0FF0EE01FF93380FF000047EC7FCED03F0ED0F80031CC8FC
15704A5AEC03800206C9FC141C5C14605C495A49CAFC13065B5BA25B5B5BA2485AA248CB
FC1206A25AA35AA35AA35AA55AA712403434808164>23 D E /Fh
2 13 df<EA03C0380C3040EA101800201380EA600C12C0EB0D00130E1280130CEAC01C13
2C3860C480381F0300120E7E8D17>11 D<130FEB3080EBC0C0380100401460000213C05A
1480130138083F00133E130114801210A438300300A21306EA280CEA4418EA43E00040C7
FCA25AA4131D7F9614>I E /Fi 6 111 df<EA10031220EA400113C1A2EA8182A2EAC104
EAE79CEA7EF8EA3CF0100B7F8A13>33 D<EA01F9EA0607EA0803EA1002A213001218EA0F
80EA03F0EA00381308A21240A21310EAE060EA9F8010117D9013>83
D<383FFFC0EA30600040134013C01280A200001300485AA448C7FCA41206EA3FE012117E
9012>I<1204120C1200A5123012581298A21230A212601264A21268123006127E910B>
105 D<3871F1F0389A1A18EA9C1CEA9818121838303030A214321462386060641438170B
7E8A1B>109 D<EA71F0EA9A18129C12981218EA3030A213321362EA606413380F0B7E8A
13>I E /Fj 16 117 df<13C0A9B51280A23800C000A911147E8F17>43
D<121FEA3180EA60C0EA4040EAC060A8EA4040EA60C0EA3180EA1F000B107F8F0F>48
D<1218127812981218AC12FF08107D8F0F>I<121FEA6180EA40C0EA806012C01200A213
C0EA0180EA030012065AEA10201220EA7FC012FF0B107F8F0F>I<121FEA2180EA60C0A2
12001380EA0100121FEA00801340136012C0A2EA8040EA6080EA1F000B107F8F0F>I<EA
03F1EA0C0BEA1807EA3003EA60011240EAC000A5EA40011260EA30021218EA0C0CEA03F0
10117E9016>67 D<123E1263EA0180A2120F12311241EAC190A21263EA3DE00C0B7F8A0F
>97 D<EA1F80EA30C0EA60005AA5EA6040EA3080EA1F000A0B7F8A0E>99
D<EA01E0EA0060A5120FEA30E0EA606012C0A51260EA30E0EA1F780D117F9011>I<121F
EA3180EA60C012C012FFEAC000A3EA6040EA3080EA1F000A0B7F8A0E>I<1207EA0D80EA
1800A4B4FC1218A9127E091180900A>I<1220127012201200A412F01230A912FC061280
9108>105 D<12F01230AF12FC0611809008>108 D<121FEA3180EA60C0EAC060A5EA60C0
EA3180EA1F000B0B7F8A0F>111 D<123D12031281A21278123E12031281A212C212BC08
0B7F8A0C>115 D<1208A212181238B4FC1218A51380A4EA0F00090F808E0C>I
E /Fk 54 123 df<EA03C7120FEA0C47EA1C07A5EAFFC7A2EA1C07AD1017809613>13
D<12031206120C121C12181238A21270A3126012E0AC12601270A31238A21218121C120C
1206120308227D980E>40 D<12C01260123012381218121CA2120EA312061207AC120612
0EA3121CA2121812381230126012C008227E980E>I<1330ABB512FCA238003000AB1618
7E931B>43 D<12E0A312601240A212C003077D820A>I<EAFF80A2090280880C>I<EA07C0
EA1FF0EA3C78EA701CA2EA600CEAE00EAAEA701CA2EA783CEA3C78EA1FF0EA07C00F167F
9512>48 D<1202120E12FEA2120EB0EAFFE0A20B167D9512>I<EA0FC0EA3FE0EA7070EA
6038EAE01C1240A21200A21338A2137013E013C0EA0180EA030012065A5A5AEA7FFCA20E
167F9512>I<12E0A31200A912E0A3030F7D8E0A>58 D<B512FCA2C8FCA6B512FCA2160A
7E8C1B>61 D<EA1F80EA7FC0EAE0E0EAC0701240120013E01201EA038013001206A4120E
1204C7FCA4120EA30C177E9611>63 D<137013F8A2EA01DCA2139CEA038EA2130E487EA2
380E0380A2120C381C01C0EA1FFF4813E0EA3800A2481370A2126000E0133815177F9618
>65 D<EAFFF013FCEAE01E1307EB0380A4EB0700131EEAFFFCA2EAE01FEB0780130114C0
A4EB0380EB0F00EAFFFE13F812177D9618>I<13FF000313C0EA0F83EA1E004813001238
5AA25AA71270A27E003C13406C13C0EA0F813803FF803800FE0012177E9617>I<EAFFF0
13FCEAE01E1307EB0380A2EB01C0A2EB00E0A714C01301A2EB0380EB0700131EEAFFFC13
F013177D9619>I<EAFFFEA2EAE000A8EAFFFCA2EAE000A9B5FCA210177D9615>I<EAFFFE
A2EAE000A8EAFFF8A2EAE000AB0F177D9614>I<13FE3803FF80380F83C0EA1E005A0038
13005AA25AA4EB1FE0A213001270A27E123C7EEA0F813803FFC03800FE0013177E9618>
I<12E0B3A503177D960A>73 D<00F8131FA300EC1337A200EE137700E61367A200E713E7
00E313C71381A200E1138713C3A200E0130713E7A21366A2133CA318177D961F>77
D<38F801C0A212FCA212EEA212E7A2EAE381A2EAE1C112E013E11371A21339A2131DA213
0FA21307A212177D9619>I<EAFFF013FCEAE01E1307EB0380A5EB0700131EEAFFFC13F0
00E0C7FCAA11177D9617>80 D<EAFFF013FCEAE01E1307EB0380A4EB0700131EEAFFFC13
F0EAE070A27F1318131C7FA27F7F1480EB01C012177D9617>82 D<EA07E0EA1FF8EA383C
EA600C12C01300A27E1270127EEA3FE0EA0FF0EA01F8EA001C130E1306A312C0EAE00CEA
F838EA7FF0EA0FC00F177E9614>I<B512F8A238007000B3A315177F9618>I<38E00380B2
38700700EA780FEA3C1EEA1FFCEA07F011177D9618>I<12FEA212E0B3AB12FEA207217E
980A>91 D<12FEA2120EB3AB12FEA2072180980A>93 D<EA1FC0EA7FE0EA7070EA403812
00A2EA01F8121FEA7E3812F012E0A2EAF078EA7FF8EA3FB80D0F7F8E11>97
D<12E0A8EAE7C0EAFFE0EAF870EAE038A2131CA51338A2EAF0F0EAFFE0EAE7800E177E96
12>I<EA07E0EA1FF8EA3838EA7000A25AA512701308EA3838EA1FF8EA07E00D0F7F8E10>
I<131CA8EA079CEA1FFCEA3C3CEA701CA212E0A51270133CEA387CEA1FFCEA0F9C0E177F
9612>I<EA0F80EA1FE0EA3870EA7030EA6038EAE018EAFFF8A2EAE000A212601270EA38
18EA1FF8EA07E00D0F7F8E10>I<EA03E01207EA0C20EA1C00A5EAFF80A2EA1C00AD0B17
80960B>I<EA0F9FEA1FFFEA38F0EA7070A4EA38E0EA3FC0EA6F80EA60001270EA7FF0EA
3FF8EA7FFCEA701EEAE00EA3EA783CEA3FF8EA0FE010167F8E12>I<12E0A8EAE7E0EAEF
F0EAF878EAF03812E0AB0D177E9612>I<12E0A31200A612E0AF03187E9708>I<12E0A813
F8EAE1F0EAE3E013C0EAE780EAEF0012FE7E138012F3EAE1C013E012E013F013780D177E
9611>107 D<12E0B3A503177E9608>I<38E7E1F838EFF3FC38F87E1E38F03C0EEAE038AB
170F7E8E1C>I<EAE7E0EAEFF0EAF878EAF03812E0AB0D0F7E8E12>I<EA07C0EA1FF0EA38
38EA701CA2EAE00EA5EA701CA2EA3C78EA1FF0EA07C00F0F7F8E12>I<EAE7C0EAFFE0EA
F870EAE038A2131CA51338A2EAF0F0EAFFE0EAE780EAE000A60E157E8E12>I<EA079CEA
1FFCEA3C3C1270131C12E0A51270A2EA387CEA1FFCEA0F9CEA001CA60E157F8E12>I<EA
E38012EFEAFC005A5AA25AA9090F7E8E0C>I<121FEA7FC012E01300A27E127FEA3F80EA
0FC0EA01E0128012C0EAE1C0127FEA1F000B0F7F8E0E>I<1238A4EAFFC0A2EA3800AA13
40EA1FC013000A137F920D>I<EAE038AC13F8127FEA3F380D0F7E8E12>I<EAE038A3EA70
70A3EA38E0A3EA1DC0A2EA0D80120FA2EA07000D0F7F8E10>I<38E0F03813F8A213D838
719C70A338318C60383B0CE0130E1306001A13C0EA1E07A2380E0380150F7F8E18>I<EA
701CEA7838EA3870121CEA0EE0EA07C0EA0380A2EA07C0EA0EE0EA0C60EA1C70EA3838EA
701CEAF01E0F0F808E10>I<EAE038A212F0EA7070A2EA386013E01218EA1CC0A2120D13
8012071300A31206A2128C12FC12F00D157F8E10>I<EAFFF0A2EA00E0EA01C0A2EA0380
EA07005A120E5A5AA25AEAFFF0A20C0F7F8E0F>I E /Fl 14 122
df<EA0FE0EA3838EA3C1C131E1218120013FEEA0F9EEA3C1E127812F0A338786FC0EA1F
87120F7F8E14>97 D<EA07F8EA1C0EEA381E1278EA700CEAF000A512701278EA3806EA1C
0CEA07F80F0F7F8E12>99 D<EB1F80A21307A6EA03F7EA1E1FEA38071278127012F0A512
701278EA380F381E1FE0EA07E713177F9617>I<EA07F0EA1C18EA380CEA7806EA700712
F0A2B5FCEAF000A212701278EA3803EA1E06EA03FC100F7F8E13>I<EA01F0EA0718EA0E
3C121E13181300A3EAFFC0A2EA1E00ABEA7F80A20E1780960C>I<12FCA2123CB312FFA2
08177F960B>108 D<EAFC7CEAFD8EEA3E0FA2123CA938FF3FC0A2120F7E8E17>110
D<EA07F0EA1C1C487E487EA200F01380A500701300A2EA380E6C5AEA07F0110F7F8E14>
I<EAFDFCEAFF0F383C038014C0130114E0A514C01303EB0780383F0F00EA3DF8003CC7FC
A4B4FCA213157E8E17>I<EA1FF0EA6070EA403012C0EAE000B4FCEA7FE0EA3FF0EA0FF8
EA0078EAC018A2EAE010EAF020EACFC00D0F7F8E10>115 D<120CA4121CA2EA3FE012FF
EA3C00A71330A4EA1E60EA07C00C157F9410>I<EAFC3FA2EA3C0FAA5B381C2FC0EA0FCF
120F7E8E17>I<38FE07C0A2383C0300EA1E06A26C5AA2139CEA079813F86C5AA26C5AA2
6C5A120F7F8E15>I<38FE07C0A2383C0300EA1E06A26C5AA2139CEA079813F86C5AA26C
5AA26C5AA2EA618012F100F3C7FC12E6127C12157F8E15>121 D
E /Fm 22 107 df<B512FEA217027D891E>0 D<126012F0A2126004047D8A0B>I<6C13C0
EAC00138600300EA30066C5A6C5A6C5A6C5A6C5AA2EA0360EA0630487E487E487E487E38
C001C0EA800012127A911E>I<1203A4EAE31CEA7338EA1FE0EA0780A2EA1FE0EA7338EA
E31CEA0300A40E107E9013>I<137F380188C0380608300008130800107F00207FA20040
7FA20080EB0080A3B6FC38800800A40040EB0100A200201302A200105B00085B00061330
380188C0D8007FC7FC191A7E951E>8 D<137F380180C038060030000813080018130C00
2413120022132200411341384080813980410080132213141308A2131413221341394080
81003841004100221322002413120018130C0008130800061330380180C0D8007FC7FC19
1A7E951E>10 D<EA0780EA1FE0EA3870EA6018A2EAC00CA6EA6018A2EA3870EA1FE0EA07
800E107E9013>14 D<B612807EC9FCA6B61280A2C9FCA6007FB51280B6FC19127E911E>
17 D<1406141E1478EB01E0EB0780EB1E001378EA01E0EA0780001EC7FC127812E01278
121EEA0780EA01E0EA0078131EEB0780EB01E0EB0078141E14061400A6387FFFFCB512FE
171F7D971E>20 D<4A7EA26E7EA21560A2818181B71280A2C8EA0C005D5D5DA25DA24A5A
A221147E9226>33 D<134013C0A3487E487EA2EA0EDCEA3CCF38F0C3C03840C080000013
00B3A41221809913>I<141880A280140780B612C081C81238151EED0780ED0E0015385D
B612C05DC70003C7FC1406A25CA25C21167E9326>41 D<1460A214C0A2EB0180A2EB0300
A213065BA25BA25BA25BA25BA2485AA248C7FCA21206A25A5AA25AA25AA25A124013227B
9900>54 D<0040131000C0133000601360A36C13C0A338180180EA1FFF6C1300EA0C03A2
EA0606A36C5AA2EA0198A3EA00F0A31360A2141A809915>56 D<B512F8A2C71218A8150A
7E8D1A>58 D<EB07E0EB1FF0136113C0380180E00003138000071300A37F13F0EA03FCEA
00F00003C7FC12065A5A12385AA238F00180EB0300EAF804EAFE18EA7FF0EA1F80141A7F
9914>69 D<01061401010E14021606010F140E161E49143E0117143C167C6E13FCED01BC
01231303ED073CECC00E0143EB1C3801411338ED7078903881E06015C0903880F1803901
00F700147F0002137E0066137C00FC0130137C91C7127F48153C00701500281B7E992E>
77 D<13201370A213D8A2EA018CA2EA0306A2EA0603A3380C0180A2381800C0A2481360
A2481330A2481318140815167E951A>94 D<124012C0ABB512C0A200C0C7FCAB1240121A
7E9917>96 D<133C13E0EA01C0EA0380ADEA0700121E12F8121E1207EA0380ADEA01C0EA
00E0133C0E257E9B13>102 D<12F8121E1207EA0380ADEA01C0EA00E0133C13E0EA01C0
EA0380ADEA0700121E12F80E257E9B13>I<12C0B3B302257C9B0B>106
D E /Fn 59 123 df<3801E3801203EA0623EA0E03A6EAFFE3A2EA0E03AF111A809915>
13 D<EAE1C0A31260EA4080A312C10A087F9913>34 D<EB0C06A3495AA4495AA4495AB6
12E0A23900C06000A348485AA3B612E0A23903018000A2D80603C7FCA5EA0C06A41B217E
9920>I<EA0180EA03001206120E120C121C1218123812301270A3126012E0AC12601270
A3123012381218121C120C120E12067EEA018009267D9B0F>40 D<12C012607E12381218
121C120C120E12061207A37E1380AC13005AA31206120E120C121C1218123812305A5A09
267E9B0F>I<130CACB61280A2D8000CC7FCAC191A7E951E>43 D<12E0A312601240A312
C003087C820B>I<EAFFC0A20A0280890D>I<1304130C1318A31330A31360A313C0A3EA01
80A3EA0300A31206A35AA35AA35AA35AA35AA20E257E9B13>47 D<EA07E0EA1FF8EA3C3C
EA381CEA700EA2EA6006EAE007AAEA6006EA700EA2EA381CEA3C3CEA1FF8EA07E010187F
9713>I<5A1207B4FCA21207B2EA7FF0A20C187D9713>I<EA0FC0EA1FF0EA3878EA601CEA
E01E1240130E1200131EA2131C133C1338137013E0EA01C0EA0380EA070012065A5A5AEA
7FFEA20F187F9713>I<EA07E0EA0FF8EA3C3CEA301E1260EA200EEA001E131C133C1378
EA07F013E0EA0038131C130E130FA31280EAC00EEA601EEA383CEA1FF8EA07E010187F97
13>I<12E0A31200AB12E0A303117C900B>58 D<B61280A2C9FCA6B61280A2190A7E8D1E>
61 D<EA1FC0EA7FE0EAF070EAC03812401200A2137013F013C0EA018012031300A45AA2
C7FCA51207A30D1A7E9912>63 D<1338137CA2135C13CEA2EA01CF138F13870003138013
07380703C0A21206380E01E0A2EA0FFF4813F0EA1C004813F81478A248137C143C126000
E0131E171A7F991A>65 D<EB7FC03801FFF0EA07C0380F0030001E13005AA25AA25AA812
78A27EA26C13106C13303807C0F03801FFE038007F80141A7E9919>67
D<B51280A200F0C7FCA9B5FCA200F0C7FCABB51280A2111A7D9917>69
D<B5FCA2EAF000AAEAFFFEA2EAF000AC101A7D9916>I<137F3801FFE03807C0F0380F00
70001E1330481300A25AA25AA5EB07F8A2EB00381278A27EA27E7E3807C0F83801FFE038
007F80151A7E991A>I<12F0B3A8041A7D990B>73 D<12F0B3A6EAFFFEA20F1A7D9915>
76 D<00FCEB07E0A300EE130DA200EF131D00E71319A2EB803900E31331A2EBC071A238
E1E0E1A200E013C1A213F1EB7181A2137BEB3B01A2131EA31B1A7D9922>I<00FC1370A2
7EA212EFA2EAE780A2EAE3C0A2EAE1E0A2EAE0F0A21378A2133CA2131EA2130FA2EB07F0
A21303A2141A7D991B>I<EAFFF813FE38F00F80EB03C0A2EB01E0A5EB03C0A2EB0F8038
FFFE0013F800F0C7FCAB131A7D9919>80 D<EAFFF813FE38F00F80EB03C0130114E0A414
C01303EB0F8038FFFE0013F8EAF038133C131C131E7FA2EB0780A2EB03C0EB01E0A2EB00
F0141A7D9919>82 D<EA07F0EA1FFCEA381EEA700EEA6006EAE000A37E7E127FEA3FE0EA
1FF8EA07FCEA00FE131E130F1307A312C0130E12E0EA783CEA3FF8EA07E0101A7E9915>
I<B512FEA238003C00B3A6171A7F991A>I<00F013E0B3A2387801C0A2383C0380381E0F
00EA0FFEEA03F8131A7D991A>I<00F0130EA20078130C141CA26C1338A2123E001E1370
A26C13E0A3380781C0A23803C18013C3A23801E30013E7EA00E6A213F6137CA21338171A
7F991A>I<00F8EB0780007C14006C130E001E131E001F131C6C6C5A00071378EBC0706C
6C5A1201EBF1C0EA00FBEB7B80013FC7FCA2131EAB191A80991A>89
D<12FFA212E0B3AF12FFA208257E9B0B>91 D<12FFA21207B3AF12FFA20825809B0B>93
D<EA0FC0EA3FF0EA7878EA6038EA401C1200A213FC120FEA3F1C127812E0A3EA707CEA7F
FCEA1F9C0E117F9012>97 D<12E0A9EAE7C0EAFFF0EAF878EAF038EAE01C130C130EA513
1CA2EAF0381370EAFFE0EAE7C00F1A7D9914>I<EA07E0EA0FF8EA1C1CEA380CEA700012
6012E0A512601270EA3804EA1C1CEA0FFCEA07F00E117F9011>I<130EA9EA07CEEA0FFE
EA1C1EEA380E1270A212E0A51270A2EA381EEA3C3EEA1FEEEA07CE0F1A7F9914>I<EA07
C0EA1FF0EA3C70EA7018A2EAE00CA2EAFFFCA2EAE000A2126012707EEA3C0CEA1FFCEA07
F00E117F9011>I<EA03F01207EA0E10EA1C00A6EAFFC0A2EA1C00AF0C1A80990C>I<3807
8780EA1FFF38387C001370487EA46C5AA2EA3FE0EA77800070C7FCA2EA3FF013FC7FEA70
0F487EA3EA700EEA781EEA1FF8EA07E011197F9013>I<12E0A9EAE3C0EAEFF0EAF870EA
F038A212E0AC0D1A7D9914>I<12F0A41200A61270B1041B7E9A0A>I<12E0A9137C137813
F0EAE1E0EAE3C0EAE780EAEF00B4FC138012FBEAF3C0EAE1E012E013F013701338133C0E
1A7D9913>107 D<12E0B3A8031A7D990A>I<38E3C0F038EFF3FC38F8761C38F03C0EA2EA
E038AC17117D901E>I<EAE3C0EAEFF0EAF870EAF038A212E0AC0D117D9014>I<EA07E0EA
1FF8EA3C3CEA381CEA700EEA6006EAE007A5EAF00FEA700EEA781EEA3C3CEA1FF8EA07E0
10117F9013>I<EAE7C0EAFFF0EAF878EAF038EAE01CA2130EA5131CA2EAF0381370EAFF
E0EAE7C0EAE000A70F187D9014>I<EA03CEEA0FFEEA1C3EEA381EEA700EA212E0A51270
A2EA381EEA3C3EEA1FFEEA07CEEA000EA70F187F9014>I<EAE1C012E712EFEAFE0012F8
5AA25AAA0A117E900D>I<EA1F80EA3FE0EA7060EAE000A312F8EA7F80EA3FC0EA07E0EA
00F01370128012C0EAF0E0EA7FC0EA1F800C117F900F>I<1238A4EAFFC0A2EA3800AC13
60EA1FE0EA0F800B157F940E>I<EAE038AD137813F8127FEA3F380D117D9014>I<EAE00E
A212F0EA701CA2EA38181338A2EA1C301370A2EA0E6013E0A2EA07C0A2EA03800F117F90
12>I<38E0780E137CA2136C3870CC1C13CEA23838C618383986381387138338190330A2
001D1370380F01E0120EA217117F901A>I<EA7007EA780EEA381CEA1C3CEA0E386C5A6C
5A5B1201487EEA0770EA0E30EA0C38EA1C1C487E487E00F013801111809012>I<EAE00E
A21270131C1278EA3838A2121C1370120CEA0E60A2EA06E013C012031380A31300A21206
128E12FC5A0F187F9012>I<EAFFF8A2EA007013F013E0EA01C0EA0380A2EA0700120EA2
5A5A12781270EAFFFCA20E117F9011>I E /Fo 33 122 df<EB7F803801E0C0380780E0
380F01F0A3EB00E01400A2B512F0A2EA0F00AD383FC3FCA2161A809919>12
D<13401380EA0300120212065A121C12181238A25AA412F0A91270A47EA21218121C120C
7E12021203EA008013400A257C9B11>40 D<7E12401230121012187E120E12061207A2EA
0380A413C0A91380A4EA0700A21206120E120C5A1210123012405A0A257E9B11>I<EA01
80120712FFA21207B2EAFFFCA20E187C9716>49 D<EA0FF0EA3FFCEA787EEAFC1F148013
0FA21278EA001F1400131E5B5B13705BEA0180380301801206120CEA1003383FFF005AB5
FCA211187E9716>I<EA07F0EA1FFCEA383E127C7FA3EA383FEA003E133C5BEA07F0EA00
3C133E7F1480127812FCA2140012F8EA703EEA3FFCEA0FF011187E9716>I<1303497EA2
497EA3EB1BE0A2EB3BF01331A2EB60F8A2EBE0FCEBC07CA248487EEBFFFE487FEB001F48
14800006130FA248EB07C039FF803FFCA21E1A7F9921>65 D<90381FE0209038FFFCE038
03F80F3807C003381F800190C7FC123E007E1460127C00FC1400A8007C1460127E123E6C
14C07F3907C003803903F80F003800FFFCEB1FF01B1A7E9920>67
D<B512F014FC380F803FEC0F80EC07C0EC03E0A2EC01F0A215F8A815F0A2140315E0EC07
C0EC0F80EC3F00B512FC14F01D1A7E9922>I<B512FCA2380F803C141C140C140E1406A2
EB81861480A2138313FFA213831381A3EB8000A6EAFFFCA2171A7E991C>70
D<EAFFFCA2EA0F80AE140CA3141CA21438147814F8B5FCA2161A7E991B>76
D<B512E014F8380F807E80801580A51500143E5CEBFFF80180C7FCAAEAFFF8A2191A7E99
1E>80 D<B512C014F8380F807E80801580A41500143E14FCEBFFE01381EB80F01478147C
A3147EA3150C143F39FFF81F18EC07F01E1A7E9921>82 D<007FB51280A238781F070070
13030060130100E014C000C01300A300001400AF3807FFFCA21A1A7E991F>84
D<EA1FF0EA383CEA7C1E7FA21238120013FFEA0FCFEA3E0F127C12F8A31317387C27E0EA
1FC313117F9015>97 D<EA03FCEA0F0EEA1C1F123C1278130E00F8C7FCA51278A2383C01
80381C0300EA0F06EA03FC11117F9014>99 D<EB07E0A21301A7EA03F9EA0F07EA1C03EA
3C011278A212F8A51278A2123CEA1C03380F0DF8EA03F9151A7F9919>I<EA03F0EA0E1C
487EEA3C071278148012F8A2B5FC00F8C7FCA21278A2383C0180381C0300EA0E06EA03FC
11117F9014>I<13FEEA03C738078F80EA0F0FA2EB070090C7FCA3EAFFF0A2000FC7FCAD
EA3FE0A2111A80990E>I<12FCA2123CA7133EEBC780EA3D03003E13C0A2123CAA38FF0F
F0A2141A7E9919>104 D<123C127EA4123C1200A412FCA2123CAD12FFA2081B7E9A0D>I<
12FCA2123CB3A412FFA2081A7E990D>108 D<39FC3E03E09038C78C78393D039038003E
EBE03CA2003C13C0AA39FF0FF0FFA220117E9025>I<EAFC3EEBC780EA3D03003E13C0A2
123CAA38FF0FF0A214117E9019>I<EA03F8EA0E0E383C0780EA3803007813C0A200F813
E0A6007813C0EA7C07003C1380380E0E00EA03F813117F9016>I<EAFCFE38FF8780383E
03C0383C01E014F0130014F8A514F0130114E0383E03C0383F0780383CFE0090C7FCA5B4
FCA215187E9019>I<EAF8F0EAF938EA3A7CA2123C13381300A9EAFF80A20E117E9012>
114 D<EA1FD8EA2078EA401812C0A2EAF000EAFF80EA7FE0EA3FF0EA07F8EA003CEAC00C
A212E01308EAF830EACFE00E117F9011>I<1206A4120EA2121EEA3FF012FFEA1E00A813
18A5EA0F30EA03E00D187F9711>I<38FC0FC0A2EA3C03AB1307A2381E0BF0EA07F31411
7E9019>I<38FF03F0A2383E01C0001E1380EA1F03000F1300A2EA0786A2EA03CCA213FC
6C5AA26C5AA2136014117F9017>I<39FF1FE1F8A2393C078060001E14C014C0EB0DC100
0F1480EB1DE1390798E30014F3EBB0733803F076147EEBE03E0001133CA23800C0181D11
7F9020>I<38FF03F0A2383E01C0001E1380EA1F03000F1300A2EA0786A2EA03CCA213FC
6C5AA26C5AA21360A2EA70C012F812F95B0077C7FC123C14187F9017>121
D E /Fp 38 123 df<EA01F038070C08380C0E10EA1807123000701320126000E01340A2
14801400A3EA601B383063A0380F81C015107F8F19>11 D<EB03C0EB0C301310EB203813
401380EA0100A2000213701460EB1FC0131138041F60EB0070A35AA31460001813E014C0
EB018038140300EA230EEA20F890C7FCA25AA45A1521809916>I<000F1340383F8080EA
7FC0387BC100EAC061EA802212001314A21318A31310A31330A35BA4134012177E8F14>
I<1370EA01FE130EEA02001203A3EA018013C0A2EA00E0EA01F0EA0770EA0C781218EA30
381270126012E0A3133013701360EA60C0EA3080EA0F000F1B7F9A11>I<EA703EEA58C7
389D0380129E129CA238380700A4EA700EA4485A12601200A25BA4133011177E8F13>17
D<120FEA03807F1201A27F1200A27F1370A213781338A2133C137C13DEEA018EEA030EEA
060F487E121C00381380EA700312E038C001C0121A7E9916>21 D<000613C0000713E038
0E01C0A4381C0380A438380720A3EA3C0F387C33403877C1C00070C7FCA25AA45A13177F
8F17>I<381FFFE05A4813C038410800EA8218EA02101206A21204EA0C38A2121C1218EA
383C131CEA301813107E8F16>25 D<1378EA01C6EA0306EA07031206120EEA1C07A4EA38
0E130C131C1318EA7470EA73C0EA7000A25AA45A10177E8F14>I<3803FFE05A4813C038
1C3C00EA381C1270126012E0A3485AA25BEA6060EA61C0001FC7FC13107E8F16>I<381F
FF805A481300EA408012801201A348C7FCA35AA3120E120611107E8F11>I<1302A25BA4
5BA413FE38039180380E10C000181360383820701270126012E01340146014E0EB41C038
60818038308700EA189CEA07F00001C7FCA41202A314217F9917>30
D<5BA21302A45BA438380830004C1338124E008E1318EA9C10A2001C1310123813201420
1270003013403838408038184100EA0E46EA03F8EA0080A448C7FCA315217E9919>32
D<0010133014385A14185A133000801310A213601420146038C0E0C0EAF7F338FF7F8038
7E3F00EA3C1C15107F8F18>I<EA01F0EA0FFCEA1C0CEA30001220EA2180EA2E40EA3FC0
EA4000A25AA2EAC008EA6030EA3FE0EA1F800E107F8F12>I<126012F0A2126004047D83
0B>58 D<126012F0A212701210A31220A21240A2040B7D830B>I<141014301470A214F8
14B8EB01381302A21304130C1308EB103C141C13201340EB7FFCEB801CA2EA0100120280
5A120C121CB4EBFFC01A1A7F991D>65 D<0003B512C038007001140015405BA43901C020
00A3146048B45A13801440A248485A1401A21402120E14061404140C481338B512F81A1A
7E991C>69 D<EB1F08EB60D8EB8038EA01004813101206A31400120713C0EA03FC6CB4FC
38007F80EB0FC01301A213001220A238600180A2EB0300EA7006EACC1CEA83F0151A7E99
17>83 D<003FB5128038380E010020130012405B1280A348481300A45BA45BA4485AA412
03EA7FFC191A7F9916>I<39FF800FE0391E0007001406000E1304000F5B6C5B5C6D5A00
0313C0EBC180000190C7FC13C213E4EA00E813F013705BA4485AA4485AEA1FF81B1A7E99
16>89 D<EA03E6EA0617EA1C0E123812301270EA601C12E0A3133912C012E0EA6079EA21
9AEA1E0E10107F8F14>97 D<EA01F0EA0608EA1C04123812701308EAFFF0EAE000A41304
EA60081310EA3060EA0F800E107F8F12>101 D<EB07C0EB0C60EB1CE0EB18C0EB3800A4
5BA2EA07FFEA0070A25BA5485AA6485AA390C7FCA2126712E65A127813217E9913>I<EB
F980380185C038070380120E120C121C381807001238A3130E12301238EA181EEA087CEA
079CEA001CA25B1260EAE070485AEA7F801217808F12>I<EA1F801203A348C7FCA4120E
A2133E13C7381D0380121E121CA238380700A3130E00701340A2131C1480EAE00C386007
00121A7F9916>I<120313801300C7FCA7123C124EA2128EA2129C121CA25AA212391271
A21272A2123C091A7E990D>I<EA1F801203A348C7FCA4120EA21307EB1980EA1C231341
EB8000001DC7FC123EEA3FC0EA38E01370EA7071A31372EAE032EA601C111A7F9914>
107 D<EA703EEA58C7389D0380129E129CA238380700A3130E00701340A2131C1480EAE0
0C3860070012107E8F17>110 D<EA30F0EA5918EA9E38EA9C181300A25AA45AA45A1260
0D107E8F11>114 D<EA03E0EA06181208EA18381330EA1C00EA1FC0EA0FE0EA07F0EA00
70133012E0A2EA8060EA40C0EA3F000D107E8F12>I<1206120EA45AA2EAFFE0EA1C005A
A45AA4EAE080A2EAE100A2126612380B177E960E>I<EA3803004C1380384E0700128E12
9CA2EA1C0E1238A338701C80A3EA303C38184D00EA0F8711107E8F16>I<381C03060026
13873847070700871303128EA2380E0E02121CA338381C04A200181308001C1310380C26
303807C3C018107E8F1C>119 D<380787803808C8C0EA10F1EA20E01400A2EA01C0A4EA
0381A212C3EAE582EAC584EA787812107F8F16>I<EA3803004C1380384E0700128E129C
A2EA1C0E1238A3485AA3EA303C6C5AEA0FB8EA00385B1260EAE0E0485AEA4380003EC7FC
11177E8F13>I<EA0381EA07C2EA0FFCEA10041308EA003013401380EA01001202EA0C04
1210EA200CEA3FF8EA41F0EA80E010107F8F12>I E /Fq 49 122
df<EB03FEEB0E03EB1C07EB1806EB3800A35BA33807FFFC3800701CEBE038A41470EA01
C0A314E4A2EA0380A21468143090C7FC5AA2126612E65A12781821819916>12
D<1218123CA2121C1208A31210122012401280060B78990C>39 D<121812381278123812
081210A21220A212401280050B7D830C>44 D<EAFF80A2130009037D880E>I<12301278
12F0126005047C830C>I<38030180EBFF0013FCEA022048C7FCA45AEA0BE0EA0C181208
EA001CA412201270485AEA8030EA40705BEA2180001EC7FC11187C9714>53
D<133EEBC180EA0100000213C01206A2380E0180380703001386EA03CCEA01F07FEA067C
487EEA181EEA30071260A2EAC006A2EA400CEA6018EA3070EA0FC012187D9714>56
D<1206120F121E120C1200A81230127812F0126008107C8F0C>58
D<1420146014E0A2130114F0EB0270A213041308A21310A213201340A2EB8038EBFFF838
0100381202A25AA25A121838FE01FF181A7E991D>65 D<3803FFF83800700E1406140713
E0A43801C00E141C143814703803FFE0EB80781438141CEA0700A4000E1338A2147014E0
381C03C0B51200181A7D991B>I<EB0F82EB7062EBC0163803801E3807000C120E5A1218
00381308123000701300A25AA41420A314401260148038300100EA1006EA0C18EA03E017
1A7A991B>I<3803FFF83800700E80809038E00180A315C0EA01C0A43903800380A31500
48485AA2140E140C000E131C5C5C5C381C0380D8FFFEC7FC1A1A7D991D>I<0003B5FC38
0070071403140113E0A43801C080A313C13803FF001381A3EA0702EB0004A21408120E14
18141014304813E0B5FC181A7D991A>I<0003B5FC380070071403140113E0A43801C080
A313C13803FF001381A3EA070290C7FCA3120EA4121EEAFFC0181A7D9919>I<EB0FC1EB
3021EBC0133801800F38070006120E120C5A00381304123000701300A25AA3EB07FEEB00
70A4006013E0A27EEA1801380C0640EA03F8181A7A991E>I<3903FF1FF83900700380A3
9038E00700A43801C00EA43803FFFCEB801CA348485AA4000E5BA4485B38FF87FC1D1A7D
991D>I<EA03FFEA0070A313E0A4EA01C0A4EA0380A4EA0700A4120EA45AEAFF80101A7D
990F>I<EBFFC0EB0E00A35BA45BA45BA45BA4EA61C012E15B12830047C7FC123C121A7C
9914>I<EA03FFEA0070A35BA4485AA4485AA448C7FC1410A21420120E1460144014C038
1C0380B5FC141A7D9918>76 D<D803F8EB1FC0D80078EB3C00A2155C01B85BA290389C01
38A239011C0270A21404140800025C1410A214200004EB41C0A21481A239080F0380A213
0EEA180C4AC7FC39FE083FE0221A7D9922>I<3903F007F839007800C01580A290389C01
00A3138E38010E0213061307A238020384A3EB01C4000413C8A2EB00E8A24813F01470A2
1218142012FE1D1A7D991D>I<EB1F80EB70603801C030380300180006131C000E130C5A
0018130E123812301270A248131CA31438A21430147014E014C03860018038700300EA38
06EA1C1CEA07E0171A7A991D>I<3803FFF83800701C1406140713E0A43801C00EA2141C
143838038060EBFF80EB8000A248C7FCA4120EA45AB47E181A7D991A>I<EB3F10EB6090
3801807013004813201206A31400120713C0EA03F8EA01FEEA007FEB0F8013031301A212
20A238600300A21306EA700CEAC818EA87E0141A7D9916>83 D<383FFFFC38381C0C0020
1304124013381280A338007000A45BA4485AA4485AA41207EAFFF8161A79991B>I<3AFF
87FC1FC03A3C00E007000038140413015D1302001C5C13045D13085D13105DD920E1C7FC
134014E2138014E4EA1D0014E8121E1470121C146012181440221A789926>87
D<EA03CCEA0E2EEA181C123812301270EAE038A4EAC072A3EA60F2EA6134EA1E180F107C
8F14>97 D<127E120EA35AA45AA2EA3BC0EA3C301278EA7018A3EAE038A4EAC070136013
E0EA60C0EA6380EA1E000D1A7C9912>I<EA01E0EA0618120CEA1838EA3010EA70001260
12E0A413081310EA6020EA30C0EA1F000D107C8F12>I<EB1F801303A3EB0700A4130EA2
EA03CEEA0E2EEA181C123812301270485AA4EAC072A3EA60F2EA6134EA1E18111A7C9914
>I<EA01E0EA0E18EA1C08123812701310EAFFE0EAE000A41308EA60101320EA30C0EA1F
000D107C8F12>I<1307EB0980131BEB3B00133813301370A4EA07FFEA00E0A5485AA548
5AA490C7FC5AA21206126612E412CC1270112181990C>I<13F338038B8038060700120E
120C121CEA380EA4EA301CA3EA183C5BEA07B8EA0038A25B1260EAE0E0EAC1C0007FC7FC
11177E8F12>I<EA1F801203A348C7FCA4120EA2137CEA0F86EA1E07A2121CA2EA380EA3
5B00701380A21338EB3900EAE019EA600E111A7E9914>I<1203120712061200A6123812
4C124E128E129CA2121C1238A212701272A212E212E41264123808197C980C>I<EA1F80
1203A3EA0700A4120EA2130E1313EA1C2713431380EA1F00123CEA3F80EA39C0EA38E0EA
70E2A313E4EAE064EA6038101A7E9912>107 D<121F1207A3120EA4121CA41238A41270
A412E4A412E81230081A7D990A>I<38307C1E38598663399E0783801403129CA239380E
0700A3140ED8701C1340A2141C158038E0380C39601807001A107C8F1F>I<EA307CEA59
86EA9E07A2129CA2EA380EA35B00701380A21338EB3900EAE019EA600E11107C8F16>I<
EA01F0EA0618EA0C0CEA180E12301270126012E0A2130C131C13181330EA6060EA30C0EA
1F000F107C8F14>I<EA030F380590C0EA09E0EBC060A3380380E0A4380701C014801303
1400EA0E8E137890C7FCA25AA4B4FC1317808F14>I<EA30F0EA5D18EA9E38EA9C181300
A25AA45AA45A12600D107C8F10>114 D<EA03E0EA04301208EA18701360EA1C00EA1F80
13C0EA0FE01200136012E0A2EA80C0EA4180EA3E000C107D8F10>I<1206120EA45AA2EA
FFC0EA1C005AA45AA412E1A312E212E412380A177C960D>I<EA3806EA4C07EA4E0E128E
129CA2EA1C1C1238A3EA7039A3EA3079EA389AEA0F0C10107C8F15>I<EA3818EA4C1C12
4EEA8E0C129CA2EA1C081238A213101270A21320EA3040EA18C0EA0F000E107C8F12>I<
38380C10384C0E38EA4E1C008E1318129CA2381C38101238A338707020A2144012303818
B880380F0F0015107C8F19>I<EA078F3808D180EA10F3EA20E1EBE000A2EA01C0A4EA03
82A212C3EAE784EAC588EA78F011107E8F12>I<EA3806EA4C07EA4E0E128E129CA2EA1C
1C1238A3EA7038A3EA3078EA38F0EA0F7012001360EA60E0EAE1C0EAC180EA4700123C10
177C8F13>I E /Fr 85 124 df<1318A3133CA3134EA31387A338010380A2000313C0EA
0201A2000413E01300A24813F01470A200181378123838FE01FF181A7F991B>3
D<B612C0390E001C00B3A639FFE1FFC01A1A7F991D>5 D<EBFE7C380381C6380603CE00
0E1384001C1380A6B512F0381C0380AE38FF8FF0171A809916>11
D<13FEEA038138060180EA0E03381C010090C7FCA5B51280EA1C03AE38FF8FF0141A8099
15>I<EBFF80EA0383EA0603120E121CA6B5FCEA1C03AE38FF9FF0141A809915>I<90387E
1F803901C17040390703C0600006EB80E0000E14401500A5B612E0380E0380AE397F8FE3
FC1E1A809920>I<126012F0A61260AA12201200A4126012F0A21260041A7D990B>33
D<EA60C0EAF1E0EAF9F0EA68D0EA0810A3EA1020A2EA2040EA40800C0B7F9913>I<EB0C
06A3495AA4495AA4495AB612E0A23900C06000A348485AA3B612E0A23903018000A2D806
03C7FCA5EA0C06A41B217E9920>I<EA01C0EA0320EA0610120EA45B5BA23907807F8090
38001E0014086D5A120B3811C020EA31E000605BEB7080EAE078013DC7FC6D1380130E39
701F0100383861C3380F807C191A7E991E>38 D<126012F012F812681208A31210A21220
1240050B7D990B>I<1380EA010012025A120C120812185AA35AA412E0AA1260A47EA37E
1208120C12047E7EEA008009267D9B0F>I<7E12407E7E12181208120C7EA37EA41380AA
1300A41206A35A1208121812105A5A5A09267E9B0F>I<130CACB61280A2D8000CC7FCAC
191A7E951E>43 D<126012F0A212701210A31220A21240A2040B7D830B>I<EAFFC0A20A
0280880D>I<126012F0A2126004047D830B>I<EA07E0EA1C38EA381CEA300CEA700EEA60
06A2EAE007AAEA6006A2EA700EEA300CEA381CEA1C38EA07E010187F9713>48
D<12035AB4FC1207B3A2EA7FF80D187D9713>I<EA0F80EA1060EA2030EA4038EA803CEA
C01C12E01240EA003C1338A21370136013C0EA018013001202EA040412081210EA3008EA
3FF8127F12FF0E187E9713>I<EA07E0EA1838EA201CEA601EEA700EEA201E1200131CA2
13381370EA07E0EA0038131C130E130FA212E0A212C0EA400EEA601CEA1838EA07E01018
7F9713>I<1318A21338137813F813B8EA01381202A212041208121812101220124012C0
B5FCEA0038A6EA03FF10187F9713>I<EA3018EA3FF013E01380EA2000A5EA2FC0EA3060
EA2030EA00381318131CA2124012E0A2EA8018EA40381330EA30E0EA0F800E187E9713>
I<EA01F8EA0704EA0C06EA180E123013001270126012E0EAE3E0EAE418EAE80CEAF00EEA
E0061307A31260A2EA7006EA300EEA180CEA0C38EA07E010187F9713>I<1240EA7FFF13
FEA2EA4004EA80081310A2EA00201340A21380120113005AA25A1206A2120EA512041019
7E9813>I<EA07E0EA1818EA300CEA20061260A21270EA780CEA3E18EA1F30EA07C0EA03
E0EA0CF8EA307CEA601E130FEAC0071303A3EA6002EA2004EA1818EA07E010187F9713>
I<EA07E0EA1C30EA3018EA700CEA600EEAE006A21307A31260EA700FEA3017EA1827EA07
C7EA00071306130E130C12701318EA6030EA3060EA0F8010187F9713>I<126012F0A212
601200A8126012F0A2126004107D8F0B>I<126012F0A212601200A8126012F0A2127012
10A31220A21240A204177D8F0B>I<B61280A2C9FCA6B61280A2190A7E8D1E>61
D<EA1FC0EA2060EA4030EAC03812E0A21200137013E0EA018013005A1202A6C7FCA41206
120FA212060D1A7E9912>63 D<130CA3131EA2132F1327A2EB4380A3EB81C0A200017F13
00A248B47E38020070A2487FA3487FA2003C131EB4EBFFC01A1A7F991D>65
D<B51280380E00E014701438143CA514781470EB01E0380FFFC0380E00F01478143C141C
141EA4141C143C147814F0B512C0171A7F991B>I<EB3F023801C0C63803002E000E131E
48130E14065A007813021270A200F01300A600701302A21278003813047E14087E000313
303801C0C038003F00171A7E991C>I<B57E380E00E01470808080A280A21580A81500A2
5C140E5CA2147814E0B51280191A7F991D>I<B512F8380E003814181408140C1404A3EB
0100A35BEA0FFFEA0E037FA3EB0002A314061404A2140C143CB512FC171A7F991A>I<B5
12F8380E003814181408140C1404A3EB0100A35BEA0FFFEA0E037FA390C7FCA8EAFFE016
1A7F9919>I<EB3F023801C0C63803002E000E131E48130E14065A007813021270A200F0
90C7FCA5903801FFC03970000E00A2127812387EA27E000313163801C06638003F821A1A
7E991E>I<39FFE1FFC0390E001C00AB380FFFFC380E001CAC39FFE1FFC01A1A7F991D>I<
EAFF80EA1C00B3A6EAFF80091A7E990E>I<EA0FFEEA0070B3124012E0A2EA40E0EA61C0
EA1F000F1A7E9914>I<EAFFE0000EC7FCB01408A3141814101430147014F0B5FC151A7F
9918>76 D<B414FF000F14F0A2390B800170A23809C002A33808E004A2EB7008A3EB3810
A3EB1C20A2EB0E40A3EB0780A2EB0300121C39FF8307FF201A7F9923>I<00FEEB7FC000
0FEB0E001404EA0B80EA09C0A2EA08E01370A21338131CA2130E1307EB0384A2EB01C4EB
00E4A21474143CA2141C140C121C38FF80041A1A7F991D>I<137F3801C1C03807007000
0E7F487F003C131E0038130E0078130F00707F00F01480A80078EB0F00A20038130E003C
131E001C131C6C5B6C5B3801C1C0D8007FC7FC191A7E991E>I<B51280380E01E0EB0070
14781438143CA4143814781470EB01E0380FFF80000EC7FCABEAFFE0161A7F991A>I<13
7F3801C1C038070070000E7F487F003C131E0038130E0078130F00707F00F01480A80070
140000785B0038130E383C1C1E381C221C380E4138000713F03801E1C039007F8080EB00
C0A214E1EC7F00A2143E141C19217E991E>I<B5FC380E01C0EB0070147880A55C1470EB
01C0D80FFFC7FC380E0380EB00C0801470A31478A31540143CEC1C8039FFE00F001A1A7F
991C>I<EA0FC2EA1836EA200EEA600612C01302A3EAE0001270127EEA3FE0EA1FF8EA03
FCEA007E130E130713031280A3EAC0021306EAE004EAD818EA87E0101A7E9915>I<007F
B5FC38701C0700401301A200C0148000801300A300001400B13803FFE0191A7F991C>I<
39FFE07FC0390E000E001404B200065B12076C5B6C6C5A3800E0C0013FC7FC1A1A7F991D
>I<39FF801FC0391C00070014066C1304A36C5BA26C6C5AA36C6C5AA26C6C5AA3EB7080
A213790139C7FCA2131EA3130CA21A1A7F991D>I<3AFF81FF07F03A3C007801C0001CEC
0080A36C90389C0100A33907010E02A33903830F04EB8207A2150C3901C40388A33900E8
01D0A390387000E0A301305B01201340241A7F9927>I<39FF801FE0391E00070014066C
13046C130CEB800800035BEA01C06D5A00001360EB7040EB78801338011DC7FC131F130E
AAEBFFC01B1A7F991D>89 D<B512C038F8038012E038C00700A2EA800E5BA2485AA25B5B
A2485AA2485A38070040A2120EA24813C04813801301EA70031307B5FC121A7E9917>I<
12FEA212C0B3AF12FEA207257D9B0B>I<EA2040A2EA4080A2EA8100A3EAE1C0EAF1E0A2
EA60C00B0B7A9913>I<12FEA21206B3AF12FEA20725809B0B>I<EA1FC0EA38707FEA101C
1200A2EA03FCEA1E1C1238127012E01480A2133CEA705F381F8F0011107F8F13>97
D<12FC121CA913FCEA1D07381E0380381C01C0130014E0A6EB01C01480381E0300EA1906
EA10F8131A809915>I<EA07F8EA1C1C1238EA700813005AA612701304EA3808EA1C18EA
07E00E107F8F11>I<133F1307A9EA03E7EA0C17EA180F487E127012E0A6126012706C5A
EA1C373807C7E0131A7F9915>I<EA07C0EA1C30EA30181270EA600C12E0EAFFFCEAE000
A41260EA7004EA3808EA1C18EA07E00E107F8F11>I<EA01F0EA0718EA0E38EA1C101300
A6EAFFC0EA1C00AEEAFF800D1A80990C>I<EA0FCF3818718038303000EA7038A4EA3030
6C5AEA2FC00060C7FCA21270EA3FF013FC6C7EEA600FEAC003A4EA6006EA381CEA07E011
187F8F13>I<12FC121CA9137CEA1D87381E0380A2121CAB38FF9FF0141A809915>I<1218
123CA212181200A612FC121CAE12FF081A80990A>I<EA0180EA03C0A2EA0180C7FCA6EA
0FC01201B21241EAE180EAE300127E0A2182990C>I<12FC121CA9EB1FC0EB0F00130C5B
13205B13E0121DEA1E70EA1C7813387F131E7F148038FF9FE0131A809914>I<12FC121C
B3A6EAFF80091A80990A>I<38FC7C1F391D8E6380391E0781C0A2001C1301AB39FF9FE7
F81D107F8F20>I<EAFC7CEA1D87381E0380A2121CAB38FF9FF01410808F15>I<EA07E0EA
1C38EA300CEA700EEA6006EAE007A6EA6006EA700EEA381CEA1C38EA07E010107F8F13>
I<EAFCFCEA1D07381E0380381C01C0A2EB00E0A6EB01C01480381E0300EA1D06EA1CF890
C7FCA6B47E1317808F15>I<EA03E1EA0C13EA180BEA300FEA700712E0A61270A26C5AEA
1C37EA07C7EA0007A6EB3FE013177F8F14>I<EAFC78EA1D9CEA1E1C1308EA1C00ABEAFF
800E10808F0F>I<EA1F20EA60E0EA402012C0A2EAF000127FEA3FC0EA1FE0EA00F0EA80
70133012C01320EAF040EA8F800C107F8F0F>I<1208A41218A21238EAFFC0EA3800A813
20A41218EA1C40EA07800B177F960F>I<38FC1F80EA1C03AB1307120CEA0E0B3803F3F0
1410808F15>I<38FF0F80383C0700EA1C061304A26C5AA26C5AA3EA03A0A2EA01C0A36C
5A11107F8F14>I<39FE7F1F8039381C0700003C1306381C0C04130E380E16081317A238
072310149013A33803C1A014E0380180C0A319107F8F1C>I<38FE3F80383C1E00EA1C08
6C5AEA0F306C5A6C5A12017F1203EA0270487E1208EA181CEA381E38FC3FC012107F8F14
>I<38FF0F80383C0700EA1C061304A26C5AA26C5AA3EA03A0A2EA01C0A36C5AA248C7FC
A212E112E212E4127811177F8F14>I<EAFFF8EAE07012C0EA80E0EA81C0A2EA0380EA07
00A2EA0E04121CA2EA380812701338EAFFF80E107F8F11>I<B512C01201808913>I
E /Fs 44 122 df<EAFFF0A40C047F8B11>45 D<1238127C12FEA3127C123807077C860F
>I<146014E0A2EB01C0A2EB0380A3EB0700A3130EA25BA35BA35BA25BA3485AA2485AA3
48C7FCA3120EA25AA35AA35AA25AA25A132D7DA11A>I<137013F0120712FF12F91201B3
A4387FFFC0A2121D7D9C1A>49 D<EA03FC381FFF8038381FC0387C07E038FE03F0A214F8
1301127C1238EA000314F0A2EB07E0EB0FC01400131E5B13705B3801C018EA0380EA0600
481338381FFFF05A5AB5FCA2151D7E9C1A>I<EA03FC380FFF80381C0FC0383C07E0387E
03F0A31307003C13E01200EB0FC0EB3F803803FE005B38000F80EB07C0EB03E014F014F8
1238127C12FEA214F012FC387807E0383C0FC0381FFF803803FC00151D7E9C1A>I<EB01
C013031307A2130F131F133B1373136313C3EA01831203EA0703120E120C121812381270
12E0B512FEA2380007C0A6EBFFFEA2171D7F9C1A>I<001C13E0EA1FFF14C01480140013
FC13C00018C7FCA4EA19FE381FFF80381E07C0381803E0381001F0120014F8A2127812FC
A314F0EA7803007013E0383C0FC0380FFF00EA03FC151D7E9C1A>I<14E0A2497EA3497E
A2EB06FCA2EB0EFEEB0C7EA2497EA201307F141F01707FEB600FA2496C7E90B5FC4880EB
8003000380EB0001A200066D7EA2000E803AFFE00FFFE0A2231F7E9E28>65
D<903807FC0290383FFF0E9038FE03DE3903F000FE4848133E4848131E485A48C7120EA2
481406127EA200FE1400A7127E1506127F7E150C6C7E6C6C13186C6C13386C6C13703900
FE01C090383FFF80903807FC001F1F7D9E26>67 D<B612E0A23807E00714011400156015
701530A21430A21500147014F013FFA213E014701430A391C7FCA8B57EA21C1F7E9E21>
70 D<903807FC0290383FFF0E9038FE03DE3903F000FE4848133E4848131E485A48C712
0EA2481406127EA200FE91C7FCA591381FFFE0A2007E9038007E00A2127F7EA26C7E6C7E
6C7E6C6C13FE3800FE0190383FFF8E903807FC06231F7D9E29>I<B5380FFFF0A23A07E0
007E00AC90B512FEA29038E0007EADB5380FFFF0A2241F7E9E29>I<B5FCA2EA07E0B3A9
B5FCA2101F7E9E14>I<B57EA2D807E0C7FCB115C0A31401A3EC0380A2140F141FB6FCA2
1A1F7E9E1F>76 D<D8FFE0EC3FF86D147F00071600D806F814DFA3017CEB019FA26DEB03
1FA26D1306A290380F800CA2903807C018A3903803E030A2903801F060A2903800F8C0A2
EC7D80A2EC3F00A3141ED8FFF0903803FFF8140C2D1F7E9E32>I<EB1FF890B5FC3901F8
1F803907E007E0390FC003F0391F8001F890C7FC4814FC4814FE007E147EA200FE147FA9
007E147E007F14FEA26C14FCEB8001001F14F8390FC003F03907E007E03901F81F806CB5
1200EB1FF8201F7D9E27>79 D<B512FEECFF803907E00FE0EC03F0EC01F8A215FCA515F8
A2EC03F0EC0FE090B51280ECFE0001E0C7FCACB5FCA21E1F7E9E24>I<B512FCECFF8039
07E00FE0EC03F081140181A45D14035DEC0FE090B5128002FCC7FCEBE03FEC0F80811407
81A381A31630EC03F802011360B53800FFC0ED3F80241F7E9E27>82
D<3803FC08380FFF38381E03F8EA3800481378143812F01418A26C13007EEA7FC013FE38
3FFF806C13C06C13E06C13F0C613F81307EB00FC147C143C12C0A36C1338147800F81370
38FE01E038EFFFC000811300161F7D9E1D>I<007FB512FCA2397C07E07C0070141C0060
140CA200E0140E00C01406A400001400B10003B512C0A21F1E7E9D24>I<B53801FFE0A2
3A07E0000C00B3A400035C6C7E5D6C6C5B90387E03C090381FFF80D903FCC7FC231F7E9E
28>I<EA07FC381FFF80383F07C0EB03E0EB01F0A2120C1200133FEA07FDEA1F81EA3E01
127C12F8A3EAFC02EA7E0C383FF87E380FE03E17147F9319>97 D<B4FCA2121FAAEB1FC0
EB7FF0EBE0F8EB807CEB007E143EA2143FA6143EA2147C1380381EC1F8381C7FE038181F
8018207E9F1D>I<EA01FE3807FF80381F0FC0123EA2127CEB030000FCC7FCA6127C127E
003E1360003F13C0EA1F813807FF00EA01FC13147E9317>I<EB07F8A21300AAEA01F8EA
07FEEA1F83EA3E01EA7E00127CA212FCA6127CA2127EEA3E01EA1F07380FFEFFEA03F818
207E9F1D>I<EA01FE3807FF80380F83C0381E01E0383E00F05A14F812FCB5FCA200FCC7
FCA3127CA26C1318121E380F80703807FFE0C6138015147F9318>I<EB3F80EBFFC03803
E3E0EA07C71387120FEB83C0EB8000A5EAFFFCA2EA0F80B0EA7FF8A213207F9F10>I<38
03FC3C380FFFFE381E079E383C03DE007C13E0A5003C13C0381E0780381FFF00EA13FC00
30C7FCA21238383FFF806C13F06C13F84813FC3878007C0070133E00F0131EA30078133C
A2383F01F8380FFFE000011300171E7F931A>I<B4FCA2121FAAEB0FC0EB3FE0EB61F0EB
C0F813801300AD38FFE7FFA218207D9F1D>I<121C123E127FA3123E121CC7FCA6B4FCA2
121FB0EAFFE0A20B217EA00E>I<1338137C13FEA3137C13381300A6EA01FEA2EA003EB3
A212301278EAFC3C137CEA7878EA3FF0EA1FC00F2A83A010>I<B4FCA2121FAAEB01FEA2
EB00F014C0EB0380EB0700130C5B137C13FC139E130F001E1380EB07C01303EB01E014F0
EB00F838FFC3FFA218207E9F1C>I<B4FCA2121FB3AAEAFFE0A20B207E9F0E>I<3AFE0FE0
3F8090391FF07FC03A1E70F9C3E09039407D01F0EB807E121FEB007CAC3AFFE3FF8FFEA2
27147D932C>I<38FE0FC0EB3FE0381E61F0EBC0F81380EA1F00AD38FFE7FFA218147D93
1D>I<48B4FC000713C0381F83F0383E00F8A248137CA200FC137EA6007C137CA26C13F8
A2381F83F03807FFC00001130017147F931A>I<38FF1FC0EB7FF0381FE1F8EB80FCEB00
7EA2143E143FA6143E147E147CEB80FCEBC1F8EB7FE0EB1F8090C7FCA7EAFFE0A2181D7E
931D>I<EAFE3EEB7F80381ECFC0138FA2121FEB030090C7FCABEAFFF0A212147E9316>
114 D<EA0FE6EA3FFEEA701EEA600EEAE006A2EAF800EAFFC0EA7FF8EA3FFCEA1FFE1203
EA001FEAC007A212E0EAF006EAF81EEAFFFCEAC7F010147E9315>I<1203A45AA25AA212
3FEAFFFCA2EA1F00AA1306A5EA0F8CEA07F8EA03F00F1D7F9C14>I<38FF07F8A2EA1F00
AD1301A2EA0F063807FCFF6C5A18147D931D>I<3AFFC7FE1FE0A23A1F00F0030014F8D8
0F801306A29038C1BC0E0007140CEBC3BE3903E31E18A29038F60F380001143001FE13B0
3900FC07E0A2EBF80301785BA2903830018023147F9326>119 D<39FFE07F80A2391F00
1C00380F8018A26C6C5AA26C6C5AA2EBF0E000015B13F900005B13FF6DC7FCA2133EA213
1CA21318A2EA783012FC5BEAC0E0EAE1C0EA7F80001EC8FC191D7F931C>121
D E /Ft 48 122 df<126012F0A212701210A21220A21240A2040A7D830A>44
D<EAFF80A2090280870C>I<126012F0A2126004047D830A>I<130813181330A31360A313
C0A3EA0180A3EA0300A21206A35AA35AA35AA35AA35AA20D217E9812>I<EA07C0EA1830
EA3018EA701CEA600CA2EAE00EA9EA600CA2EA701CEA3018EA1C70EA07C00F157F9412>
I<1206120E12FE120EB1EAFFE00B157D9412>I<EA0F80EA30E0EA4070EA8030EAC03812
E0124012001370A2136013C0EA0180EA03001206EA0C081208EA1018EA3FF0127F12FF0D
157E9412>I<EA0FE0EA3030EA6018EA701CA21200131813381360EA07E0EA0030131813
0C130EA212E0A2EAC00CEA4018EA3030EA0FE00F157F9412>I<1330A2137013F0120113
70120212041208121812101220124012C0EAFFFEEA0070A5EA03FE0F157F9412>I<EA60
30EA7FE013C0EA44001240A4EA4F80EA70E0EA4070EA00301338A2124012E0A2EA8030EA
4060EA20C0EA1F000D157E9412>I<EA01F0EA0608EA080CEA181C1230EA7000126012E0
EAE3E0EAEC30EAF018130CEAE00EA31260A2EA300C1318EA1830EA07C00F157F9412>I<
EA07C0EA1830EA30181260EAE00CA2130EA3EA601E1230EA186EEA0F8EEA000E130C131C
EA7018A2EA6030EA20E0EA1F800F157F9412>57 D<13FCEA0303380C00C0001013203820
7810EA218438430208384701C8008613C4128EA512861247EA4303382184C8382078706C
C7FC000C131C000313F03800FF0016177E961B>64 D<13101338A3135CA3138EA3EA0107
A238020380A33807FFC0EA0401A2380800E0A2001813F0123838FE03FE17177F961A>I<
EAFFFE381C0380EB00E014601470A414E0EB01C0381FFF8014C0381C00E0147014301438
A4147014E0EB01C0B5120015177F9619>I<EBFC1038038330380E00B048137048133012
3000701310126012E01400A51410126012700030132012386C13406C138038038300EA00
FC14177E9619>I<B512E0EA1C00146014201410A3EB0400A3130CEA1FFCEA1C0C1304A3
90C7FCA6EAFFC014177F9617>70 D<EB7E0838038198380600584813384813185A007013
08A25A1400A4EB03FEEB00381270A212307E7E7E380380D838007F0817177E961C>I<EA
FFE0EA0E00B3A3EAFFE00B177F960D>73 D<EA0FF8EA00E0B112E0A2EAC1C0EA6180EA1F
000D177E9612>I<EAFFC0001CC7FCAD1420A31460A2144014C01303B5FC13177F9616>
76 D<00FEEB03F8001E14C000171305A338138009A23811C011A33810E021A2EB7041A3
EB3881A2EB1D01A2130EA2123839FE040FF81D177F9620>I<00FC13FE001E1338001F13
101217EA1380EA11C0A2EA10E013701338A2131C130E130F1307EB0390EB01D0A2EB00F0
14701430123800FE131017177F961A>I<13FCEA0303380E01C0381C00E0481370003013
30007013380060131800E0131CA700701338A200301330003813706C13E0380E01C03803
0300EA00FC16177E961B>I<EAFFFE381C0380EB00C014601470A4146014C0EB0380381F
FE00001CC7FCAAB47E14177F9618>I<EAFFFC381C0380EB00C014E01470A414E014C0EB
0380381FFE00381C0780EB01C0EB00E0A514E1A2147238FF803C18177F961A>82
D<EA0FC4EA302CEA601CEA400CEAC004A3EAE0001270127FEA3FE0EA0FF8EA01FCEA001C
130E13061280A3EAC004EAE008EAD810EA87E00F177E9614>I<387FFFF8386038180040
1308A200801304A300001300AF3803FF8016177F9619>I<EA3FC0EA70601330EA203812
00EA03F8EA1E3812301270EAE039A21379EA70FFEA1F1E100E7F8D12>97
D<12F81238A8EA39F0EA3E0CEA380613077F1480A414005B1306EA361CEA21F011177F96
14>I<EA07F0EA18381230EA7010EA600012E0A41260EA70081230EA1830EA07C00D0E7F
8D10>I<133E130EA8EA07CEEA1C3EEA300E1270126012E0A412601270EA301EEA182E38
07CF8011177F9614>I<EA0FC0EA1860EA3030EA7038EAE018EAFFF8EAE000A31260EA70
08EA3010EA1830EA07C00D0E7F8D10>I<EA03E0EA0670120EEA1C201300A5EAFF80EA1C
00ACEA7F800C1780960B>I<EA0F9EEA18E3EA3060EA7070A3EA3060EA18C0EA2F80EA20
001260EA3FE013F813FCEA600EEAC006A3EA600CEA3838EA0FE010157F8D12>I<12F812
38A813F8EA3B1CEA3C0E1238AA38FE3F8011177F9614>I<12301278A212301200A512F8
1238AC12FE07177F960A>I<12F81238B3A312FE07177F960A>108
D<38F8F83E383B1CC7393C0F0380EA380EAA39FE3F8FE01B0E7F8D1E>I<EAF8F8EA3B1C
EA3C0E1238AA38FE3F80110E7F8D14>I<EA07C0EA1830EA3018EA600CA2EAE00EA5EA70
1CEA3018EA1830EA07C00F0E7F8D12>I<EAF9F0EA3E1CEA380613077F1480A414005B13
0EEA3E1CEA39F00038C7FCA512FE11147F8D14>I<EAF9E0EA3A70123CEA38201300A9B4
FC0C0E7F8D0E>114 D<EA1F40EA60C0EAC040A2EAE000B4FCEA7F80EA1FC0EA01E0EA80
60A212C0EAE0C0EA9F000B0E7F8D0E>I<1208A31218A21238EAFFC0EA3800A71340A4EA
1C80EA0F000A147F930E>I<EAF83EEA380EAA131EEA1C2E3807CF80110E7F8D14>I<EAFE
1FEA380EEA3C0CEA1C08A2EA0E10A2EA0720A213E0EA03C0A2EA0180A2100E7F8D13>I<
EAFE1FEA380EEA3C0CEA1C08A2EA0E10A2EA0720A213E0EA03C0A2EA0180A21300A212E2
A212A4127810147F8D13>121 D E /Fu 8 107 df<EA4001EAC003EA6006EA300CEA1818
EA0C30EA0660EA03C0EA0180A2EA03C0EA0660EA0C30EA1818EA300CEA6006EAC003EA40
0110127B901B>2 D<1202A3EAC218EAF278EA3AE0EA0F80A2EA3AE0EAF278EAC218EA02
00A30D0E7E8E12>I<EA0F80EA1FC0EA3060EA6030A2EAC018A4EA6030A2EA3060EA1FC0
EA0F800D0E7E8E12>14 D<1406A380A2EC0180EC00C01560B612FCA2C8126015C0EC0180
EC0300A21406A31E127E9023>33 D<146080A28080B512FE80C7EA01C0EC00F0153C1570
EC01C0EC0380B5EAFE005CC7120C5C5CA25C1E147E9123>41 D<137813C0EA0180EA0300
AB12065A12F0120C7E7EABEA0180EA00C013780D217E9812>102
D<12F0120C7E7EABEA0180EA00C0137813C0EA0180EA0300AB12065A12F00D217E9812>
I<12C0B3AF02217C980A>106 D E /Fv 44 122 df<137813841201EA03021207A45BA2
5BA2EA03909038A00FFC9038C001E0EC00C000011480EC0100EA02E000041302EA087038
18780438303808EA703CEB1C10EAF00EEB0F20EB07C09038038004387001C0397802E008
3938047018391C183C303907E00FC01E227EA023>38 D<127012F012F8A212781208A312
10A31220A21240050E7C840D>44 D<EAFFF0A20C02808A0F>I<127012F8A3127005057C
840D>I<EA03F0EA0E1C487EEA1806EA380738700380A400F013C0AD00701380A3EA7807
00381300EA1806EA1C0E6C5AEA03F0121F7E9D17>48 D<13801203120F12F31203B3A6EA
07C0EAFFFE0F1E7C9D17>I<EA03F0EA0C1CEA100E487E00401380128000F013C0EAF803
A3EA200712001480A2EB0F00130E5B5B5B13605B485A48C7FC000613405A5A00101380EA
3FFF5AB5FC121E7E9D17>I<1240387FFFE014C0A23840008038800100A21302485AA25B
5BA25BA21360A213E05B1201A41203A76C5A131F7E9D17>55 D<EA03F0EA0E18487E487E
13071270EB038012F0A214C0A5EA7007A21238EA180BEA0E13EA03E338000380A3EB0700
1230EA7806130EEA700CEA2018EA1070EA0FC0121F7E9D17>57 D<B512E0380F0078141E
A2801580A515005C141E147CEBFFF0EB007C141FEC0F80EC07C0140315E0A515C0140715
80EC0F00143EB512F01B1F7E9E20>66 D<90380FE0109038381C309038E002703803C001
39078000F048C71270121E15305A1510127C127800F81400A91278007C1410123CA26C14
20A27E6C6C13406C6C13803900E00300EB380CEB0FF01C217E9F21>I<B512F83807801E
EC0780EC03C0EC01E0EC00F015701578A2153CA3153EA8153CA2157C1578A215F0EC01E0
EC03C0EC0780EC1E00B512F81F1F7F9E23>I<B61280380F000F14031401140015C01540
A314401500A214C0130113FF130113001440A3EC0020A31540A315C01401EC0380140FB6
FC1B1F7E9E1F>I<B61280380780071401A2140015C01540A4EC2000A3146014E013FF13
8014601420A391C7FCA87FEAFFFE1A1F7F9E1E>I<90380FE0109038381C309038E00270
3803C00139078000F048C71270121E15305A1510127C127800F81400A7EC3FFEEC01F000
781300127C123CA27EA27E6C7E3903C001703900E002309038380C1090380FF0001F217E
9F24>I<EAFFF0EA0F00B3ABEAFFF00C1F7E9E10>73 D<EAFFF8EA0F8090C7FCB21402A4
14061404A2140C141C147CB512FC171F7E9E1C>76 D<B4EB0FF8390F8003E0EC0080EA0B
C0EA09E0A2EA08F01378A27F7FA27FEB0780A2EB03C0EB01E0A2EB00F01478A2143C141E
A2140F1407A214031401123E38FF80001D1F7E9E22>78 D<EB1FE0EB70383801C00E4848
7E39070003804814C0001EEB01E048EB00F0A2007C14F8A20078147800F8147CA9007814
78007C14F8A2003C14F0003E1301001E14E06CEB03C06C148039038007003801E01E3800
7038EB1FE01E217E9F23>I<B512E0380F007C141E80EC0780A215C0A41580A2EC0F0014
1E147CEBFFE090C8FCAEEAFFF01A1F7E9E1F>I<B57E380F00F0143C8080A21580A41500
A2141E5C14F0EBFF80EB01C0EB0070A280143CA3143EA31504143F141FEC0F0839FFF007
88C7EA01F01E207E9E21>82 D<3803F040380C0CC0EA1803EA3001EA6000A212E01440A3
6C13007E127CEA7F80EA3FF86CB4FC00071380C613C0EB1FE013031301EB00F014707EA4
6C136014E06C13C038F8018038C60300EA81FC14217E9F19>I<007FB512E038780F0100
60EB006000401420A200C0143000801410A400001400B3497E3803FFFC1C1F7E9E21>I<
3BFFF07FF81FF03B1F000FC007C06C903907800180170015C001805C00071502EC09E013
C000035DEC19F01410D801E05CA2EC2078D800F05CA2EC403C01785CA2EC801E017C1460
013C144090383D000F133F6D5CA2011E1307010E91C7FCA2010C7F010413022C207F9E2F
>87 D<EA1FE0EA3030EA7818131CEA300E1200A313FEEA078EEA1E0E1238127800F01310
A3131E127838386720380F83C014147E9317>97 D<EA01FCEA0706EA1C0F123813060078
C7FC127012F0A61270127800381380A2381C0100EA0706EA01F811147F9314>99
D<EB01C0130F1301AAEA01F1EA070DEA0C03EA180112381278127012F0A61270A21238EA
1803120CEA070D3801F1F815207F9F19>I<EA03F0EA0E1C487E487EA21270EB038012F0
A2B5FC00F0C7FCA31270A26C1380A2381C0100EA0706EA01F811147F9314>I<137CEA01
C6EA030F1207EA0E061300A7EAFFF0EA0E00B2EA7FE01020809F0E>I<14E03803E330EA
0E3CEA1C1C38380E00EA780FA5EA380E6C5AEA1E38EA33E00020C7FCA21230A2EA3FFE38
1FFF8014C0383001E038600070481330A4006013606C13C0381C03803803FC00141F7F94
17>I<121C12FC121CAA137C1386EA1D03001E1380A2121CAE38FF8FF014207E9F19>I<12
38127CA31238C7FCA6121C12FC121CB1EAFF80091F7F9E0C>I<121C12FC121CAAEB1FE0
EB0780EB060013045B5B5B136013E0EA1DF0EA1E70EA1C38133C131C7F130F7F148014C0
38FF9FF014207E9F18>107 D<121C12FC121CB3ABEAFF8009207F9F0C>I<391C3E03E039
FCC30C30391D039038391E01E01CA2001C13C0AE3AFF8FF8FF8021147E9326>I<EA1C7C
EAFC86EA1D03001E1380A2121CAE38FF8FF014147E9319>I<EA01F8EA070E381C038038
3801C0A2387000E0A200F013F0A6007013E0A2383801C0A2381C038038070E00EA01F814
147F9317>I<EA1C7CEAFD87381E018014C0381C00E014F014701478A6147014F014E038
1E01C0EB0380381D8700EA1C7C90C7FCA8B47E151D7E9319>I<EA1CF0EAFD18EA1E3CA2
1318EA1C00AEEAFFC00E147E9312>114 D<EA0FC8EA3038EA6018EAC008A3EAE000127C
EA3FE0EA1FF0EA07F8EA003CEA800E130612C0A21304EAE00CEAD818EA87E00F147F9312
>I<1202A31206A2120EA2123EEAFFF8EA0E00AB1304A5EA07081203EA01F00E1C7F9B12>
I<381C0380EAFC1FEA1C03AE1307120CEA061B3803E3F014147E9319>I<38FF87F8381E
03C0380E0180EB0300EA0702EA0384EA01C813D8EA00F01370137813F8139CEA010E1202
EA060738040380000C13C0003C13E038FE07FC16147F9318>120
D<38FF83F8383E00E0001C13C06C1380A338070100A21383EA0382A2EA01C4A213E4EA00
E8A21370A31320A25BA3EAF080A200F1C7FC1262123C151D7F9318>I
E /Fw 15 118 df<EC0FF0EC781C903801C00F90390380078090390E0003C04913014914
E0017813004914F0485A485A16F8485A120F90C8FC5AA2123EA348EC01F0A4ED03E05A16
C015071680150F160000785C151E5D007C5C003C5C5D6C495A000E495A6C010FC7FC3803
801C3801E0F038003F80252B78A92D>79 D<013FB5FC16C0903903E003E09138C001F0ED
00F81678167C495AA449C712F8A3ED01F0011E14E0ED03C0ED0780ED0F0049137C90383F
FFF0013CC8FCA25BA45BA4485AA4485AA31207EAFFFE5B26297CA828>I<EC7F01903801
FFC390380381E390380E007749133E0118131E13385B0160131C13E0A300011418A21500
7F120013FCEB7F8014F8EB3FFEEB0FFF01011380EB003FEC07C01403A21401A21218A300
38EB0380A215005C00781306007C5B141C00665B38E780E038C1FFC0D8807FC7FC202B7C
A921>83 D<133EEBE118380180BC380300FC481378120E5AA2003C13F05AA338F001E0A4
38E003C014C3A3EB0786EA600FEA701B3830338C38186188380F80F0181A7A991E>97
D<EB1F80EB70603801C030EA038038070070000E13F0121E001C1360003C130012381278
A25AA55AA214206C1360007013C03830018038380700EA1C1CEA07F0141A7A991B>99
D<EB1F80EB70403801C02038038030EA0700120E5A003C1360A2387801C0EB0F00EA7FF8
00F0C7FCA714200070136014C03830018038180700EA0C1CEA07F0141A7A991B>101
D<EC0780EC1C601438EC78F0EC71E0ECF0C01500A2495AA5495AA3EB7FFFA2EB0780A549
C7FCA5131EA55BA55BA45BA45B1201EA61C012F15B12E30063C8FC123C1C3682A912>I<
EB07C0EB1C239038301780EB601F9038E00F00EA01C0EA0380A20007131EEA0F00A3001E
5BA4001C5BA45CEA0C01EA0E03EA060638030DE0EA01F1EA0001A2495AA35C1307D8600F
C7FCEAF00E5BEAE070EA7FC019267D991B>I<000F9038FC01F83A19C387070E3A31C603
8C0701EC1398D861F801F0138001F013E001E013C0A23BC3C007800F001203A33A07800F
001EA35E380F001E17301678A2001E491460167017C017804849EB310000180130131E2C
1A7C9930>109 D<EB1F80EB70603801C030380380383807001C120E121E001C131E123C
12381278A248133CA31438147848137014F014E038F001C03870038000301300EA380EEA
0C18EA07E0171A7A991E>111 D<EBF00F39019C30C039031CC0E090381F80600006EB00
70A2011E1378A2485A1200A34913F0A315E0EBF001A215C0EC03801201EC0700140E6D5A
3803CC30EBC3C001C0C7FCA2485AA448C8FCA35AEAFFF0A21D2680991E>I<380F01F838
19C70E3831CC06EBF80F3861F01E140CEBE000A2485A1203A3485AA448C7FCA4121EA45A
1218181A7C9919>114 D<EB1F80EB7060EBE030EA01C0EB8070000313F0A21460EBC000
7F13FEEBFF806C13C0EA007FEB0FE01301A213001278A238F001C0006013801303382007
00EA181CEA07F0141A7D9918>I<136013F0A2EA01E0A4EA03C0A4EAFFFEA2EA0780A2EA
0F00A4121EA45AA45A130CA2131812F01330EA70201340EA3180EA1F000F257BA413>I<
3803C003390CE00780EA1860EA30F0EC0F001260A2EA61E000C1131E1201EA03C0A25CEA
0780A348485A1560A3ECF0C0A2EA0701EC718039038631003800F81E1B1A7C991F>I
E /Fx 5 115 df<130813101320134013C0EA0180A2EA03001206A2120E120C121CA212
181238A212301270A512F05AAD7E1270A512301238A21218121CA2120C120E1206A27EEA
0180A2EA00C013401320131013080D3D7AAC17>40 D<7E12407E7E12187EA27E7EA21380
120113C0A2120013E0A213601370A513781338AD13781370A5136013E0A213C01201A213
8012031300A212065AA25A12105A5A5A0D3D7DAC17>I<127812FCA212FEA2127A1202A4
1204A31208A212101220124007127B8510>44 D<137E3803C3C0380700E0000E13704813
38003C133CA248131EA200F8131FA80078131EA26C133CA2001C13386C13706C13E03803
C3C038007E00181A7E991D>111 D<380F0F8038FF11C0EB23E0EA1F43EA0F83EB81C0EB
800090C7FCB07FEAFFFCA2131A7E9917>114 D E /Fy 24 122 df<91387FE003903907
FFFC07011FEBFF0F90397FF00F9F9039FF0001FFD801FC7F4848147F4848143F4848141F
485A160F485A1607127FA290C9FC5AA97E7F1607123FA26C7E160E6C7E6C6C141C6C6C14
3C6C6C14786CB4EB01F090397FF007C0011FB512800107EBFE009038007FF028297CA831
>67 D<B612FCEDFF8016E03A03FC001FF8ED03FCED00FE167FEE3F80EE1FC0A2EE0FE0A2
EE07F0A417F8AA17F0A3EE0FE0A217C0161FEE3F80EE7F005EED03FCED1FF8B75A168003
FCC7FC2D297EA834>I<B712E0A33903FC001FED07F01501A215001670A3913801C07816
38A302031300A2140F90B5FCA3EBFC0F1403A20201130EA3161C91C7FCA3163C16381678
16F815011503151FB712F0A327297EA82C>I<B712C0A33903FC003FED0FE015031501A2
1500A316F0913801C070A316001403A2140F90B5FCA3EBFC0F1403A21401A491C8FCA9B5
12FCA324297EA82A>I<B612E015FE6F7E3A03FC003FE0ED0FF06F7E6F7E150182A65E4B
5A1507ED0FE0ED3FC090B500FEC7FCA29039FC00FF80ED3FC06F7E6F7E6F7EA9170EA215
03923801FC1CB538F000FEEE7FF8EE0FE02F297EA832>82 D<3803FF80000F13F0381F01
FC383F80FE147F801580EA1F00C7FCA4EB3FFF3801FC3FEA0FE0EA1F80EA3F00127E5AA4
145F007E13DF393F839FFC381FFE0F3803FC031E1B7E9A21>97 D<EAFFE0A3120FACEBE1
FE9038EFFF809038FE07E09038F803F09038F001F89038E000FCA2157EA2157FA8157EA3
15FCA29038F001F89038F803F090389C0FE090380FFF80390E01FC00202A7EA925>I<EB
3FF03801FFFC3803F03E380FC07FEA1F80EA3F00A248133E007E90C7FCA212FEA7127EA2
127F6CEB03801380001FEB0700380FE00E3803F83C3801FFF838003FC0191B7E9A1E>I<
EC7FF0A31407ACEB3F873801FFF73807F03F380FC00F381F8007EA3F00A2127EA312FEA8
127EA27EA2381F800F380FC01F3907E07FFF3801FFE738007F87202A7EA925>I<EB3FC0
3801FFF03803E07C380F803E001F7F130048EB0F80127E15C0A200FE1307A2B6FCA248C8
FCA3127EA2127F6CEB01C07E390F8003803907C007003803F01E3800FFFCEB3FE01A1B7E
9A1F>I<9038FF80F00003EBE3F8390FC1FE1C391F007C7C48137E003EEB3E10007EEB3F
00A6003E133E003F137E6C137C380FC1F8380BFFE00018138090C8FC1238A2123C383FFF
F814FF6C14C06C14E06C14F0121F383C0007007CEB01F8481300A4007CEB01F0A2003FEB
07E0390FC01F806CB5120038007FF01E287E9A22>103 D<EAFFE0A3120FAC147E9038E1
FF809038E30FC001E413E0EBE80701F813F013F0A213E0B039FFFE3FFFA3202A7DA925>
I<1207EA0F80EA1FC0EA3FE0A3EA1FC0EA0F80EA0700C7FCA7EAFFE0A3120FB3A3EAFFFE
A30F2B7EAA12>I<26FFC07FEB1FC0903AC1FFC07FF0903AC307E0C1F8D80FC49038F101
FC9039C803F20001D801FE7F01D05BA201E05BB03CFFFE3FFF8FFFE0A3331B7D9A38>
109 D<38FFC07E9038C1FF809038C30FC0D80FC413E0EBC80701D813F013D0A213E0B039
FFFE3FFFA3201B7D9A25>I<EB3FE03801FFFC3803F07E390FC01F80391F800FC0393F00
07E0A2007EEB03F0A300FE14F8A8007E14F0A26CEB07E0A2391F800FC0390FC01F803907
F07F003801FFFC38003FE01D1B7E9A22>I<38FFE1FE9038EFFF809038FE0FE0390FF803
F09038F001F801E013FC140015FEA2157FA8157E15FEA215FC140101F013F89038F807F0
9038FC0FE09038EFFF809038E1FC0001E0C7FCA9EAFFFEA320277E9A25>I<38FFC1F0EB
C7FCEBC63E380FCC7F13D813D0A2EBF03EEBE000B0B5FCA3181B7F9A1B>114
D<3803FE30380FFFF0EA3E03EA7800127000F01370A27E00FE1300EAFFE06CB4FC14C06C
13E06C13F0000713F8C6FCEB07FC130000E0137C143C7E14387E6C137038FF01E038E7FF
C000C11300161B7E9A1B>I<13E0A41201A31203A21207120F381FFFE0B5FCA2380FE000
AD1470A73807F0E0000313C03801FF8038007F0014267FA51A>I<39FFE07FF0A3000F13
07B2140FA2000713173903F067FF3801FFC738007F87201B7D9A25>I<39FFFC03FFA339
0FF000F0000714E07F0003EB01C0A2EBFC0300011480EBFE070000140013FFEB7F0EA214
9EEB3F9C14FC6D5AA26D5AA36D5AA26D5AA2201B7F9A23>I<3BFFFC7FFC1FFCA33B0FE0
0FE001C02607F007EB0380A201F8EBF00700031600EC0FF801FC5C0001150EEC1FFC2600
FE1C5B15FE9039FF387E3C017F1438EC787F6D486C5A16F0ECE01F011F5CA26D486C5AA2
EC800701075CA22E1B7F9A31>I<39FFFC03FFA3390FF000F0000714E07F0003EB01C0A2
EBFC0300011480EBFE070000140013FFEB7F0EA2149EEB3F9C14FC6D5AA26D5AA36D5AA2
6D5AA25CA21307003890C7FCEA7C0FEAFE0E131E131C5BEA74F0EA3FE0EA0F8020277F9A
23>121 D E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop -49 42 a Fy(Revisiting)24 b(Catamorphisms)f(o)n(v)n(er)g(Datat)
n(yp)r(es)e(with)i(Em)n(b)r(edded)h(F)-6 b(unctions)550
117 y Fx(\(or,)20 b Fw(Pr)m(o)m(gr)m(ams)f(fr)m(om)i(Outer)g(Sp)m(ac)m
(e)p Fx(\))646 231 y Fv(Leonidas)16 b(F)l(egaras)73 b(Tim)15
b(Sheard)469 356 y(Departmen)o(t)f(of)h(Computer)g(Science)i(and)e
(Engineering)454 412 y(Oregon)g(Graduate)g(Institute)h(of)e(Science)j
(&)f(T)l(ec)o(hnology)554 469 y(20000)e(N.W.)g(W)l(alk)o(er)h(Road)g(P)
l(.O.)g(Bo)o(x)g(91000)718 525 y(P)o(ortland,)f(OR)i(97291-1000)748
582 y Fu(f)p Ft(fegaras,shea)o(rd)p Fu(g)o Ft(@cse.o)o(gi.e)o(du)-76
736 y Fs(Abstract)-76 814 y Fr(W)m(e)h(revisit)i(the)d(w)o(ork)h(of)g
(P)o(aterson)g(and)h(of)e(Meijer)i(&)e(Hutton,)-76 856
y(whic)o(h)f(describ)q(es)g(ho)o(w)f(to)f(construct)i(catamorphisms)h
(for)d(recur-)-76 897 y(siv)o(e)19 b(datat)o(yp)q(e)h(de\014nitions)h
(that)d(em)o(b)q(ed)h(con)o(tra)o(v)n(arian)o(t)h(o)q(ccur-)-76
939 y(rences)g(of)f(the)h(t)o(yp)q(e)g(b)q(eing)h(de\014ned.)37
b(Their)20 b(construction)i(re-)-76 980 y(quires,)14
b(for)e(eac)o(h)g(catamorphism,)i(the)f(de\014nition)i(of)d(an)h
(anamor-)-76 1022 y(phism)22 b(that)e(has)h(an)f(in)o(v)o(erse-lik)o(e)
j(relationship)h(to)c(that)g(cata-)-76 1064 y(morphism.)29
b(W)m(e)17 b(presen)o(t)g(an)g(alternativ)o(e)h(construction,)h(whic)o
(h)-76 1105 y(replaces)d(the)e(stringen)o(t)h(requiremen)o(t)h(that)e
(an)g(in)o(v)o(erse)i(anamor-)-76 1147 y(phism)c(b)q(e)e(de\014ned)i
(for)e(eac)o(h)h(catamorphism)h(with)f(a)f(more)g(lenien)o(t)-76
1188 y(restriction.)24 b(The)14 b(resulting)j(construction)g(has)e(a)g
(more)f(e\016cien)o(t)-76 1230 y(implemen)o(tation)k(than)c(that)h(of)f
(P)o(aterson,)h(Meijer,)g(and)g(Hutton)-76 1271 y(and)h(the)g(relev)n
(an)o(t)h(restriction)g(can)f(b)q(e)g(enforced)g(b)o(y)g(a)f(Hindley-)
-76 1313 y(Milner)h(t)o(yp)q(e)e(inference)h(algorithm.)22
b(W)m(e)15 b(pro)o(vide)g(n)o(umerous)g(ex-)-76 1354
y(amples)f(illustrati)q(ng)i(our)d(metho)q(d.)-76 1467
y Fs(1)53 b(In)o(tro)q(duction)-76 1545 y Fr(F)m(unctional)19
b(programmers)e(often)f(use)h(catamorphisms)h(\(or)e(fold)-76
1587 y(functions\))c(as)e(an)h(elegan)o(t)g(means)g(of)f(expressing)j
(algorithms)f(o)o(v)o(er)-76 1628 y(algebraic)20 b(datat)o(yp)q(es.)32
b(Catamorphisms)19 b(ha)o(v)o(e)f(also)g(b)q(een)h(used)-76
1670 y(b)o(y)13 b(functional)h(programmers)f(as)f(a)g(medium)i(in)e
(whic)o(h)h(programs)-76 1711 y(can)g(b)q(e)g(calculated)i(from)d(sp)q
(eci\014cations)j([7,)d(6,)g(5])g(and)h(as)g(a)f(go)q(o)q(d)-76
1753 y(in)o(termediate)18 b(represen)o(tation)g(of)d(programs)h(that)g
(supp)q(orts)h(op-)-76 1794 y(timization)i([14,)c(3,)h(4,)g(1].)25
b(It)16 b(is,)h(th)o(us,)g(truly)g(ironic)h(that)e(these)-76
1836 y(functions)f(apply)f(only)h(to)d(\014rst)i(order)f(datat)o(yp)q
(es.)-20 1877 y(Un)o(til)f(recen)o(tly)m(,)f(it)g(w)o(as)f(not)h(kno)o
(wn)g(ho)o(w)f(to)h(express)g(catamor-)-76 1919 y(phisms)18
b(for)e(datat)o(yp)q(es)i(with)f(em)o(b)q(edded)h(function)f(t)o(yp)q
(es.)28 b(The)-76 1960 y(w)o(ork)14 b(b)o(y)g(P)o(aterson)h([10])e(and)
i(Meijer)f(&)g(Hutton)g([8])f(\014nally)j(pro-)-76 2002
y(vided)11 b(a)e(metho)q(d)h(for)g(doing)g(so.)16 b(While)c(elegan)o(t)
e(and)g(theoretically)-76 2043 y(sound,)k(their)f(solution)j(su\013ers)
d(from)g(the)g(disadv)n(an)o(tage)i(of)e(b)q(eing)-76
2085 y(somewhat)d(ine\016cien)o(t.)18 b(This)10 b(pap)q(er)h(extends)f
(their)h(tec)o(hnique)g(us-)-76 2126 y(ing)g(a)f(simple)i
Fq(trick)d Fr(that)h(results)h(to)f(more)h(e\016cien)o(t)g(programs)g
(and)-76 2168 y(turns)h(out)g(to)f(also)i(ha)o(v)o(e)f(sev)o(eral)h
(other)e(in)o(teresting)j(application)q(s.)-20 2210 y(Meijer)h(and)h
(Hutton)e(p)q(oin)o(t)i(out)f(that)g(in)g(order)g(to)g(express)g(a)-76
2251 y(function)k Fp(f)i Fr(as)c(a)g(catamorphism)i(o)o(v)o(er)f(an)f
(arbitrary)i(datat)o(yp)q(e)-76 2293 y(it)14 b(is)g(necessary)h(to)e
(express)i(another)f(function)h Fp(g)g Fr(as)f(an)g(anamor-)-76
2334 y(phism)g(\(or)e(unfold)i(function\))g(whic)o(h)g(is)f(de\014ned)g
(m)o(utually)i(recur-)p -76 2366 399 2 v -76 2433 a Ft(T)m(o)c(app)q
(ear)e(at)h(the)g(23rd)g(A)o(CM)i(SIGPLAN-SIGA)o(CT)f(Sym-)-76
2471 y(p)q(osium)i(on)g(Principles)f(of)i(Programming)d(Languages,)h
(St.)-76 2508 y(P)o(etersburg)g(Beac)o(h,)h(Florida,)g(Jan)o(uary)f
(1996.)22 b(Also)14 b(a)o(v)n(ail-)-76 2545 y(able)d(as)g(OGI)h(T)m(ec)
o(hnical)d(Rep)q(ort)h(95/014.)1020 736 y Fr(siv)o(ely)20
b(with)f(the)f(catamorphism.)35 b(The)18 b(anamorphism)i(is)f(nec-)1020
777 y(essary)f(if)g(a)g(recursiv)o(e)g(datat)o(yp)q(e)h(de\014nition)h
(has)e(con)o(tra)o(v)n(arian)o(t)1020 819 y(o)q(ccurrences)e(of)f(the)g
(t)o(yp)q(e)h(b)q(eing)g(de\014ned.)25 b(The)15 b(purp)q(ose)h(of)f
(the)1020 860 y(anamorphism)h(is)e(to)f(\\undo")h(what)g(the)f
(catamorphism)i(\\do)q(es".)1020 902 y(The)j(\\in)o(v)o(erse-lik)o(e")j
(relationship)g(of)c Fp(f)k Fr(and)e Fp(g)g Fr(is)f(necessary)h(to)1020
943 y(correctly)e(handle)g(the)e(con)o(tra)o(v)n(ariance)j(of)d(the)g
(datat)o(yp)q(e)i(de\014ni-)1020 985 y(tion.)23 b(This)16
b(approac)o(h)g(requires)g(a)f(pro)q(of)g(of)g(the)g(in)o(v)o(erse-lik)
o(e)i(re-)1020 1027 y(lationship)i(b)q(et)o(w)o(een)d
Fp(f)k Fr(and)c Fp(g)q Fr(.)26 b(In)16 b(general)h(there)f(is)g(no)h
(kno)o(wn)1020 1068 y(automatic)d(w)o(a)o(y)f(to)g(obtain)i(suc)o(h)e
(a)g(pro)q(of.)1076 1110 y(Our)c(tric)o(k)h(in)o(v)o(olv)o(es)i(in)o(v)
o(en)o(ting)f(a)f(particularly)i(simple)f(in)o(v)o(erse-)1020
1151 y(lik)o(e)18 b(function)h(to)d(tak)o(e)h(the)g(place)h(of)f(the)g
(anamorphism.)30 b(This)1020 1193 y(metho)q(d)17 b(is)f(simple,)i(not)e
(only)i(b)q(ecause)f(it)f(do)q(es)g(not)h(require)g(an)1020
1234 y(actual)e(de\014nition)i(of)d(the)g(in)o(v)o(erse-lik)o(e)j
(function)e Fp(g)q Fr(,)g(but)f(also)h(b)q(e-)1020 1276
y(cause)e(it)g(giv)o(es)g Fp(g)h Fr(a)e(highly)i(e\016cien)o(t)f
(implemen)o(tation)q(.)19 b(The)12 b(tric)o(k)1020 1317
y(do)q(es)k(not)h(alw)o(a)o(ys)f(apply)m(,)i(but)e(w)o(e)f(presen)o(t)i
(a)f(t)o(yp)q(e)g(system)g(that)1020 1359 y(determines)f(statically)g
(when)e(it)h(is)f(applicabl)q(e.)1076 1400 y(In)20 b(this)h(pap)q(er)g
(w)o(e)f(giv)o(e)h(n)o(umerous)h(examples)g(illustrating)1020
1442 y(the)17 b(usefulness)i(of)d(b)q(eing)j(able)e(to)g(de\014ne)h
(catamorphisms)h(o)o(v)o(er)1020 1483 y(datat)o(yp)q(es)13
b(with)f(em)o(b)q(edded)h(functions,)g(as)f(w)o(ell)g(as)g(sho)o(wing)h
(ho)o(w)1020 1525 y(to)g(de\014ne)h(functions)g(as)g(catamorphisms.)
1020 1637 y Fs(2)52 b(Structures)18 b(with)g(F)l(unctionals)g(are)g
(Useful)1020 1716 y Fr(In)e(this)g(section,)i(w)o(e)d(presen)o(t)h(sev)
o(eral)h(examples)g(of)f(data)g(struc-)1020 1757 y(tures)g(with)g(em)o
(b)q(edded)h(functions.)27 b(W)m(e)15 b(de\014ne)i(catamorphisms)1020
1799 y(o)o(v)o(er)e(these)f(structures)i(and)f(giv)o(e)g(man)o(y)g
(examples)h(of)e(their)h(use.)1020 1840 y(W)m(e)20 b(informally)i(in)o
(tro)q(duce)g(our)e(metho)q(d)g(and)h(explain)h(ho)o(w)e(it)1020
1882 y(w)o(orks.)27 b(Our)16 b(\014rst)g(example)i(is)f(an)f(ev)n
(aluation)j(function)f(o)o(v)o(er)e(a)1020 1923 y(datat)o(yp)q(e)i
(that)f(represen)o(ts)h(closed)g(terms)f(in)g(a)g(simple)i(lam)o(b)q
(da)1020 1965 y(calculus.)f(This)11 b(represen)o(tation)i(is)e(in)o
(teresting)h(b)q(ecause)g(the)e(ev)n(al-)1020 2006 y(uation)h(function)
g(do)q(es)g(not)f(need)g(an)g(en)o(vironmen)o(t)i(mapping)f(v)n(ari-)
1020 2048 y(ables)i(to)e(v)n(alues.)17 b(The)12 b(second)g(example)g
(is)g(the)g(expression)h(of)e(the)1020 2089 y(parametricit)o(y)18
b(theorem)e(for)g(an)o(y)g(p)q(olymorphic)j(function.)27
b(The)1020 2131 y(third)12 b(example)g(is)f(the)g(expression)h(and)g
(manipulation)i(of)c(circular)1020 2173 y(lists)18 b(in)f(a)f
(functional)i(language,)h(and)e(the)f(last)h(example)h(is)f(the)1020
2214 y(expression)i(and)f(manipulatio)q(n)i(of)d(graphs.)30
b(All)18 b(the)g(functions)1020 2256 y(in)e(these)g(examples)g(can)g(b)
q(e)g(expressed)g(succinctly)i(as)d(catamor-)1020 2297
y(phisms.)1020 2406 y Fs(2.1)52 b(Meta-programming)1020
2486 y(2.1.1)g(Lam)o(b)q(da)18 b(Calculus)1020 2552 y
Fr(Our)d(\014rst)g(example)i(of)e(a)g(function)h(o)o(v)o(er)f(a)g(data)
h(structure)g(with)1020 2594 y(em)o(b)q(edded)c(functions)h(is)e(an)h
(ev)n(aluation)h(function)f(for)f(a)g(datat)o(yp)q(e)p
eop
%%Page: 2 2
2 1 bop -76 -34 a Fr(that)18 b(represen)o(ts)g(closed)h(terms)e(in)i(a)
e(simple)i(lam)o(b)q(da)g(calculus.)-76 7 y(W)m(e)c(represen)o(t)g
(terms)f(as)g(structures)h(with)g(em)o(b)q(edded)h(functions)-76
49 y(in)c(a)g(manner)g(similar)h(to)e(the)h(higher-order)h(abstract)f
(syn)o(tax)g(rep-)-76 90 y(resen)o(tation)i(of)e(programs)i(b)o(y)f
(Pfenning)h(and)f(Elliot)h([12])e(\(all)i(our)-76 132
y(examples)h(are)e(written)g(in)h(Standard)h(ML)e(\(SML\))g([11]\):)-76
236 y Fo(datat)o(yp)q(e)h Fn(T)m(erm)g(=)e(Const)g Fo(of)h
Fn(int)5 b Fm(j)10 b Fn(Succ)20 b Fm(j)10 b Fn(Appl)h
Fo(of)i Fn(T)m(erm)g Fm(\002)g Fn(T)m(erm)253 278 y Fm(j)d
Fn(Abs)i Fo(of)g Fn(T)m(erm)c Fm(!)e Fn(T)m(erm)-76 352
y Fr(F)m(or)14 b(example,)h(the)f(lam)o(b)q(da)h(term)26
b(\()p Fp(\025x:)p Fr(1)9 b(+)g Fp(x)p Fr(\))d(1)26 b(is)14
b(represen)o(ted)-76 394 y(b)o(y)f(the)h Fn(T)m(erm)f
Fr(construction)85 464 y Fn(Appl\(Abs\()p Fo(fn)d Fn(x)19
b Fm(\))11 b Fn(Appl\(Succ,x\)\),Const)e(1\))-20 537
y Fr(This)j(term)f(represen)o(tation)i(can)f(b)q(e)f(traced)h(bac)o(k)g
(to)f(Ch)o(urc)o(h's)-76 578 y(seminal)j(w)o(ork)f(on)f(the)h(lam)o(b)q
(da)h(calculus)g([2],)e(in)h(whic)o(h)g(univ)o(ersal)-76
620 y(quan)o(ti\014cation)22 b Fm(8)p Fp(x:A)c Fr(is)h(mo)q(deled)h(b)o
(y)f(the)f(addition)j(of)e(a)f(con-)-76 661 y(stan)o(t)12
b(\005)f(and)g(b)o(y)h(writing)h(\005\()p Fp(\025x:A)p
Fr(\).)i(This)d(represen)o(tation)h(is)f(also)-76 703
y(similar)h(to)e(the)g(higher-order)h(abstract)g(syn)o(tax)g(represen)o
(tation)g(of)-76 744 y(programs,)k(form)o(ulas,)h(and)f(rules)g(b)o(y)f
(Pfenning)i(and)f(Elliot)h([12],)-76 786 y(and)f(is)g(also)h(related)f
(to)g(the)f(w)o(ork)h(of)f(Nadath)o(ur)h(and)g(Miller)i([9])-76
827 y(on)13 b(higher-order)i(logic)g(programming.)-20
869 y(The)k(datat)o(yp)q(e)g(de\014nition)i(for)d Fn(T)m(erm)h
Fr(di\013ers)h(from)e(most)g(in)-76 910 y(that)13 b(in)g(most)g(lam)o
(b)q(da)h(term)f(represen)o(tations,)i(lam)o(b)q(da)f(abstrac-)-76
952 y(tions)d(are)f(constructed)h(b)o(y)g(v)n(alue)g(constructors)g(of)
f(t)o(yp)q(e)g Fn(va)o(riable)r Fm(\002)-76 993 y Fn(T)m(erm)j
Fm(!)f Fn(T)m(erm)q Fr(,)18 b(and)g(most)g(represen)o(tations)i(also)e
(include)i(con-)-76 1035 y(structors)e(lik)o(e)g Fn(V)o(a)o(r)f
Fr(of)g(t)o(yp)q(e)g Fn(va)o(riable)10 b Fm(!)i Fn(T)m(erm)p
Fr(.)29 b(In)17 b(suc)o(h)h(repre-)-76 1076 y(sen)o(tations,)c(an)e(op)
q(eration)i(o)o(v)o(er)e(lam)o(b)q(da)h(terms)f(needs)h(to)e(handle)-76
1118 y(v)n(ariables)k(explicitly)m(.)20 b(F)m(or)12 b(example,)h(a)g
(lam)o(b)q(da-calculu)q(s)i(ev)n(alua-)-76 1159 y(tor)d(t)o(ypically)j
(needs)d(to)g(build)i(and)f(manipulate)h(an)e(en)o(vironmen)o(t)-76
1201 y(to)17 b(bind)h(v)n(ariables)h(to)d(v)n(alues.)29
b(In)17 b(our)g(represen)o(tation)h(the)f(ab-)-76 1242
y(straction)j(mec)o(hanism)f(of)f(the)g(meta-language)i(\(SML\))f(is)g
(used)-76 1284 y(to)e(represen)o(t)g(abstraction)h(in)g(the)e(ob)r
(ject)h(language)h(of)f(lam)o(b)q(da)-76 1325 y(terms)c(and)g(this)h
(completely)g(\014nesses)g(the)f(b)q(ound-v)n(ariabl)q(e)i(nam-)-76
1367 y(ing)f(problem.)-20 1408 y(Our)c(ev)n(aluator)h(is)g(th)o(us)f
(spared)g(the)g(di\016culties)j(and)d(complex-)-76 1450
y(it)o(y)16 b(asso)q(ciated)h(with)e(the)h(explicit)h(represen)o
(tation)g(of)e(v)n(ariables,)-76 1491 y(since)e(all)g(the)e(necessary)i
(v)n(ariable)h(plum)o(bing,)g(in)e(b)q(eta)g(reduction,)-76
1533 y(etc.,)i(is)g(handled)j(implicitly)g(b)o(y)e(the)f(ev)n(aluation)
j(engine)e(of)f(SML)-76 1574 y(in)h(whic)o(h)g(our)f(ev)n(aluator)h(is)
g(expressed.)21 b(But)14 b(the)g(b)q(ene\014t)h(of)f(our)-76
1616 y(approac)o(h)e(is)f(more)f(than)h(just)g(p)q(edagogical:)18
b(one)11 b(can)g(exp)q(erimen)o(t)-76 1657 y(with)g(v)n(arious)i(t)o
(yp)q(es)e(of)g(ev)n(aluators)h(without)g(w)o(orrying)g(ab)q(out)g(the)
-76 1699 y(details)j(of)f(names)g(and)g(v)n(ariable)h(binding.)21
b(Represen)o(tations)16 b(lik)o(e)-76 1740 y(this)11
b(ha)o(v)o(e)g(b)q(een)g(a)o(v)o(oided)h(b)q(ecause)f(of)f(the)g
(di\016cult)o(y)i(of)e(expressing)-76 1782 y(certain)k(kinds)h(of)e
(computations.)-76 1876 y Fs(The)18 b(P)o(aterson/Meijer/Hutton)f
(Approac)o(h)-76 1917 y Fr(W)m(e)f(no)o(w)f(presen)o(t)i(an)f(ev)n
(aluator)h(for)e(terms)h(in)g(the)g(st)o(yle)g(of)f(P)o(a-)-76
1959 y(terson)e([10],)e(and)i(Meijer)g(&)f(Hutton)h([8)o(].)k(W)m(e)12
b(use)g(explicit)j(recur-)-76 2000 y(sion)e(instead)g(of)e
(catamorphisms)i(to)e(mak)o(e)h(it)g(clear)g(ho)o(w)f(it)h(w)o(orks)-76
2042 y(and)h(to)g(illustrate)h(the)f(ine\016ciencies)i(of)d(this)i
(approac)o(h.)k(Our)12 b(ap-)-76 2083 y(proac)o(h,)k(whic)o(h)g(impro)o
(v)o(es)g(this)g(metho)q(d,)g(is)g(describ)q(ed)h(in)f(detail)-76
2125 y(in)e(the)f(next)h(subsection.)-20 2166 y(The)f(v)n(alue)h
(domain)h(of)e(our)g(ev)n(aluator)i(is)-28 2237 y Fo(datat)o(yp)q(e)f
Fn(V)o(alue)e(=)g(Num)i Fo(of)e Fn(int)18 b Fm(j)10 b
Fn(F)o(un)j Fo(of)f Fn(V)o(alue)6 b Fm(!)h Fn(V)o(alue)-76
2309 y Fr(The)19 b(v)n(alue)h(domain)g(itself)g(uses)g(em)o(b)q(edded)g
(functions)g(to)f(rep-)-76 2351 y(resen)o(t)d(the)g(meaning)i(of)e
(functional)i(terms)e(in)g(the)g(lam)o(b)q(da)i(cal-)-76
2392 y(culus.)37 b(The)20 b(lam)o(b)q(da)h(term)e(ev)n(aluator)i(is)f
(a)f(function)i(of)e(t)o(yp)q(e)-76 2434 y Fn(T)m(erm)5
b Fm(!)t Fn(V)o(alue)13 b Fr(and)g(could)i(b)q(e)e(expressed)h(as:)-34
2501 y Fl(fun)d Fk(eval\(Const)g(n\))29 b(=)13 b(Num)e(n)-28
2538 y Fu(j)53 b Fk(eval\(Succ\))74 b(=)13 b(F)o(un\()p
Fl(fn)f Fk(Num)g(n)17 b Fu(\))11 b Fk(Num\(n+1\)\))-28
2576 y Fu(j)53 b Fk(eval\(Appl\(f,e\)\))11 b(=)i(\()p
Fl(case)e Fk(eval\(f)r(\))g Fl(of)i Fk(F)o(un\(g\))k
Fu(\))10 b Fk(g\(eval\(e\)\)\))-28 2613 y Fu(j)53 b Fk(eval\(Abs)11
b(f)r(\))64 b(=)13 b(F)o(un\(g?\))1020 -34 y Fr(But)i(it)g(is)h(not)f
(ob)o(vious)h(what)f Fn(g?)g Fr(in)g(the)g(last)h(clause)g(should)g(b)q
(e.)1020 7 y(The)i(t)o(yp)q(e)g(of)g Fn(g?)g Fr(should)h(b)q(e)f
Fn(V)o(alue)12 b Fm(!)g Fn(V)o(alue)o Fr(.)32 b(The)17
b(function)j Fn(f)1020 49 y Fr(of)14 b(t)o(yp)q(e)g Fn(T)m(erm)6
b Fm(!)g Fn(T)m(erm)14 b Fr(m)o(ust)g(someho)o(w)h(b)q(e)f(manipulated)
i(in)o(to)f(a)1020 90 y(v)n(alue)h(of)f(t)o(yp)q(e)g
Fn(V)o(alue)7 b Fm(!)h Fn(V)o(alue)o Fr(.)23 b(Based)15
b(on)h(t)o(yp)q(e)f(considerations)1020 132 y(alone,)c(one)f(migh)o(t)h
(attempt)f(to)f(construct)i Fn(g?)f Fr(as)f(a)h(comp)q(osition)i(of)
1020 173 y Fn(f)d Fr(with)i(a)e(function)j(of)d(t)o(yp)q(e)h
Fn(T)m(erm)5 b Fm(!)t Fn(V)o(alue)10 b Fr(on)g(the)g(left)g(and)g(a)g
(func-)1020 215 y(tion)15 b(of)e(t)o(yp)q(e)h Fn(V)o(alue)t
Fm(!)5 b Fn(T)m(erm)15 b Fr(on)f(the)f(righ)o(t.)20 b(The)14
b(ob)o(vious)h(c)o(hoice)1020 256 y(for)d(the)h(\014rst)g(function)h
(is)f Fn(eval)o Fr(.)k(The)12 b(second)i(function,)f(whic)o(h)h(w)o(e)
1020 298 y(call)19 b Fn(reify)o Fr(,)f(translates)h(v)n(alues)g(in)o
(to)f(terms.)30 b(The)18 b(function)h Fn(reify)1020 339
y Fr(should)c(b)q(e)f(the)f(righ)o(t)h(in)o(v)o(erse)h(of)e
Fn(eval)f Fr(on)i(the)f(range)h(of)f Fn(eval)p Fr(,)g(i.e.,)1020
381 y(for)h(all)i Fp(x)f Fr(in)g(the)g(range)g(of)f Fn(eval)g
Fr(the)h(iden)o(tit)o(y)h Fn(eval)p Fr(\()p Fn(reify)n
Fr(\()p Fp(x)p Fr(\)\))d(=)h Fp(x)1020 422 y Fr(should)e(hold.)17
b(Without)11 b(this)g(restriction,)g Fn(eval)e Fr(w)o(ould)i(fail)g(to)
e(ev)n(al-)1020 464 y(uate)15 b(ev)o(en)f(the)h(simplest)h
(abstraction,)g(namely)f Fn(Abs\()p Fo(fn)c Fn(x)19 b
Fm(\))11 b Fn(x\))p Fr(,)1020 505 y(in)o(to)g(the)f(correct)g(result)h
Fn(F)o(un\()p Fo(fn)g Fn(x)19 b Fm(\))11 b Fn(x\))p Fr(.)16
b(Since)11 b(term)f(ev)n(aluation)1020 547 y(is)17 b(not)h(an)f
(isomorphism)i(in)f(general,)g(w)o(e)f(ha)o(v)o(e)g(man)o(y)h
(di\013eren)o(t)1020 588 y(c)o(hoices)e(for)f Fn(reify)o
Fr(.)23 b(As)15 b(a)g(\014rst)h(pass)g(at)f(a)g(de\014nition)j(of)d
Fn(reify)n Fr(,)h(w)o(e)1020 630 y(migh)o(t)e(reasonably)h(try:)1062
697 y Fl(fun)c Fk(eval\(Const)g(n\))29 b(=)12 b(Num)g(n)1068
735 y Fu(j)53 b Fk(eval\(Succ\))74 b(=)12 b(F)o(un\()p
Fl(fn)h Fk(Num)f(n)17 b Fu(\))10 b Fk(Num\(n+1\)\))1068
772 y Fu(j)53 b Fk(eval\(Appl\(f,e\)\))11 b(=)h(\()p
Fl(case)f Fk(eval\(f)r(\))h Fl(of)h Fk(F)o(un\(g\))k
Fu(\))10 b Fk(g\(eval\(e\)\)\))1068 809 y Fu(j)53 b Fk(eval\(Abs)11
b(f)r(\))64 b(=)12 b(F)o(un\(eval)h Fu(\016)e Fk(f)h
Fu(\016)f Fk(reify\))1062 862 y Fl(and)k Fk(reify\(Num)d(n\))25
b(=)12 b(Const)f(n)1068 899 y Fu(j)65 b Fk(reify\(F)o(un)12
b(f)r(\))46 b(=)12 b(Abs\(reify)f Fu(\016)h Fk(f)f Fu(\016)h
Fk(eval\))1020 970 y Fr(Notice)j(the)f(symmetry)h(b)q(et)o(w)o(een)f
Fn(eval)g Fr(and)h Fn(reify)o Fr(.)20 b(In)14 b(particular,)1020
1012 y(the)9 b(w)o(a)o(y)g Fn(reify)e Fr(handles)k(the)e(em)o(b)q
(edded)i(function)f(inside)h Fn(F)o(un)d Fr(is)i(the)1020
1053 y(mirror)h(image)h(of)e(the)h(w)o(a)o(y)g Fn(eval)e
Fr(handles)k(the)e(em)o(b)q(edded)h(function)1020 1095
y(inside)j Fn(Abs)o Fr(.)1076 1136 y(It)10 b(is)i(instructiv)o(e)g(to)f
(visualize)i(the)e(pro)q(cess)h(that)f(o)q(ccurs)g(when)1020
1178 y(an)k Fn(Abs)e Fr(term)h(is)h(ev)n(aluated.)23
b(An)14 b(abstraction)i(is)f(built)h(that)f(will)1020
1219 y(b)q(e)e(placed)g(within)h(a)e Fn(F)o(un)g Fr(constructor.)18
b(This)13 b(abstraction,)h(when)1020 1261 y(applied,)i(will)g(reify)e
(its)h(argumen)o(t)g(to)e(get)h(a)g Fn(T)m(erm)q Fr(,)g(then)g(apply)i
Fn(f)1020 1302 y Fr(to)d(get)g(another)h Fn(T)m(erm)p
Fr(,)f(and)g(\014nally)i(ev)n(aluate)g(this)f(term)e(to)h(get)g(a)1020
1344 y Fn(V)o(alue)o Fr(.)k(F)m(or)11 b(example,)j(the)e(ev)n(aluation)
i(of)e(the)g(term)g(\()p Fp(\025x:)6 b(x)g Fr(+)g(1\))11
b(1)1020 1385 y(pro)q(ceeds)j(as)f(follo)o(ws:)1154 1453
y Fk(eval\(Appl\(Abs\()p Fl(fn)e Fk(x)18 b Fu(\))10 b
Fk(Appl\(Succ,x\)\),Const)f(1\)\))1154 1490 y(=)k Fl(case)e
Fk(eval\(Abs\()p Fl(fn)g Fk(x)18 b Fu(\))10 b Fk(Appl\(Succ,x\)\)\))g
Fl(of)1231 1527 y Fk(F)o(un\(g\))18 b Fu(\))10 b Fk(g\(eval\(Const)g
(1\)\))1154 1565 y(=)j Fl(case)e Fk(F)o(un\()p Fl(fn)h
Fk(x)18 b Fu(\))10 b Fk(eval\(Appl\(Succ,reify)h(x\)\)\))g
Fl(of)1231 1602 y Fk(F)o(un\(g\))18 b Fu(\))10 b Fk(g\(eval\(Const)g
(1\)\))1020 1673 y Fr(The)j(abstraction)i(in)e(the)g(case)h(is)f(ev)o
(en)o(tually)j(applied)f(to)e(a)g(term,)1020 1715 y(whic)o(h)h(m)o(ust)
f(itself)h(b)q(e)f(ev)n(aluated.)19 b(The)13 b(ab)q(o)o(v)o(e)h(th)o
(us)f(equals)1206 1782 y Fk(eval\(Appl\(Succ,reify\(eval\(Const)d
(1\)\)\)\))1206 1820 y(=)j(eval\(Appl\(Succ,reify\(Num)d(1\)\)\))1206
1857 y(=)j(eval\(Appl\(Succ,Const)c(1\)\))1206 1894 y(=)k
Fl(case)e Fk(F)o(un\()p Fl(fn)h Fk(Num)g(n)18 b Fu(\))10
b Fk(Num\(n+1\)\))h Fl(of)1283 1932 y Fk(F)o(un\(g\))18
b Fu(\))10 b Fk(g\(eval\(Const)g(1\)\))1206 1969 y(=)j(\()p
Fl(fn)e Fk(Num)h(n)18 b Fu(\))10 b Fk(Num\(n+1\)\))h(\(Num)h(1\))1206
2006 y(=)h(Num)e(2)1020 2078 y Fr(W)m(e)17 b(can)h(see)f(that)g(there)g
(is)h(some)f(computational)j(redundancy)1020 2119 y(in)d(the)g(ev)n
(aluator.)28 b(Some)17 b(terms,)g(suc)o(h)f(as)h Fn(Const)12
b(1)p Fr(,)17 b(are)f(ev)n(alu-)1020 2161 y(ated)i(only)h(to)f(b)q(e)g
(rei\014ed)h(later)f(on.)32 b(In)17 b(general,)j(if)e(w)o(e)f(reduce)
1020 2202 y Fn(Appl\(Abs\(f)s(\),e\))m Fr(,)22 b(where)f
Fn(e)g Fr(is)h(a)f(complex)h(term,)h(then)e(w)o(e)g(get)1020
2244 y Fn(eval\(f\(reify\(eval\(e\)\)\)\))m Fr(.)h(That)15
b(is,)g(the)g(term)g Fn(e)f Fr(is)i(ev)n(aluated)g(in)o(to)1020
2285 y(a)e(v)n(alue,)h(and)f(then)g(this)h(is)f(rei\014ed)h(in)o(to)g
(a)f(term,)f(then)i(this)f(term)1020 2327 y(\(after)f(reduction)h(b)o
(y)f Fn(f)p Fr(\))g(is)g(ev)n(aluated)i(again)f(in)o(to)g(a)f(v)n(alue)
h(b)o(y)f(the)1020 2368 y(outer)h(o)q(ccurrence)h(of)e
Fn(eval)p Fr(.)19 b(This)14 b(is)h(the)e(general)i(sc)o(heme)g(within)
1020 2410 y(the)h Fn(eval)o Fr(-)p Fn(reify)f Fr(example:)24
b Fn(reify)14 b Fr(will)k(undo)e(what)g Fn(eval)f Fr(has)i(done,)1020
2451 y Fn(eval)f Fr(will)i(partially)h(redo)e(what)f(has)h(b)q(een)g
(undone,)h(and)g(so)e(on.)1020 2493 y(This)c(problem)g(b)q(ecomes)g
(increasingly)i(w)o(orse)d(with)h(the)f(complex-)1020
2534 y(it)o(y)16 b(of)e(function)i Fn(f)p Fr(.)22 b(F)m(or)15
b(example,)i(to)d(de\014ne)i(a)f(prin)o(ter)h Fn(p)o(rint)d
Fr(for)1020 2576 y Fn(T)m(erm)q Fr(,)j(whic)o(h)h(is)f(a)g(function)h
(from)f Fn(T)m(erm)g Fr(to)g Fn(string)o Fr(,)g(it)g(is)h(neces-)1020
2617 y(sary)g(to)f(de\014ne)h(a)f(parser)h Fn(pa)o(rse)f
Fr(from)g Fn(string)f Fr(to)h Fn(T)m(erm)h Fr(with)g(the)961
2747 y(2)p eop
%%Page: 3 3
3 2 bop -76 -34 a Fr(prop)q(ert)o(y)17 b Fn(p)o(rint\(pa)o
(rse\(x\)\)=x)m Fr(.)24 b(The)16 b(computational)i(complexit)o(y)-76
7 y(of)d(the)h(parser)f(is)h(linear)h(in)f(the)g(size)g(of)f(the)g
(input)i(string.)24 b(But,)-76 49 y(as)18 b(w)o(e)f(will)i(see)f(next,)
h(in)g(man)o(y)f(cases,)h(an)f(appro)o(ximate)h(righ)o(t)-76
90 y(in)o(v)o(erse)d(of)d Fn(p)o(rint)g Fr(with)i(constan)o(t)g(time)g
(complexit)o(y)h(is)f(all)g(that)g(is)-76 132 y(needed.)-20
173 y(These)f(dual)h(m)o(utually)h(recursiv)o(e)g(de\014nitions)g(ha)o
(v)o(e)f(b)q(een)f(ex-)-76 215 y(plored)f(b)o(y)f(P)o(aterson)g([10])f
(and)h(Meijer)g(&)f(Hutton)h([8].)32 b(They)12 b(use)-76
256 y(a)f(pair)h(of)f Fq(generic)d Fr(dual)13 b(functions,)f
(catamorphism)h(and)f(anamor-)-76 298 y(phism,)19 b(to)d(capture)i
(recursion)g(sc)o(hemes)f(similar)i(to)e(the)f(one)h(in)-76
339 y(the)e Fn(eval-reify)d Fr(example:)21 b(a)15 b(catamorphism)h
(will)g(reduce)g(a)e(v)n(alue)-76 381 y(of)f(t)o(yp)q(e)g
Fp(T)18 b Fr(in)o(to)13 b(a)g(v)n(alue)h(of)e(t)o(yp)q(e)h
Fp(S)i Fr(while)f(an)f(anamorphism)i(will)-76 422 y(generate)f(a)f(v)n
(alue)h(of)f(t)o(yp)q(e)g Fp(T)19 b Fr(from)13 b(a)g(v)n(alue)h(of)e(t)
o(yp)q(e)i Fp(S)r Fr(.)-76 516 y Fs(Our)24 b(Approac)o(h.)38
b Fr(T)m(o)18 b(a)o(v)o(oid)h(the)f(computational)k(redun-)-76
558 y(dancy)13 b(of)f Fn(eval)g Fr(and)h(to)f(\014nd)h(a)f(w)o(a)o(y)g
(around)i(the)e(problem)i(of)e(\014nd-)-76 599 y(ing)i(a)f(righ)o(t)h
(in)o(v)o(erse)h(for)d Fn(eval)p Fr(,)g(w)o(e)h(return)h(to)f(the)g
(initial)j(problem)-76 641 y(of)g(expressing)h Fn(g?)f
Fr(as)g Fn(eval)c Fm(\016)h Fn(f)g Fm(\016)g Fn(h?)p
Fr(.)25 b(In)15 b(particular,)k(the)c(crucial)-76 682
y(prop)q(ert)o(y)j(of)f Fn(h?)g Fr(with)g(t)o(yp)q(e)h
Fn(V)o(alue)10 b Fm(!)h Fn(T)m(erm)18 b Fr(is)f(that)g(it)h
(satis\014es)-76 724 y Fn(eval)10 b Fm(\016)g Fn(h?)15
b Fr(=)f Fp(\025x:x)p Fr(.)24 b(In)15 b(addition,)k(this)d(should)h
(happ)q(en)g(with)f(no)-76 765 y(computational)i(o)o(v)o(erhead.)23
b(One)14 b(w)o(a)o(y)h(to)f(accomplish)k(this)d(is)g(to)-76
807 y(tak)o(e)h Fn(h?)g Fr(to)g(b)q(e)h(a)f(v)n(alue)h(constructor)g
(and)g(to)f(add)h(the)f(de\014ning)-76 848 y(equation)j
Fn(eval)12 b(\(h?)17 b(x\))12 b(=)h(x)k Fr(for)f Fn(eval)p
Fr(.)28 b(That)17 b(is,)h(w)o(e)f(can)g(c)o(hange)-76
890 y(the)d(domain,)g Fn(T)m(erm)q Fr(,)f(of)g Fn(eval)f
Fr(to)i(accommo)q(date)g(a)f(new)h(construc-)-76 931
y(tor)f(and)h(then)f(add)h(an)f(extra)h(clause)g(to)f(the)g
(de\014nition)j(of)c Fn(eval)p Fr(.)-20 973 y(With)k(these)f(ideas)i
(in)e(mind,)h(w)o(e)f(mo)q(dify)h(the)f(datat)o(yp)q(e)g(def-)-76
1014 y(inition)21 b(of)e Fn(T)m(erm)g Fr(b)o(y)g(adding)i(a)e(v)n(alue)
g(constructor)h Fn(Place)e Fr(that)-76 1056 y(implemen)o(ts)d
Fn(h?)p Fr(:)-76 1160 y Fo(datat)o(yp)q(e)f Fn(T)m(erm)g(=)e(Const)g
Fo(of)h Fn(int)18 b Fm(j)10 b Fn(Succ)19 b Fm(j)11 b
Fn(Appl)g Fo(of)i Fn(T)m(erm)g Fm(\002)g Fn(T)m(erm)253
1202 y Fm(j)d Fn(Abs)i Fo(of)g Fn(T)m(erm)c Fm(!)e Fn(T)m(erm)20
b Fm(j)11 b Fn(Place)h Fo(of)g Fn(V)o(alue)-76 1274 y
Fr(The)h(ev)n(aluator)i(is)e(also)h(extended)h(accordingly:)-34
1342 y Fl(fun)c Fk(eval\(Const)g(n\))29 b(=)13 b(Num)e(n)-28
1379 y Fu(j)53 b Fk(eval\(Succ\))74 b(=)13 b(F)o(un\()p
Fl(fn)f Fk(Num)g(n)17 b Fu(\))11 b Fk(Num\(n+1\)\))-28
1416 y Fu(j)53 b Fk(eval\(Appl\(f,e\)\))11 b(=)i(\()p
Fl(case)e Fk(eval\(f)r(\))g Fl(of)i Fk(F)o(un\(g\))k
Fu(\))10 b Fk(g\(eval\(e\)\)\))-28 1454 y Fu(j)53 b Fk(eval\(Abs)11
b(f)r(\))64 b(=)13 b(F)o(un\(eval)f Fu(\016)f Fk(f)h
Fu(\016)f Fk(Place\))-28 1491 y Fu(j)53 b Fk(eval\(Place)11
b(x\))37 b(=)13 b(x)-76 1562 y Fr(Under)e(this)h(de\014nition)h(of)e
Fn(eval)o Fr(,)g(the)g(previous)h(example)h(ev)n(aluates)-76
1604 y(as)g(follo)o(ws:)50 1664 y Fk(eval\(Appl\(Abs\()p
Fl(fn)e Fk(x)18 b Fu(\))10 b Fk(Appl\(Succ,x\)\),Const)f(1\)\))50
1701 y(=)k Fl(case)e Fk(eval\(Abs\()p Fl(fn)g Fk(x)18
b Fu(\))10 b Fk(Appl\(Succ,x\)\)\))g Fl(of)127 1739 y
Fk(F)o(un\(g\))18 b Fu(\))10 b Fk(g\(eval\(Const)g(1\)\))50
1776 y(=)j Fl(case)e Fk(F)o(un\()p Fl(fn)h Fk(x)18 b
Fu(\))10 b Fk(eval\(Appl\(Succ,Place)g(x\)\)\))h Fl(of)127
1814 y Fk(F)o(un\(g\))18 b Fu(\))10 b Fk(g\(eval\(Const)g(1\)\))50
1851 y(=)j(eval\(Appl\(Succ,Place\(Num)d(1\)\)\))50 1888
y(=)j Fl(case)e Fk(F)o(un\()p Fl(fn)h Fk(Num)g(n)18 b
Fu(\))10 b Fk(Num\(n+1\)\))h Fl(of)127 1926 y Fk(F)o(un\(g\))18
b Fu(\))10 b Fk(g\(eval\(Place\(Num)g(1\)\)\))50 1963
y(=)j(\()p Fl(fn)e Fk(Num)h(n)18 b Fu(\))10 b Fk(Num\(n+1\)\))h(\(Num)h
(1\))50 2000 y(=)h(Num)f(2)-76 2071 y Fr(Notice)j(that)f
Fn(Const)e(1)j Fr(is)g(ev)n(aluated)h(only)f(once)g(in)o(to)g
Fn(Num)e(1)i Fr(and)-76 2113 y(it)g(remains)h(in)g(that)f(form)g
(protected)g(b)o(y)g(the)g Fn(Place)f Fr(constructor)-76
2155 y(un)o(til)20 b(it)f(is)g(used)h(\(this)f(justi\014es)h(the)e
(name)h Fn(Place)o Fr(,)h(whic)o(h)f(acts)-76 2196 y(as)h(a)f
(placeholder\).)38 b(In)20 b(a)f(w)o(a)o(y)m(,)h Fn(Place)e
Fr(partially)k(satis\014es)f(the)-76 2238 y(requiremen)o(ts)13
b(needed)f(from)e Fn(reify)o Fr(.)16 b(W)m(e)11 b(will)i(see)e(that)g
(this)g(partial)-76 2279 y(satisfaction)i(is)f(\\go)q(o)q(d)g(enough")h
(in)e(man)o(y)h(cases)g(and)f(its)h(lac)o(k)g(can)-76
2321 y(b)q(e)h(statically)j(detected.)-20 2362 y(The)g(tec)o(hnique)i
(of)e(using)h(a)f(v)n(alue)i(constructor)f(to)f(appro)o(xi-)-76
2404 y(mate)10 b(the)f(righ)o(t)h(in)o(v)o(erse)h(of)e(a)g(function)i
(can)f(b)q(e)g(applied)h(to)f(compu-)-76 2445 y(tations)i(o)o(v)o(er)e
Fn(T)m(erm)h Fr(other)f(than)h Fn(eval)p Fr(.)16 b(T)m(o)9
b(b)q(e)i(completely)h(general,)-76 2487 y(it)k(is)f(necessary)i(to)e
(generalize)i(the)e(t)o(yp)q(e)h(de\014nition)h(of)e
Fn(T)m(erm)h Fr(b)o(y)-76 2528 y(abstracting)g(o)o(v)o(er)e(the)f
(domain)j(of)d Fn(Place)g Fr(with)h(a)g(new)f(t)o(yp)q(e)i(v)n(ari-)-76
2570 y(able)20 b Fp(\013)p Fr(;)g(after)e(all,)j(not)e(all)g
(computations)i(o)o(v)o(er)e Fn(T)m(erm)p Fr(s)g(return)-76
2611 y Fn(V)o(alue)o Fr(s:)1108 -47 y Fo(datat)o(yp)q(e)14
b Fp(\013)e Fn(T)m(erm)i(=)e(Const)g Fo(of)h Fn(int)18
b Fm(j)10 b Fn(Succ)1474 -5 y Fm(j)g Fn(Appl)h Fo(of)i
Fp(\013)f Fn(T)m(erm)i Fm(\002)e Fp(\013)h Fn(T)m(erm)1474
36 y Fm(j)d Fn(Abs)i Fo(of)g Fp(\013)h Fn(T)m(erm)7 b
Fm(!)g Fp(\013)12 b Fn(T)m(erm)1474 78 y Fm(j)e Fn(Place)i
Fo(of)h Fp(\013)1020 150 y Fr(This)f(allo)o(ws)h(an)o(y)f
Fp(\013)e Fr(ob)r(ject)i(to)f(b)q(e)h(a)f(subt)o(yp)q(e)i(of)e
Fn(T)m(erm)q Fr(,)g(and)h Fn(Place)1020 192 y Fr(pla)o(ys)i(the)g(role)
f(of)g(an)g(injection)i(function.)1076 233 y(One)j(appropriate)i
(generalization)h(of)d Fn(eval)f Fr(is)h(the)g(catamor-)1020
275 y(phism.)k(The)14 b(catamorphism)i(op)q(erator)f(for)f
Fn(T)m(erm)g Fr(replaces)i(eac)o(h)1020 316 y(v)n(alue)11
b(constructor)f(\()p Fn(Const)o Fr(,)g Fn(Succ)p Fr(,)f
Fn(Appl)o Fr(,)g(and)h Fn(Abs)p Fr(\))f(in)h(an)g(instance)1020
358 y(of)j Fn(T)m(erm)g Fr(with)h(a)f(corresp)q(onding)j(function)e(\()
p Fn(fc)p Fr(,)e Fn(fs)p Fr(,)g Fn(fp)p Fr(,)g(and)i
Fn(fa)p Fr(\):)1020 459 y Fl(fun)d Fk(cataT\(fc,fs,fp,fa\))e(\(Const)h
(n\))44 b(=)13 b(fc)e(n)1026 497 y Fu(j)53 b Fk(cataT\(fc,fs,fp,fa\))9
b(Succ)116 b(=)13 b(fs)1026 534 y Fu(j)53 b Fk(cataT\(fc,fs,fp,fa\))9
b(\(Appl\(a,b\)\))17 b(=)c(fp\()e(cataT\(fc,fs,fp,fa\))e(a,)1632
572 y(cataT\(fc,fs,fp,fa\))g(b)j(\))1026 609 y Fu(j)53
b Fk(cataT\(fc,fs,fp,fa\))9 b(\(Abs)i(f)r(\))78 b(=)13
b(fa\(cataT\(fc,fs,f)o(p,fa\))c Fu(\016)i Fk(f)g Fu(\016)h
Fk(Place\))1026 646 y Fu(j)53 b Fk(cataT\(fc,fs,fp,fa\))9
b(\(Place)i(x\))51 b(=)13 b(x)1020 717 y Fr(Op)q(erator)h
Fn(cataT)f Fr(has)h(the)f(follo)o(wing)i(signature:)1034
796 y(\()p Fn(int)s Fm(!)t Fp(\013)p Fr(\))9 b Fm(\002)f
Fp(\013)h Fm(\002)f Fr(\()p Fp(\013)g Fm(\002)g Fp(\013)t
Fm(!)t Fp(\013)p Fr(\))h Fm(\002)f Fr(\(\()p Fp(\013)t
Fm(!)t Fp(\013)p Fr(\))t Fm(!)t Fp(\013)p Fr(\))t Fm(!)t
Fp(\013)g Fn(T)m(erm)d Fm(!)t Fp(\013)1020 875 y Fr(That)10
b(is,)g(the)g(abstracted)g(t)o(yp)q(e)g(v)n(ariable)i
Fp(\013)d Fr(\(the)h(domain)h(of)e Fn(Place)o Fr(\))1020
917 y(is)14 b(b)q(ound)g(to)f(the)g(t)o(yp)q(e)h(of)e(the)h(result)h
(of)f Fn(cataT)q Fr(.)1076 958 y(W)m(e)f(ma)o(y)f(express)h(the)g(ev)n
(aluator)h Fn(eval)d Fr(as)h(a)h(catamorphism)h(as)1020
1000 y(follo)o(ws:)1153 1063 y Fn(cataT\()h(Num,)f(F)o(un\()p
Fo(fn)f Fn(Num)h(n)19 b Fm(\))11 b Fn(Num\(n+1\)\),)1275
1104 y Fo(fn)h Fn(\(F)o(un\(f)s(\),e\))18 b Fm(\))11
b Fn(f)h(e,)h(F)o(un)f(\))1020 1177 y Fr(A)h(prin)o(ter)h(for)f(a)g
(term)f(is:)1056 1247 y Fn(cataT\(mak)o(estring,)h("succ",)1165
1289 y Fo(fn)f Fn(\(a,b\))19 b Fm(\))11 b Fn(a)i Fm(")g
Fn(")g(")g Fm(")g Fn(b,)1165 1330 y Fo(fn)f Fn(f)19 b
Fm(\))11 b Fo(let)j(v)n(al)f Fn(n)g(=)f(newname\(\))1296
1372 y Fo(in)g Fn("\()p Fo(fn)g Fn(")h Fm(")g Fn(n)f
Fm(")h Fn(")20 b Fm(\))11 b Fn(")i Fm(")g Fn(\(f)f(n\))h
Fm(")g Fn("\)")g Fo(end)p Fn(\))1020 1444 y Fr(where)g
Fn(newname)h Fr(returns)f(a)g(string)h(that)f(represen)o(ts)h(a)f(new)f
(v)n(ari-)1020 1486 y(able)i(name)g(and)f Fm(")g Fr(is)h(string)g
(concatenation.)1076 1527 y(As)e(another)g(example)h(of)f(using)h(a)e
(catamorphism)j(o)o(v)o(er)e Fn(T)m(erm)q Fr(,)1020 1569
y(w)o(e)e(presen)o(t)h(a)g(t)o(yp)q(e)g(inference)h(algorithm.)18
b(T)o(yp)q(es)11 b(can)g(b)q(e)g(de\014ned)1020 1610
y(as)i(follo)o(ws:)1134 1681 y Fo(datat)o(yp)q(e)h Fn(T)m(yp)q(e)f(=)f
(Int)19 b Fm(j)10 b Fn(Arro)o(w)j Fo(of)g Fn(T)m(yp)q(e)6
b Fm(!)h Fn(T)m(yp)q(e)1020 1753 y Fr(A)i(t)o(yp)q(e)h(inference)g
(algorithm)i(for)d(terms)g(is)h(a)f(mapping)j(from)d
Fn(T)m(erm)1020 1794 y Fr(to)k Fn(T)m(yp)q(e)p Fr(:)1113
1865 y Fn(cataT\()g Fo(fn)p 1288 1865 12 2 v 45 w Fm(\))e
Fn(Int,)1234 1906 y(Arro)o(w\()p Fo(fn)h Fn(Int)19 b
Fm(\))11 b Fn(Int)19 b Fm(j)p 1596 1906 V 43 w(\))11
b Fn(t)o(yp)q(e)p 1747 1906 V 13 w(erro)o(r\(\)\),)1234
1948 y Fo(fn)h Fn(\(Arro)o(w\(f)s(\),t\))18 b Fm(\))11
b Fn(f\(t\))19 b Fm(j)p 1647 1948 V 43 w(\))11 b Fn(t)o(yp)q(e)p
1797 1948 V 14 w(erro)o(r\(\),)1234 1989 y(Arro)o(w)i(\))1020
2062 y Fr(T)o(yp)q(e)i(errors)g(are)g(rep)q(orted)g(when)g(the)g
(inferred)g(t)o(yp)q(e)g(is)h(prin)o(ted)1020 2103 y(\(since)e(most)f
(calls)i(to)e Fn(t)o(yp)q(e)p 1427 2103 V 13 w(erro)o(r)g
Fr(are)g(susp)q(ended)i(in)f(closures\).)1076 2145 y(In)k(ligh)o(t)h
(of)e(co)q(de)h(reuse)g(issues,)i(it)e(is)g(generally)i(not)e(advis-)
1020 2186 y(able)c(to)e(extend)i(t)o(yp)q(e)f(de\014nitions)i(b)o(y)e
(adding)i(new)d(constructors.)1020 2228 y(Suc)o(h)k(extensions)i(can)e
(cause)g(non-exhaustiv)o(e)i(case)e(analyses)h(in)1020
2269 y(pre-existing)c(co)q(de.)k(In)10 b(our)i(example,)g(the)f
(existence)h(of)e(the)h Fn(Place)1020 2311 y Fr(constructor)g(is)g
(problematic)i(for)d(additional)k(reasons.)j(If)9 b(the)i(user)1020
2352 y(constructs)i(a)e Fn(T)m(erm)h Fr(with)g Fn(Place)p
Fr(,)f(then)h(the)g(t)o(yp)q(e)g(of)f(the)h(term)g(will)1020
2394 y(not)g(b)q(e)g(fully)h(parametric.)18 b(That)12
b(is,)g(the)g(t)o(yp)q(e)g(v)n(ariable)i Fp(\013)e Fr(will)h(b)q(e)1020
2435 y(b)q(ound)h(to)f(some)g(t)o(yp)q(e,)h Fp(t)p Fr(,)e(and)h(the)h
(giv)o(en)g(term)f(w)o(ould)h(no)f(longer)1020 2477 y(b)q(e)g
(acceptable)g(as)g(an)f(input)i(to)e(a)g(catamorphism)i(that)f(pro)q
(duces)1020 2518 y(a)h(v)n(alue)i(of)e(some)g(t)o(yp)q(e)h(other)g
(than)f Fp(t)p Fr(.)21 b(In)14 b(addition,)j(since)e
Fn(Place)1020 2560 y Fr(pla)o(ys)d(the)g(crucial)h(role)e(as)h(the)f
(appro)o(ximate)i(righ)o(t)f(in)o(v)o(erse)g(of)f(the)1020
2601 y(catamorphism,)17 b(it)e(is)h(not)f(at)g(all)h(clear)f(what)g
(consequences)i(the)961 2747 y(3)p eop
%%Page: 4 4
4 3 bop -76 -34 a Fr(user-constructed)14 b Fn(T)m(erm)q
Fr(s)e(using)h Fn(Place)e Fr(will)j(ha)o(v)o(e)f(for)f(the)g(seman-)-76
7 y(tics)i(of)e Fn(cataT)r Fr(.)-20 49 y(The)17 b(solution)i(to)e(this)
h(problem)h(is)e(to)g(hide)i(the)e Fn(Place)f Fr(con-)-76
90 y(structor)e(from)g(the)g(programmer.)21 b(If)13 b
Fn(Place)g Fr(do)q(es)h(not)h(app)q(ear)f(in)-76 132
y(the)g(input)h(of)e Fn(cataT)q Fr(,)g(then)h(it)f(will)i(not)f(app)q
(ear)g(in)h(the)e(output)h(of)-76 173 y Fn(cataT)j Fr(either.)28
b(T)m(o)16 b(see)h(wh)o(y)m(,)f(consider)i(the)f(case)g(of)f
Fn(cataT)h Fr(o)o(v)o(er)-76 215 y Fn(Abs\(f)s(\))o Fr(.)27
b(This)17 b(is)g(the)g(only)h(situation)g(in)f(whic)o(h)h
Fn(Place)d Fr(is)j(in)o(tro-)-76 256 y(duced)c(b)o(y)f
Fn(cataT)q Fr(,)g(and)h(it)f(pro)q(duces)h(the)g(term:)68
327 y Fn(fa\()f Fo(fn)e Fn(x)19 b Fm(\))11 b Fn(cataT\(fc,fs,fp,fa\))h
(\(f)h(\(Place)f(x\)\))g(\))-76 399 y Fr(If)c Fn(f)h
Fr(ignores)h(its)f(argumen)o(t,)i(then)e Fn(Place)f Fr(will)i(disapp)q
(ear;)i(otherwise)-76 441 y Fn(cataT)j Fr(will)h(ev)o(en)o(tually)h
(reduce)e(all)g(o)q(ccurrences)h(of)e Fn(Place)f Fr(in)i(the)-76
482 y(input)f(that)f(ha)o(v)o(e)g(t)o(yp)q(e)g Fn(T)m(erm)g
Fr({)f(includin)q(g)j(o)q(ccurrences)f(in)f(terms)-76
524 y(lik)o(e)j Fn(\(Place)c(z\))p Fr(,)i(whic)o(h)i(will)g(reduce)f
(to)f Fn(z)p Fr(.)21 b(Therefore,)15 b Fn(Place)f Fr(will)-76
565 y(not)f(app)q(ear)h(in)g(the)f(output.)-20 607 y(The)d(ab)q(o)o(v)o
(e)g(observ)n(ation)i(suggests)f(that)f(if)g(the)f(catamorphism)-76
648 y(op)q(erator)21 b(w)o(ere)f(a)g(primitiv)o(e)j(in)e(the)f
(programming)j(language,)-76 690 y(then)13 b(just)g(one)g
Fn(Place)f Fr(constructor)i(w)o(ould)g(b)q(e)f(needed.)18
b(This)13 b(sp)q(e-)-76 731 y(cial)j(constructor,)g Fo(Place)p
Fr(,)f(could)h(then)f(b)q(e)g(used)h(b)o(y)f(ev)o(ery)g(cata-)-76
773 y(morphism,)e(regardless)h(of)e(whic)o(h)g(t)o(yp)q(e)h(it)f(tra)o
(v)o(erses.)17 b(The)12 b(imple-)-76 814 y(men)o(tation)j(of)e
(catamorphisms)j(as)e(primitiv)o(es)i(w)o(ould)e(guaran)o(tee)-76
856 y(that)g Fo(Place)g Fr(is)g(the)h(righ)o(t)f(in)o(v)o(erse)i(of)d
(eac)o(h)i(catamorphism.)21 b(The)-76 897 y Fo(Place)14
b Fr(constructor)i(is)f(completely)h(hidden)g(from)e(programmers)-76
939 y(in)i(the)f(same)g(w)o(a)o(y)f(that)h(programmers)h(cannot)g
(access)f(closures;)-76 980 y(it)f(is)f(strictly)i(an)e(in)o(ternal)i
(implemen)o(tation)h(detail.)-76 1074 y Fs(The)27 b(Restriction)h(on)f
(Place.)39 b Fr(The)20 b(primitiv)o(e)i(place)-76 1115
y(constructor,)11 b Fo(Place)p Fr(,)f(is)g(only)h(an)g(appro)o
(ximation)h(to)e(the)g(righ)o(t)h(in-)-76 1157 y(v)o(erse)g(of)f
Fn(cataT)q Fr(.)16 b(Where)11 b(do)q(es)h(this)f(appro)o(ximation)j
(break)d(do)o(wn?)-76 1199 y(T)m(o)i(answ)o(er)g(this)h(question,)g
(consider)h(applying)h Fn(eval)c Fr(to)h(the)g(term)-60
1269 y Fn(Abs\()p Fo(fn)e Fn(x)19 b Fm(\))11 b Fo(case)i
Fn(x)g Fo(of)f Fn(Const)g(n)19 b Fm(\))11 b Fn(Const)h(n)19
b Fm(j)11 b Fn(z)19 b Fm(\))11 b Fn(Const)h(0\))-76 1341
y Fr(This)i(yields)-40 1412 y Fn(F)o(un\()p Fo(fn)d Fn(y)19
b Fm(\))11 b Fn(eval\()p Fo(case)i Fn(\()p Fo(Place)g
Fn(y\))f Fo(of)h Fn(Const)f(n)19 b Fm(\))11 b Fn(Const)h(n)573
1453 y Fm(j)f Fn(z)18 b Fm(\))11 b Fn(Const)h(0\)\))-76
1528 y Fr(Not)i(ev)o(ery)h(instance)h(of)e(a)h Fn(T)m(erm)f
Fr(can)h(b)q(e)g(tra)o(v)o(ersed)g(b)o(y)g Fn(eval)e
Fr(\(ex-)-76 1569 y(pressed)h(as)g(a)f(catamorphism\),)i(b)q(ecause)f
(the)f(function)i Fn(f)e Fr(em)o(b)q(ed-)-76 1611 y(ded)h(in)g
Fn(Abs\(f)s(\))d Fr(do)q(es)j(not)g(kno)o(w)f(ho)o(w)h(to)f(handle)i
(the)e Fo(Place)g Fr(con-)-76 1652 y(structor,)j(as)f(the)g(example)i
(ab)q(o)o(v)o(e)f(sho)o(ws.)24 b(If)14 b Fn(f)h Fr(merely)h(\\pushes)
-76 1694 y(its)c(argumen)o(t)g(around",)h(things)f(will)h(b)q(e)e(ok,)h
(but)g(if)f Fn(f)g Fr(attempts)g(to)-76 1735 y(analyze)h(its)e(argumen)
o(t)h(with)f(a)g(case)g(expression)i(to)e(\\lo)q(ok)h(inside",)-76
1777 y(as)i(the)g(example)i(ab)q(o)o(v)o(e)f(do)q(es,)f(things)h(can)g
(go)f(wrong.)-20 1818 y(Our)19 b(prop)q(osed)g(solution)i(to)d(this)i
(problem)f(is)g(to)g(statically)-76 1860 y(detect)e(when)g(it)g(o)q
(ccurs)h(and)f(to)g(rep)q(ort)g(a)f(compile-time)j(error.)-76
1901 y(W)m(e)c(need)h(to)e(statically)k(detect)d(when)g(a)g(function)h
(em)o(b)q(edded)g(in)-76 1943 y(a)e(v)n(alue)g(construction)i(p)q
(erforms)d(a)h(case)f(analysis)j(o)o(v)o(er)e(its)g(argu-)-76
1984 y(men)o(t.)30 b(This)18 b(is)g(not)g(alw)o(a)o(ys)g(problematic;)k
(it)17 b(only)i(b)q(ecomes)f(a)-76 2026 y(di\016cult)o(y)c(if)f(there)f
(exists)h(a)f(catamorphism)j(o)o(v)o(er)d(this)h(particular)-76
2067 y(construction.)22 b(Our)14 b(strategy)g(is)g(to)g(extend)h(the)f
(t)o(yp)q(e)g(system)g(to)-76 2109 y(detect)i(suc)o(h)h(cases.)26
b(W)m(e)16 b(in)o(v)o(estigate)i(suc)o(h)f(a)f(t)o(yp)q(e)g(system)h
(fur-)-76 2150 y(ther)10 b(in)h(Section)g(3.)16 b(The)10
b(t)o(yp)q(e-c)o(hec)o(king)i(algorithm)g(is)e(simple)i(and)-76
2192 y(can)j(b)q(e)f(implemen)o(ted)i(e\016cien)o(tly)m(.)22
b(It)13 b(rep)q(orts)i(an)f(error)g(only)h(for)-76 2233
y(in)o(v)n(alid)h(terms.)-20 2275 y(This)22 b(restriction)g(is)f(not)g
(substan)o(tial)i(in)f(our)f(enco)q(ding)h(of)-76 2316
y(terms,)17 b(since)g(an)o(y)g(term)f(construction)i(using)g(regular)f
(term)f(en-)-76 2358 y(co)q(ding)c(\(i.e.,)e(b)o(y)h(represen)o(ting)h
(lam)o(b)q(da)g(v)n(ariables)g(explicitl)q(y\))h(can)-76
2399 y(b)q(e)d(mapp)q(ed)h(directly)g(in)o(to)g(our)f(term)f(represen)o
(tation)j(without)e(the)-76 2441 y(ab)q(o)o(v)o(e)16
b(men)o(tioned)i(problem.)25 b(The)16 b(problem)g(app)q(ears)h(when)f
(w)o(e)-76 2482 y(go)d(b)q(ey)o(ond)i(the)e(t)o(ypical)i(enco)q(ding)g
(of)d(terms.)1020 -34 y Fs(2.1.2)52 b(The)18 b(P)o(arametricit)o(y)f
(Theorem)1020 31 y Fr(As)9 b(another)i(example)g(of)e(represen)o(ting)j
(terms)d(b)o(y)h(structures)h(with)1020 73 y(em)o(b)q(edded)18
b(functions,)h(w)o(e)d(construct)h(the)g(parametricit)o(y)i(theo-)1020
114 y(rem)11 b(for)f(a)h(p)q(olymorphic)i(function.)18
b(T)m(o)10 b(understand)j(this)e(section,)1020 156 y(the)h(reader)h(m)o
(ust)f(b)q(e)g(familiar)i(with)f(W)m(adler's)g(theorems-for-free)1020
197 y(pap)q(er)h([15].)1076 239 y(An)o(y)i(function)i
Fp(f)i Fr(of)c(t)o(yp)q(e)h Fp(\034)j Fr(satis\014es)e(a)e
(parametricit)o(y)i(the-)1020 280 y(orem,)e(whic)o(h)g(is)f(deriv)o(ed)
i(directly)g(from)e(the)g(t)o(yp)q(e)h Fp(\034)t Fr(.)23
b(F)m(or)15 b(\014rst-)1020 322 y(order)c(functions,)h(this)f(theorem)f
(states)h(that)f(an)o(y)h(strict)g(p)q(olymor-)1020 363
y(phic)j(function)h(is)e(a)g(natural)i(transformation.)1020
435 y Fo(Theorem)g(1)g(\(P)o(arametricit)o(y)g(Theorem\))k
Fq(A)o(ny)11 b(strict)g(func-)1020 476 y(tion)h Fp(f)j
Fr(:)10 b Fp(\034)18 b Fq(satis\014es)11 b Fr([)-6 b([)p
Fp(\034)t Fr(])g(]\()p Fp(f)r(;)t(f)t Fr(\))p Fq(,)13
b(wher)n(e:)1039 556 y Fr([)-6 b([basic])g(]\()p Fp(r)o(;)5
b(s)p Fr(\))69 b Fm(!)38 b Fp(r)12 b Fr(=)f Fp(s)1039
630 y Fr([)-6 b([)p Fp(\013)p Fr(])g(]\()p Fp(r)o(;)s(s)p
Fr(\))128 b Fm(!)38 b Fp(r)12 b Fr(=)f Fp(\013)p Fr(\()p
Fp(s)p Fr(\))1039 704 y([)-6 b([)p Fm(8)p Fp(\013:)5
b(\034)t Fr(])-6 b(]\()p Fp(r)o(;)5 b(s)p Fr(\))68 b
Fm(!)38 b(8)p Fp(\013)11 b Fr(:)16 b([)-6 b([)p Fp(\034)t
Fr(])g(]\()p Fp(r)o(;)5 b(s)p Fr(\))1039 777 y([)-6 b([)p
Fp(\034)1072 781 y Fj(1)1096 777 y Fm(\002)9 b Fp(\034)1152
781 y Fj(2)1169 777 y Fr(])-6 b(]\()p Fp(r)o(;)5 b(s)p
Fr(\))37 b Fm(!)h Fr([)-6 b([)p Fp(\034)1411 781 y Fj(1)1427
777 y Fr(])g(]\()p Fp(\031)1480 781 y Fj(1)1496 777 y
Fr(\()p Fp(r)q Fr(\))p Fp(;)7 b(\031)1584 781 y Fj(1)1601
777 y Fr(\()p Fp(s)p Fr(\)\))15 b Fm(^)f Fr([)-6 b([)p
Fp(\034)1752 781 y Fj(2)1768 777 y Fr(])g(]\()p Fp(\031)1821
781 y Fj(2)1837 777 y Fr(\()p Fp(r)q Fr(\))p Fp(;)7 b(\031)1925
781 y Fj(2)1942 777 y Fr(\()p Fp(s)p Fr(\)\))1039 851
y([)-6 b([)p Fp(\034)1072 855 y Fj(1)1092 851 y Fm(!)t
Fp(\034)1151 855 y Fj(2)1169 851 y Fr(])g(]\()p Fp(r)o(;)5
b(s)p Fr(\))37 b Fm(!)h(8)p Fp(x;)6 b(y)12 b Fr(:)17
b([)-6 b([)p Fp(\034)1530 855 y Fj(1)1546 851 y Fr(])g(]\()p
Fp(x;)5 b(y)q Fr(\))17 b Fm(\))g Fr([)-6 b([)p Fp(\034)1755
855 y Fj(2)1772 851 y Fr(])g(]\()p Fp(r)q Fr(\()p Fp(x)p
Fr(\))p Fp(;)5 b(s)p Fr(\()p Fp(y)q Fr(\)\))1039 928
y([)-6 b([)p Fp(T)5 b Fr(\()p Fp(\034)t Fr(\)])-6 b(]\()p
Fp(r)o(;)5 b(s)p Fr(\))73 b Fm(!)38 b(8)p Fp(f)r(;)6
b(x)11 b Fr(:)16 b([)-6 b([)p Fp(\034)t Fr(])g(]\()p
Fp(f)t Fr(\()p Fp(x)p Fr(\))p Fp(;)t(x)p Fr(\))16 b Fm(\))i
Fp(r)12 b Fr(=)e(map)1906 913 y Fi(T)1930 928 y Fr(\()p
Fp(f)t Fr(\))c Fp(s)1020 1008 y Fr(That)13 b(is,)h(for)f(eac)o(h)g(t)o
(yp)q(e)h(v)n(ariable)h Fp(\013)p Fr(,)d(w)o(e)h(asso)q(ciate)i(a)e
(function)i Fp(\013)1020 1050 y Fr(\(of)f(t)o(yp)q(e)g
Fp(\013)1192 1054 y Fj(1)1215 1050 y Fm(!)6 b Fp(\013)1284
1054 y Fj(2)1302 1050 y Fr(,)14 b(where)g Fp(\013)1464
1054 y Fj(1)1495 1050 y Fr(and)g Fp(\013)1595 1054 y
Fj(2)1626 1050 y Fr(are)g(instances)i(of)e Fp(\013)p
Fr(\).)20 b(T)m(o)1020 1091 y(a)o(v)o(oid)c(the)f(name)g(capture)g
(problem,)h(w)o(e)e(need)i(to)e(pass)h(an)g(en)o(vi-)1020
1133 y(ronmen)o(t)d(through)h([)-6 b([)p Fp(\034)t Fr(])g(]\()p
Fp(r)o(;)t(s)p Fr(\))11 b(that)h(maps)g(t)o(yp)q(e)g(v)n(ariable)h
(names)f(to)1020 1174 y(function)g(names.)17 b(This)12
b(en)o(vironmen)o(t)h(is)e(not)g(necessary)h(if)f(w)o(e)g(use)1020
1216 y(structures)j(with)f(em)o(b)q(edded)i(functions.)1076
1257 y(T)m(o)9 b(illustrate)k(Theorem)d(1,)g(w)o(e)f(deriv)o(e)i(the)f
(parametricit)o(y)i(the-)1020 1299 y(orem)g(for)f(the)g(list)i
(catamorphism,)g(fold)f(:)k Fm(8)p Fp(\013:)p Fm(8)p
Fp(\014)r(:)6 b Fr(\()p Fp(\013)t Fm(!)t Fp(\014)g Fm(!)t
Fp(\014)r Fr(\))t Fm(!)1020 1340 y Fp(\014)11 b Fm(!)e
Fr(list)r(\()p Fp(\013)p Fr(\))f Fm(!)i Fp(\014)17 b
Fr(\(The)f(construction)i(is)f(accomplished)h(in)f(four)1020
1382 y(simple)e(steps\):)1060 1462 y([)-6 b([)p Fm(8)p
Fp(\016)o(:)p Fm(8)p Fp(":)10 b(\016)c Fm(!)t Fp(")p
Fr(])-6 b(]\()p Fp(r)o(;)5 b(s)p Fr(\))1162 1503 y Fm(!)38
b(8)p Fp(\016)o(;)6 b(";)g(x;)g(y)12 b Fr(:)17 b([)-6
b([)p Fp(\016)q Fr(])g(]\()p Fp(x;)t(y)q Fr(\))17 b Fm(\))g
Fr([)-6 b([)p Fp(")p Fr(])g(]\()p Fp(r)q Fr(\()p Fp(x)p
Fr(\))p Fp(;)t(s)p Fr(\()p Fp(y)q Fr(\)\))1162 1545 y
Fm(!)38 b(8)p Fp(\016)o(;)6 b(";)g(x;)g(y)12 b Fr(:)17
b Fp(x)10 b Fr(=)h Fp(\016)q Fr(\()p Fp(y)q Fr(\))17
b Fm(\))h Fp(r)q Fr(\()p Fp(x)p Fr(\))10 b(=)h Fp(")p
Fr(\()p Fp(s)p Fr(\()p Fp(y)q Fr(\)\))1164 1586 y(or)40
b Fm(8)p Fp(\016)o(;)6 b(")11 b Fr(:)16 b Fp(r)10 b Fm(\016)f
Fp(\016)j Fr(=)f Fp(")d Fm(\016)h Fp(s)1060 1652 y Fr([)-6
b([)p Fm(8)p Fp(\016)o(:)p Fm(8)p Fp(":)p Fm(8)p Fp(\021)q(:)10
b(\016)c Fm(!)t Fp(")t Fm(!)t Fp(\021)q Fr(])-6 b(]\()p
Fp(r)o(;)7 b(s)p Fr(\))1162 1694 y Fm(!)38 b(8)p Fp(\016)o(;)6
b(";)g(\021)q(;)h(x;)f(y)11 b Fr(:)17 b([)-6 b([)p Fp(\016)q
Fr(])g(]\()p Fp(x;)t(y)q Fr(\))17 b Fm(\))h Fr([)-6 b([)p
Fp(")t Fm(!)t Fp(\021)q Fr(])g(]\()p Fp(r)q Fr(\()p Fp(x)p
Fr(\))p Fp(;)5 b(s)p Fr(\()p Fp(y)q Fr(\)\))1162 1735
y Fm(!)38 b(8)p Fp(\016)o(;)6 b(";)g(\021)q(;)h(x;)f(y)11
b Fr(:)17 b Fp(x)11 b Fr(=)f Fp(\016)q Fr(\()p Fp(y)q
Fr(\))18 b Fm(\))f Fp(r)q Fr(\()p Fp(x)p Fr(\))9 b Fm(\016)g
Fp(")h Fr(=)h Fp(\021)f Fm(\016)e Fp(s)p Fr(\()p Fp(y)q
Fr(\))1164 1777 y(or)40 b Fm(8)p Fp(\016)o(;)6 b(";)g(\021)q(;)h(y)q(;)
f(z)12 b Fr(:)17 b Fp(r)8 b Fr(\()p Fp(\016)f(y)q Fr(\))g(\()p
Fp(")f(z)r Fr(\))k(=)h Fp(\021)q Fr(\()p Fp(s)c(y)g(z)r
Fr(\))1060 1842 y([)-6 b([)p Fm(8)p Fp(\013:)9 b Fr(list)r(\()p
Fp(\013)p Fr(\)])-6 b(]\()p Fp(r)o(;)t(s)p Fr(\))1162
1888 y Fm(!)38 b(8)p Fp(\013;)6 b(f)r(;)f(x)11 b Fr(:)16
b Fp(f)t Fr(\()p Fp(x)p Fr(\))10 b(=)h Fp(\013)p Fr(\()p
Fp(x)p Fr(\))16 b Fm(\))i Fp(r)12 b Fr(=)e(map)1815 1872
y Fj(list)1859 1888 y Fr(\()p Fp(f)t Fr(\))c Fp(s)1164
1933 y Fr(or)40 b Fm(8)p Fp(\013)10 b Fr(:)17 b Fp(r)12
b Fr(=)e(map)1464 1918 y Fj(list)1508 1933 y Fr(\()p
Fp(\013)p Fr(\))c Fp(s)1085 2016 y Fr([)-6 b([)p Fm(8)p
Fp(\013:)p Fm(8)p Fp(\014)r(:)8 b Fr(\()p Fp(\013)t Fm(!)t
Fp(\014)e Fm(!)t Fp(\014)r Fr(\))t Fm(!)t Fp(\014)g Fm(!)t
Fr(li)q(st)s(\()p Fp(\013)p Fr(\))t Fm(!)t Fp(\014)r
Fr(])-6 b(]\()p Fp(r)o(;)5 b(s)p Fr(\))1085 2058 y Fm(!)21
b Fr([)-6 b([)p Fp(\013)t Fm(!)t Fp(\014)6 b Fm(!)t Fp(\014)r
Fr(])-6 b(]\()p Fm(\012)p Fp(;)5 b Fm(\010)p Fr(\))17
b Fm(\))g Fr([)-6 b([)p Fp(\014)6 b Fm(!)t Fr(list)q(\()p
Fp(\013)p Fr(\))t Fm(!)t Fp(\014)r Fr(])-6 b(]\()p Fp(r)7
b Fm(\012)p Fp(;)f(s)g Fm(\010)p Fr(\))1085 2100 y Fm(!)21
b Fr(\()p Fp(\013)6 b(x)p Fr(\))j Fm(\012)f Fr(\()p Fp(\014)g(y)q
Fr(\))j(=)f Fp(\014)r Fr(\()p Fp(x)e Fm(\010)h Fp(y)q
Fr(\))1149 2145 y Fm(\))17 b Fp(r)g Fm(\012)e Fr(\()p
Fp(\014)8 b(x)p Fr(\))e(\(map)1458 2129 y Fj(list)1502
2145 y Fr(\()p Fp(\013)p Fr(\))g Fp(y)q Fr(\))11 b(=)f
Fp(\014)r Fr(\()p Fp(s)k Fm(\010)h Fp(x)6 b(y)q Fr(\))1020
2210 y(That)13 b(is,)g(fold)h(satis\014es)g(the)g(follo)o(wing)h
(theorem:)1087 2288 y(\()p Fp(\013)6 b(x)p Fr(\))i Fm(\012)h
Fr(\()p Fp(\014)f(y)q Fr(\))i(=)h Fp(\014)r Fr(\()p Fp(x)d
Fm(\010)g Fp(y)q Fr(\))1167 2334 y Fm(\))18 b Fr(fold)q(\()p
Fm(\012)p Fr(\))6 b(\()p Fp(\014)i(x)p Fr(\))e(\(map)1527
2318 y Fj(list)1571 2334 y Fr(\()p Fp(\013)p Fr(\))g
Fp(y)q Fr(\))11 b(=)f Fp(\014)r Fr(\(fold)q(\()p Fm(\010)p
Fr(\))c Fp(x)g(y)q Fr(\))1076 2413 y(As)11 b(w)o(as)g(p)q(oin)o(ted)i
(out)f(to)f(the)g(authors)h(b)o(y)g(Ross)g(P)o(aterson,)g(the)1020
2455 y(parametricit)o(y)f(theorem)e(can)g(b)q(e)g(easily)i(extended)f
(to)f(parametrize)1020 2496 y(o)o(v)o(er)k(t)o(yp)q(e)g(constructors)h
(b)o(y)f(asso)q(ciating)i(to)e(eac)o(h)g(free)f(t)o(yp)q(e)h(con-)1020
2538 y(structor)d Fp(T)17 b Fr(:)10 b Fm(\003)t(!)t(\003)h
Fr(a)f(function)h Fp(T)16 b Fr(of)9 b(t)o(yp)q(e)i(\()p
Fp(\013)1695 2542 y Fj(1)1716 2538 y Fm(!)t Fp(\013)1783
2542 y Fj(2)1800 2538 y Fr(\))t Fm(!)t Fp(T)1883 2542
y Fj(1)1902 2538 y Fr(\()p Fp(\013)1942 2542 y Fj(1)1959
2538 y Fr(\))t Fm(!)1020 2579 y Fp(T)1042 2583 y Fj(2)1060
2579 y Fr(\()p Fp(\013)1100 2583 y Fj(2)1117 2579 y Fr(\),)h(where)h
Fp(T)1288 2583 y Fj(1)1318 2579 y Fr(and)g Fp(T)1414
2583 y Fj(2)1445 2579 y Fr(are)f(instances)j(of)d Fp(T)5
b Fr(.)18 b(This)13 b(extension)1020 2621 y(is)19 b(useful)g(when)g(w)o
(e)f(w)o(an)o(t)g(to)g(express)h(la)o(ws)g(ab)q(out)g(op)q(erations)961
2747 y(4)p eop
%%Page: 5 5
5 4 bop -76 -74 2086 2 v -76 334 2 409 v 40 23 a Fo(fun)11
b Fn(pa)o(rametricit)o(y)h(tp)g(=)40 65 y(All\()p Fo(fn)d
Fn(fnc)19 b Fm(\))11 b Fn(cataT\()p Fo(fn)i Fn(\(r,s\))19
b Fm(\))11 b Fn(Eq\(r,s\),)375 106 y Fo(fn)h Fn(\(a,b\))19
b Fm(\))11 b Fo(fn)h Fn(\(r,s\))19 b Fm(\))11 b Fn(And\()h
(a\(Apl\(Pi1,r\),Ap)o(l\(P)o(i)o(1,s\)\),)d(b\(Apl\(Pi2,r\),Ap)o(l\()o
(Pi)o(2,s\)\))g(\),)375 148 y Fo(fn)j Fn(\(a,b\))19 b
Fm(\))11 b Fo(fn)h Fn(\(r,s\))19 b Fm(\))11 b Fn(All\()p
Fo(fn)e Fn(x)19 b Fm(\))11 b Fn(All\()p Fo(fn)f Fn(y)19
b Fm(\))11 b Fn(Impl\(a\(x,y\),b\(Apl\(r,x)o(\),A)o(pl)o(\(s,y)o
(\)\)\)\)\),)375 190 y Fo(fn)h Fn(f)19 b Fm(\))11 b Fo(fn)h
Fn(\(r,s\))19 b Fm(\))11 b Fn(All\()p Fo(fn)e Fn(x)19
b Fm(\))11 b Fn(f\()p Fo(fn)h Fn(\(r,s\))18 b Fm(\))11
b Fn(Eq\(r,Apl\(x,s\)\)\)\(r,s\)\),)375 231 y Fo(fn)h
Fn(\(n,a\))19 b Fm(\))11 b Fo(fn)h Fn(\(r,s\))19 b Fm(\))11
b Fn(All\()p Fo(fn)e Fn(f)19 b Fm(\))11 b Fn(All\()p
Fo(fn)f Fn(x)19 b Fm(\))11 b Fn(Impl\()h(a\(Apl\(f,x\),x\),)e
(Eq\(r,Apl\(Map\(n,f)s(\),)o(s\)\))g(\)\)\)\))312 273
y(tp)j(\(fnc,fnc\)\))p 2008 334 V -76 336 2086 2 v 576
408 a Fr(Figure)h(1:)j(Generation)d(of)f(the)g(P)o(arametricit)o(y)i
(La)o(w)-76 531 y(parametrized)h(b)o(y)e(t)o(yp)q(e)g(constructors.)21
b(F)m(or)14 b(example,)h(the)f(op)q(er-)-76 573 y(ation)h(cata)g(of)e
(t)o(yp)q(e)i Fm(8)p Fp(T)5 b Fm(8)p Fp(\013)13 b Fr(:)f(\()p
Fp(T)h(\013)6 b Fm(!)g Fp(\013)p Fr(\))g Fm(!)g Fp(\026T)12
b Fm(!)6 b Fp(\013)14 b Fr(satis\014es)h(the)-76 614
y(prop)q(ert)o(y)d Fp(\036)s Fm(\016)s Fr(\()p Fp(T)g(\013)p
Fr(\))e(=)h Fp(\013)s Fm(\016)s Fp( )23 b Fm(\))f Fr(\(cata)7
b Fp(\036)p Fr(\))s Fm(\016)s Fr(\()p Fp(Y)15 b(T)5 b
Fr(\))12 b(=)e Fp(\013)s Fm(\016)s Fr(\(cata)d Fp( )q
Fr(\),)-76 656 y(where)17 b(the)g(functions)i(cata)e(here)h(ma)o(y)f(b)
q(e)g(parameterized)i(o)o(v)o(er)-76 697 y(di\013eren)o(t)c(t)o(yp)q(e)
e(constructors.)-20 739 y(The)g(construction)h(of)e(the)h(predicate)h
(of)e(Theorem)g(1)h(requires)-76 780 y(some)h(v)n(ariable)h(plum)o
(bing)h(when)d(w)o(e)g(in)o(tro)q(duce)i(univ)o(ersal)g(quan-)-76
822 y(ti\014cation)f(\(to)e(a)o(v)o(oid)h(name)f(capture,)g(etc.\).)k
(In)c(addition,)i(a)e(func-)-76 863 y(tion)20 b(is)g(asso)q(ciated)h
(to)f(eac)o(h)f(t)o(yp)q(e)h(v)n(ariable)h(and)f(this)h(binding)-76
905 y(should)16 b(b)q(e)f(carried)h(through)g(the)e(whole)i
(construction.)23 b(W)m(e)15 b(can)-76 946 y(a)o(v)o(oid)c(the)f(v)n
(ariable)i(binding)g(problems)f(b)o(y)f(using)h(structures)g(with)-76
988 y(em)o(b)q(edded)f(functions)h(to)d(capture)i(univ)o(ersal)h(quan)o
(ti\014cation.)19 b(Our)-76 1029 y(algorithm)14 b(tak)o(es)e(a)g(t)o
(yp)q(e)g(construction)i(of)e(t)o(yp)q(e)g Fn(T)g Fr(and)h(returns)f(a)
-76 1071 y(predicate)j(of)d(t)o(yp)q(e)i Fn(E)p Fr(:)-11
1138 y Fl(datat)o(yp)q(e)c Fk(T)i(=)g(Basic)17 b Fu(j)10
b Fk(Pro)q(d)h Fl(of)h Fk(T)g Fu(\002)g Fk(T)18 b Fu(j)10
b Fk(Arro)o(w)h Fl(of)h Fk(T)g Fu(\002)h Fk(T)238 1176
y Fu(j)d Fk(Univ)j Fl(of)f Fk(T)6 b Fu(!)g Fk(T)18 b
Fu(j)10 b Fk(Def)h Fl(of)i Fk(string)e Fu(\002)h Fk(T)-11
1228 y Fl(datat)o(yp)q(e)e Fk(E)i(=)g(Pi1)18 b Fu(j)9
b Fk(Pi2)17 b Fu(j)10 b Fk(Apl)i Fl(of)g Fk(E)g Fu(\002)h
Fk(E)k Fu(j)10 b Fk(Eq)i Fl(of)h Fk(E)f Fu(\002)g Fk(E)235
1265 y Fu(j)e Fk(And)i Fl(of)g Fk(E)g Fu(\002)g Fk(E)18
b Fu(j)10 b Fk(Impl)i Fl(of)g Fk(E)g Fu(\002)g Fk(E)235
1302 y Fu(j)e Fk(All)i Fl(of)g Fk(E)7 b Fu(!)f Fk(E)17
b Fu(j)10 b Fk(Map)i Fl(of)g Fk(string)g Fu(\002)g Fk(E)-76
1376 y Fr(F)m(ollo)o(wing)19 b(the)e(same)g(routine)h(as)f(b)q(efore,)h
(\(i.e.,)f(b)o(y)g(adding)i(the)-76 1417 y(new)13 b(constructor)h
Fn(Place)f Fr(to)g(t)o(yp)q(e)g Fn(T)p Fr(,)g(etc.\),)f(w)o(e)h(arriv)o
(e)h(at)f(the)g(fol-)-76 1459 y(lo)o(wing)i(catamorphism)g(o)o(v)o(er)e
(t)o(yp)q(es:)-76 1560 y Fl(fun)f Fk(cataT\(b,p,a,u,d\))e(Basic)111
b(=)13 b(b)-70 1598 y Fu(j)54 b Fk(cataT\(b,p,a,u,d\))10
b(\(Pro)q(d\(x,y\)\))20 b(=)13 b(p\()e(cataT\(b,p,a,u,d\))g(x,)521
1635 y(cataT\(b,p,a,u,d\))g(y)h(\))-70 1673 y Fu(j)54
b Fk(cataT\(b,p,a,u,d\))10 b(\(Arro)o(w\(x,y\)\))5 b(=)11
b(a\()g(cataT\(b,p,a,u,d\))g(x,)520 1710 y(cataT\(b,p,a,u,d\))g(y)h(\))
-70 1747 y Fu(j)54 b Fk(cataT\(b,p,a,u,d\))10 b(\(Univ)j(f)r(\))70
b(=)13 b(u\(cataT\(b,p,a,u,d\))d Fu(\016)i Fk(f)f Fu(\016)h
Fk(Place\))-70 1785 y Fu(j)54 b Fk(cataT\(b,p,a,u,d\))10
b(\(Def\(n,x\)\))38 b(=)13 b(d\()e(n,)h(cataT\(b,p,a,u,d\))f(x)h(\))-70
1822 y Fu(j)54 b Fk(cataT\(b,p,a,u,d\))10 b(\(Place)h(x\))55
b(=)13 b(x)-76 1893 y Fr(The)21 b(algorithm)h(that)f(generates)g(the)g
(predicate)h(of)e(the)h(para-)-76 1935 y(metricit)o(y)13
b(theorem)f(for)f(a)g(function)h Fn(fnc)f Fr(of)g(t)o(yp)q(e)h
Fn(tp)f Fr(is)h(the)f(higher-)-76 1976 y(order)h(catamorphism)i(presen)
o(ted)e(in)h(Figure)g(1.)j(When)d(this)f(func-)-76 2018
y(tion)i(op)q(erates)g(o)o(v)o(er)f Fn(Univ\(g\))o Fr(,)g(it)g(lifts)h
Fn(g:T)7 b Fm(!)f Fn(T)13 b Fr(in)o(to)171 2088 y Fn(f:)k(\(E)c
Fm(\002)f Fn(E)7 b Fm(!)f Fn(E\))h Fm(!)g Fn(\(E)12 b
Fm(\002)h Fn(E)7 b Fm(!)f Fn(E\))-76 2160 y Fr(The)15
b(input)h(to)f Fn(f)f Fr(should)j(b)q(e)e Fo(fn)d Fn(\(r,s\))18
b Fm(\))11 b Fn(Eq\(r,Apl\(x,s\)\))m Fr(,)k(that)g(is,)-76
2202 y(it)h(should)i(b)q(e)d(the)h(rule)h(for)e(handling)k(the)c(t)o
(yp)q(e)h(v)n(ariable)i Fn(x)d Fr(\(the)-76 2244 y(second)g(rule)f(in)h
(Theorem)f(1\).)19 b(Notice)14 b(that)g(there)g(is)g(no)g(need)g(to)-76
2285 y(use)e(a)g Fq(gensym)e Fr(function)k(to)d(generate)i(new)f(v)n
(ariable)i(names)e(since)-76 2327 y(the)j(v)n(ariable)i(scoping)g(is)e
(handled)i(implici)q(tly)h(b)o(y)d(the)g(execution)-76
2368 y(engine)21 b(of)e(SML)g(in)h(whic)o(h)g(this)g(function)h(is)f
(expressed.)36 b(The)-76 2410 y(P)o(aterson-Meijer-Hutton)14
b(approac)o(h)g(w)o(ould)g(ha)o(v)o(e)f(failed)h(to)e(cap-)-76
2451 y(ture)i(this)g(function,)h(since)g(there)f(is)g(no)g(ob)o(vious)h
(function)g Fn(E)6 b Fm(!)h Fn(T)-76 2493 y Fr(that)j(is)g(a)f(righ)o
(t)i(in)o(v)o(erse)f(of)f(the)h Fn(pa)o(rametricit)o(y)f
Fr(function)h(\(describ)q(ed)-76 2534 y(in)k(Figure)g(1\).)1020
531 y Fs(2.2)52 b(Circular)18 b(Structures)1020 597 y
Fr(In)e(this)h(section)h(w)o(e)d(presen)o(t)i(t)o(w)o(o)f(more)g
(example)i(of)e(datat)o(yp)q(es)1020 638 y(with)g(em)o(b)q(edded)h
(functions.)26 b(W)m(e)16 b(are)g(in)o(terested)h(in)f(expressing)1020
680 y(computations)d(o)o(v)o(er)e(in\014nite)i(structures)e(that)g(alw)
o(a)o(ys)g(terminate.)1020 721 y(Catamorphisms)g(o)o(v)o(er)e(\014nite)
h(structures)g(ha)o(v)o(e)g(this)g(prop)q(ert)o(y)m(.)16
b(W)m(e)1020 763 y(w)o(ould)e(lik)o(e)h(to)d(extend)i(this)g(prop)q
(ert)o(y)g(to)f(graph-lik)o(e)j(data)d(struc-)1020 804
y(tures.)23 b(T)m(o)15 b(do)g(this,)h(w)o(e)e(need)i(to)f(represen)o(t)
g(suc)o(h)h(structures)g(b)o(y)1020 846 y(\014nite)e(algebraic)h(datat)
o(yp)q(es.)j(One)13 b(w)o(a)o(y)f(to)h(do)g(this)g(is)h(to)e(use)h(em-)
1020 887 y(b)q(edded)h(functions.)1020 996 y Fs(2.2.1)52
b(Circular)18 b(Lists)1020 1062 y Fr(Lazy)c(functional)h(languages)g
(supp)q(ort)g(circular)g(data)f(structures.)1020 1103
y(F)m(or)f(example,)h(the)f(follo)o(wing)i(Hask)o(ell)g(de\014nition)
1404 1174 y Fn(circ)d(=)h(0:1:circ)1020 1246 y Fr(constructs)i(the)e
(in\014nite)j(list)f(0)c(:)g(1)h(:)f(0)h(:)f(1)h(:)f
Fm(\001)6 b(\001)g(\001)13 b Fr(b)o(y)h(using)h(a)f(cycle.)1020
1288 y(One)d(w)o(a)o(y)g(to)g(construct)h(in\014nite)h(lists)f(in)g
(SML)f(is)h(to)e(use)i(lazy)g(lists)1020 1329 y(\(also)j(kno)o(wn)f(as)
g(streams\),)g(whic)o(h)h(use)g(an)f(explicit)i(\\th)o(unk")f(for)1020
1371 y(the)e(tail)h(of)f(a)g(list)h(to)f(obtain)i(tail)f(laziness)h
([11]:)1065 1441 y Fo(datat)o(yp)q(e)f Fp(\013)f Fn(Clist)d(=)j(Nil)k
Fm(j)11 b Fn(Cons)h Fo(of)g Fp(\013)h Fm(\002)f Fn(\(unit)5
b Fm(!)i Fp(\013)13 b Fn(Clist\))1020 1513 y Fr(F)m(or)g(example,)h
(the)f(list)h Fn(circ=0:1:circ)e Fr(is)h(expressed)h(as)g(follo)o(ws:)
1022 1584 y Fo(let)f(fun)e Fn(circ\(\))h(=)h(Cons\(0,)p
Fo(fn)e Fn(\(\))19 b Fm(\))11 b Fn(Cons\(1,circ\)\))g
Fo(in)h Fn(circ\(\))g Fo(end)1020 1656 y Fr(Ev)o(en)17
b(though)h(man)o(y)f(circular)i(structures)e(can)g(b)q(e)g(de\014ned)h
(this)1020 1698 y(w)o(a)o(y)m(,)d(man)o(y)g(op)q(erations)i(o)o(v)o(er)
e(them)g(need)h(to)f(explicitly)j(carry)d(a)1020 1739
y(list)f(of)f(visited)i(no)q(des)f(in)f(order)h(to)e(a)o(v)o(oid)j
(falling)g(in)o(to)f(an)f(in\014nite)1020 1781 y(lo)q(op.)18
b(Iden)o(tifying)13 b(whic)o(h)f(no)q(des)h(ha)o(v)o(e)f(b)q(een)g
(visited)h(is,)f(ho)o(w)o(ev)o(er,)1020 1822 y(also)18
b(problematic,)i(since)e(there)f(is)h(no)f(p)q(oin)o(ter)h(equalit)o(y)
h(in)f(the)1020 1864 y(pure)d(functional)i(subset)e(of)f(SML.)g(F)m
(urthermore,)h(the)f(construc-)1020 1905 y(tion)f(of)e(these)h
(circular)i(structures)e(requires)h(the)f(use)g(of)g(recursiv)o(e)1020
1947 y(function)i(de\014nitions)h(\(suc)o(h)e(as)f(the)h
Fn(circ)e Fr(ab)q(o)o(v)o(e\),)i(whic)o(h)g(w)o(e)f(w)o(an)o(t)1020
1988 y(to)k(a)o(v)o(oid)i(when)e(w)o(e)g(de\014ne)h(catamorphisms)i
(\(after)d(all,)i(a)e(cata-)1020 2030 y(morphism)f(is)e(supp)q(osed)i
(to)e(b)q(e)g(an)g(alternativ)o(e)j(to)c(recursion\).)1076
2071 y(A)f(b)q(etter)g(de\014nition)j(for)d(circular)j(lists)e(is)g
(obtained)h(b)o(y)f(recon-)1020 2113 y(sidering)j(the)f(previous)h
(Hask)o(ell)f(de\014nition,)i(whic)o(h)e(is)g(equiv)n(alen)o(t)1020
2154 y(to)c Fp(Y)f Fn(\()p Fo(fn)j Fn(x)19 b Fm(\))11
b Fn(0:1:x\))o Fr(,)g(where)f Fp(Y)19 b Fr(is)11 b(the)g(\014xp)q(oin)o
(t)h(op)q(erator)g(of)e(t)o(yp)q(e)1020 2196 y(\()p Fp(\013)d
Fm(!)i Fp(\013)p Fr(\))e Fm(!)h Fp(\013)15 b Fr(satisfying)i
Fp(Y)e(f)j Fr(=)c Fp(f)t Fr(\()p Fp(Y)h(f)t Fr(\).)23
b(This)16 b(expression)h(to)q(o)1020 2237 y(do)q(es)h(not)g(terminate)g
(in)g(strict)g(languages)i(suc)o(h)e(as)g(SML.)f(One)1020
2279 y(solution)h(is)f(to)e(susp)q(end)j(the)e(application)j(of)c
Fp(Y)25 b Fr(and)16 b(unroll)i(the)1020 2320 y(\014xp)q(oin)o(t)c
(explicitly)h(during)e(an)f(op)q(eration)h(only)g(when)f(this)h(is)f
(un-)1020 2362 y(a)o(v)o(oidable,)j(as)e(is)h(done)g(implicitly)j(in)c
(lazy)h(languages.)1076 2403 y(W)m(e)e(can)g(accomplish)i(a)d(similar)j
(e\013ect)e(in)g(strict)g(languages)i(b)o(y)1020 2445
y(encapsulating)i(the)e(recursion)g(inside)h(a)f(v)n(alue)g
(constructor,)g Fn(Rec)p Fr(,)1020 2486 y(with)c(a)g(t)o(yp)q(e)g
(similar)i(to)d(the)h(t)o(yp)q(e)g Fn(\()p Fp(\013)i
Fn(list)5 b Fm(!)h Fp(\013)13 b Fn(list\))t Fm(!)7 b
Fp(\013)12 b Fn(list)c Fr(of)h(the)1020 2528 y(Y)h(com)o(binator.)17
b(This)11 b(leads)h(to)e(the)g(follo)o(wing)i(t)o(yp)q(e)f
(de\014nition)h(for)1020 2569 y(circular)j(lists:)961
2747 y(5)p eop
%%Page: 6 6
6 5 bop 221 -50 a Fl(datat)o(yp)q(e)11 b Fh(\013)g Fk(Clist)g(=)266
-12 y(Nil)227 25 y Fu(j)29 b Fk(Cons)10 b Fl(of)j Fh(\013)e
Fu(\002)h Fh(\013)g Fk(Clist)227 62 y Fu(j)29 b Fk(Rec)11
b Fl(of)h Fh(\013)g Fk(Clist)5 b Fu(!)h Fh(\013)12 b
Fk(Clist)-76 133 y Fr(W)m(e)h(can)h(no)o(w)f(express)h(the)f(list)h(0)d
(:)f(1)h(:)f(0)h(:)f(1)h(:)17 b Fm(\001)6 b(\001)g(\001)19
b Fr(as)163 203 y Fn(Rec\()p Fo(fn)11 b Fn(x)19 b Fm(\))11
b Fn(Cons\(0,Cons\(1,x\)\)\))-76 274 y Fr(F)m(unctions)16
b(that)d(manipulate)k(suc)o(h)d(structures)h(will)g(need)f(to)g(un-)-76
316 y(roll)g(the)e(implicit)j(\014xp)q(oin)o(t)e(in)g
Fn(Rec)f Fr(explicitly)n(.)19 b(The)12 b(follo)o(wing)i(are)-76
357 y(t)o(w)o(o)f(suc)o(h)g(functions:)128 417 y Fl(fun)f
Fk(head\(Cons\(a,r\)\))g(=)h(a)134 454 y Fu(j)54 b Fk(head\(Rec)11
b(f)r(\))73 b(=)13 b(head\(f\(Rec)d(f)r(\)\))128 506
y Fl(fun)i Fk(nth\(Cons\(a,r\),0\))g(=)g(a)134 543 y
Fu(j)54 b Fk(nth\(Cons\(a,r\),n\))12 b(=)g(nth\(r,n-1\))134
581 y Fu(j)54 b Fk(nth\(Rec)11 b(f,n\))75 b(=)12 b(nth\(f\(Rec)e(f)r
(\),n\))-76 653 y Fr(F)m(or)j(example,)i(if)f Fn(circ)e(=)g(Rec\()p
Fo(fn)g Fn(x)19 b Fm(\))11 b Fn(Cons\(0,Cons\(1,x\)\)\))n
Fr(,)i(then)-76 695 y Fn(nth\(circ,100\))f(=)h(0)g Fr(and)g
Fn(nth\(circ,101\))f(=)h(1)p Fr(.)-20 736 y(T)m(o)d(express)h
(catamorphisms)i Fn(cataC\(b,f,g\))c Fr(o)o(v)o(er)i
Fn(Clist)m Fr(,)g(w)o(e)f(add)-76 778 y(an)j(extra)h(t)o(yp)q(e)f(v)n
(ariable)i Fp(\014)g Fr(and)e(a)g(constructor)h Fn(Place)e
Fr(to)h Fn(Clist)n Fr(:)163 845 y Fl(datat)o(yp)q(e)d
Fk(\()p Fh(\013)p Fk(,)p Fh(\014)r Fk(\))g(Clist)h(=)207
882 y(Nil)168 919 y Fu(j)29 b Fk(Cons)11 b Fl(of)h Fh(\013)f
Fu(\002)i Fk(\()p Fh(\013)p Fk(,)p Fh(\014)r Fk(\))d(Clist)168
957 y Fu(j)29 b Fk(Rec)11 b Fl(of)h Fk(\()p Fh(\013)p
Fk(,)p Fh(\014)r Fk(\))f(Clist)5 b Fu(!)h Fk(\()p Fh(\013)p
Fk(,)p Fh(\014)r Fk(\))k(Clist)168 994 y Fu(j)29 b Fk(Place)11
b Fl(of)h Fh(\014)-76 1067 y Fr(Then)h Fn(cataC\(b,f,g\))g
Fr(is:)-26 1135 y Fl(fun)e Fk(cataC\(b,f,g\))e(Nil)131
b(=)12 b(b)-21 1173 y Fu(j)54 b Fk(cataC\(b,f,g\))9 b(\(Cons\(a,r\)\))t
(=)j(f\()f(a,)h(cataC\(b,f,g\))d(r)j(\))-21 1210 y Fu(j)54
b Fk(cataC\(b,f,g\))9 b(\(Rec)i(h\))60 b(=)12 b(g\()f(cataC\(b,f,g\))e
Fu(\016)j Fk(h)g Fu(\016)f Fk(Place)g(\))-21 1247 y Fu(j)54
b Fk(cataC\(b,f,g\))9 b(\(Place)i(x\))37 b(=)12 b(x)-76
1318 y Fr(Notice)j(that)g Fn(cataC)g Fr(do)q(es)h(not)e(unroll)j(the)e
(\014xp)q(oin)o(t)i(in)e Fn(Rec)e(h)p Fr(.)22 b(It)-76
1359 y(do)q(es)15 b(not)g(need)g(to.)21 b(Instead,)15
b(it)f(lifts)i Fn(h)e Fr(in)o(to)h(a)f(function)i(of)e(t)o(yp)q(e)-76
1401 y Fp(\014)d Fm(!)f Fp(\014)17 b Fr(and)g(it)f(is)h(up)f(to)g
Fn(g)g Fr(to)g(decide)i(what)e(to)g(do)g(with)g(it.)27
b(T)m(o)-76 1442 y(illustrate)15 b(this,)e(consider)g(the)g(map)f
Fn(mapC\(h\))g Fr(o)o(v)o(er)g(circular)i(lists:)-60
1512 y Fo(fun)d Fn(mapC\(h\))i(=)g(cataC\()g(Nil,)e Fo(fn)h
Fn(\(a,r\))19 b Fm(\))11 b Fn(Cons\(h\(a\),r\),)h(Rec)h(\))-76
1584 y Fr(In)20 b(this)g(case,)h Fn(g)13 b(=)g(Rec)p
Fr(,)20 b(and)g Fn(g)g Fr(will)g(tie)g(a)g(new)f(\\knot")h(from)-76
1625 y(the)e(lifted)h(function)g Fn(h)p Fr(,)f(whic)o(h)h(results)g(in)
f(a)g(new)g(circular)h(list.)-76 1667 y(W)m(orking)c(through)f(the)f
(example,)-22 1737 y Fn(mapC\()p Fo(fn)f Fn(x)19 b Fm(\))11
b Fn(x+1\))h(\(Rec\()p Fo(fn)g Fn(x)19 b Fm(\))11 b Fn
(Cons\(0,Cons\(1,x\)\)\)\))-76 1808 y Fr(will)k(compute)e(a)g(circular)
i(list)f(equiv)n(alen)o(t)i(to)163 1878 y Fn(Rec\()p
Fo(fn)11 b Fn(x)19 b Fm(\))11 b Fn(Cons\(1,Cons\(2,x\)\)\))-20
1950 y Fr(The)h(Hask)o(ell)g(de\014nition)i Fn(x)f(=)g(1:\(map\(1+\))g
(x\))e Fr(that)g(computes)-76 1991 y(the)g(in\014nite)j(list)e(1)f(:)f
(2)h(:)f(3)h(:)g(4)g(:)f Fm(\001)c(\001)g(\001)11 b Fr(is)g(represen)o
(ted)i(b)o(y)e(the)g(circular)-76 2033 y(list)17 b Fn(Rec\()p
Fo(fn)12 b Fn(x)19 b Fm(\))11 b Fn(Cons\(1,mapC\()p Fo(fn)g
Fn(y)19 b Fm(\))11 b Fn(y+1\))h(x\)\))p Fr(.)25 b(F)m(or)15
b(exam-)-76 2074 y(ple,)-33 2144 y Fn(nth\()d(Rec\()p
Fo(fn)g Fn(x)19 b Fm(\))11 b Fn(Cons\(1,mapC\()p Fo(fn)g
Fn(y)19 b Fm(\))11 b Fn(y+1\))h(x\)\),)g(100)i(\))-33
2185 y(=)e(101)-76 2257 y Fr(But)h(consider)i(the)e(follo)o(wing)i(ev)n
(aluation:)-67 2324 y Fk(mapC\()p Fl(fn)c Fk(z)18 b Fu(\))10
b Fk(2)p Fu(\003)p Fk(z\)\(Rec\()p Fl(fn)g Fk(x)18 b
Fu(\))10 b Fk(Cons\(1,mapC\()p Fl(fn)f Fk(y)18 b Fu(\))10
b Fk(y+1\))i(x\)\)\))-67 2361 y(=)g(Rec\()p Fl(fn)f Fk(x)18
b Fu(\))10 b Fk(mapC\()p Fl(fn)h Fk(z)18 b Fu(\))10 b
Fk(2)p Fu(\003)p Fk(z\))252 2398 y(\(Cons\(1,mapC\()p
Fl(fn)f Fk(y)18 b Fu(\))10 b Fk(y+1\)\(Place)g(x\)\)\)\))-67
2436 y(=)i(Rec\()p Fl(fn)f Fk(x)18 b Fu(\))10 b Fk(Cons\(2,mapC\()p
Fl(fn)f Fk(z)18 b Fu(\))10 b Fk(2)p Fu(\003)p Fk(z\))365
2473 y(\(mapC\()p Fl(fn)h Fk(y)18 b Fu(\))10 b Fk(y+1\)\(Place)g
(x\)\)\)\))-67 2510 y(=)i(Rec\()p Fl(fn)f Fk(x)18 b Fu(\))10
b Fk(Cons\(2,mapC\()p Fl(fn)f Fk(z)18 b Fu(\))10 b Fk(2)p
Fu(\003)p Fk(z\))h(x\)\))-76 2581 y Fr(whic)o(h)17 b(represen)o(ts)h
(the)e(in\014nite)j(list)f(2)e(:)g(4)h(:)f(8)h(:)f(16)h(:)f
Fm(\001)6 b(\001)g(\001)o Fr(.)28 b(This)-76 2622 y(result)14
b(is)g(incorrect.)k(W)m(e)13 b(should)i(ha)o(v)o(e)e(computed:)1159
-35 y Fn(Rec\()p Fo(fn)f Fn(x)18 b Fm(\))11 b Fn(Cons\(2,mapC\()p
Fo(fn)h Fn(z)19 b Fm(\))11 b Fn(z+2\))h(x\)\))1020 37
y Fr(whic)o(h)19 b(represen)o(ts)g(the)g(in\014nite)h(list)g(2)f(:)g(4)
h(:)f(6)h(:)f(8)h(:)f(10)h(:)f Fm(\001)6 b(\001)g(\001)p
Fr(.)1020 79 y(But)18 b(wh)o(y)f(did)i(w)o(e)e(get)g(this)h(error?)31
b(The)18 b(problem)g(is)g(that)g(the)1020 120 y Fn(Place)c
Fr(constructor)i(in)g(this)g(example)h(w)o(as)e(in)o(tended)i(to)e(b)q
(e)g(used)1020 162 y(for)f(the)g(outer)g(o)q(ccurrence)h(of)e
Fn(mapC)q Fr(,)g(not)h(the)g(inner.)21 b(Instead)15 b(it)1020
203 y(cancelled)h(the)e(inner)h(o)q(ccurrence)f(of)g
Fn(mapC)p Fr(.)k(If)13 b(w)o(e)h(had)g(follo)o(w)o(ed)1020
245 y(the)h(P)o(aterson-Meijer-Hutton)h(approac)o(h,)g(w)o(e)e(w)o
(ould)h(ha)o(v)o(e)g(used)1020 286 y Fn(mapC\()p Fo(fn)d
Fn(z)19 b Fm(\))11 b Fn(z/2\))p Fr(,)j(the)f(righ)o(t)i(in)o(v)o(erse)g
(of)f Fn(mapC\()p Fo(fn)e Fn(z)19 b Fm(\))11 b Fn(2)p
Fm(\003)p Fn(z\))p Fr(,)1020 328 y(instead)18 b(of)d
Fn(Place)p Fr(.)26 b(In)16 b(that)g(case,)h(w)o(e)f(w)o(ould)h(ha)o(v)o
(e)f(deriv)o(ed)i(the)1020 369 y(correct)h(result.)37
b(In)19 b(a)g(situation)j(lik)o(e)e(this,)h(where)f(a)f(function)1020
411 y(is)f(in)o(v)o(ertible,)j(the)c(P)o(aterson-Meijer-Hutton)j
(approac)o(h)e(clearly)1020 452 y(wins)h(o)o(v)o(er)f(ours,)h(since)g
(it)f(is)h(more)f(expressiv)o(e.)34 b(Ev)o(en)18 b(though)1020
494 y Fn(nth)c Fr(w)o(orks)i(\014ne)f(o)o(v)o(er)g(the)h(ab)q(o)o(v)o
(e)g(construction,)h(the)e(problem)i(is)1020 535 y(that)12
b(this)g(construction)i(cannot)e(b)q(e)g(tra)o(v)o(ersed)g(b)o(y)g
(another)g Fn(cataC)1020 577 y Fr(in)19 b(our)f(mo)q(del)h(b)q(ecause)g
(of)e(the)h(case)g(analysis)i(implied)h(b)o(y)d(the)1020
618 y(application)g(of)d Fn(mapC)g Fr(to)f(the)h(argumen)o(t)h
Fn(x)o Fr(.)22 b(F)m(ortunately)m(,)17 b(cases)1020 660
y(lik)o(e)e(this)g(are)f(automatically)i(disco)o(v)o(ered)g(b)o(y)e
(the)g(t)o(yp)q(e)g(inference)1020 701 y(system)f(to)g(b)q(e)h
(discussed)h(in)e(Section)i(3.)1076 743 y(This)f(restriction)h(is)f
(not)f(as)h(sev)o(ere)f(as)g(it)h(migh)o(t)g(\014rst)f(app)q(ear.)1020
784 y(F)m(or)j(example,)h(all)g(planar)g(graphs)g(de\014ned)g(in)f(the)
g(next)g(section)1020 826 y(can)g(b)q(e)g(enco)q(ded)i(in)o(to)e(our)h
(represen)o(tation)g(without)g(an)o(y)g(prob-)1020 867
y(lem.)28 b(This)17 b(is)g(b)q(ecause)h(graph)f(cycles)h(are)e
(captured)i(b)o(y)e(a)h(con-)1020 909 y(struction)f(of)e(the)g(form)g
Fn(Rec\()p Fo(fn)e Fn(x)19 b Fm(\))11 b Fn(f\(x\)\))o
Fr(.)21 b(If)14 b(w)o(e)g(w)o(an)o(t)g(to)g(con-)1020
950 y(struct)f(a)g(bac)o(kw)o(ard)h(edge)f(from)f(a)h(graph)h(no)q(de)f
(inside)i(the)e(graph)1020 992 y(construction)k Fn(f\(x\))e
Fr(to)g(the)g(b)q(eginning)j(of)d Fn(f\(x\))p Fr(,)g(w)o(e)g(simply)i
(refer-)1020 1033 y(ence)d Fn(x)p Fr(.)19 b(That)14 b(is,)g(this)g
(construction)i(do)q(es)e(not)g(need)h(to)f(analyze)1020
1075 y(or)d(tra)o(v)o(erse)h Fn(x)f Fr(in)h Fn(f\(x\))e
Fr(an)o(y)i(time.)17 b(Problems)c(ma)o(y)e(o)q(ccur)h(when)g(w)o(e)1020
1116 y(w)o(an)o(t)i(to)h(capture)g(structures)g(whose)g(patterns)h(of)e
(recursion)i(are)1020 1158 y(not)d(constan)o(t)h(\(suc)o(h)g(as)f(the)g
(list)h(of)f(natural)h(n)o(um)o(b)q(ers\).)1020 1267
y Fs(2.2.2)52 b(Graphs)1020 1332 y Fr(Graphs)15 b(can)g(b)q(e)g
(represen)o(ted)h(in)f(a)f(manner)i(similar)g(to)f(the)f(w)o(a)o(y)1020
1374 y(in)j(whic)o(h)g(circular)h(lists)f(are)f(represen)o(ted.)27
b(Suc)o(h)17 b(a)f(represen)o(ta-)1020 1415 y(tion)k(allo)o(ws)h
(terminating)g(computations)g(o)o(v)o(er)e(graphs)h({)g(suc)o(h)1020
1457 y(as)f(the)f(computation)i(of)f(the)f(spanning)j(tree)d(of)g(a)h
(graph)g({)f(to)1020 1498 y(b)q(e)c(expressed)h(as)f(catamorphisms.)20
b(The)14 b(most)g(common)g(w)o(a)o(y)f(to)1020 1540 y(represen)o(t)h
(graphs)g(in)h(a)e(functional)i(language)h(is)e(to)f(use)h(a)f(v)o
(ector)1020 1581 y(of)g(adjacency)h(lists.)19 b(But,)14
b(this)g(approac)o(h)g(is)g(not)g(really)h(di\013eren)o(t)1020
1623 y(from)d(using)j(p)q(oin)o(ters)f(in)f(a)g(pro)q(cedural)i
(language,)f(since)g(p)q(ermits)1020 1664 y(ad-ho)q(c)e(constructions)i
(and)e(manipulati)q(ons)j(of)c(graphs.)17 b(In)12 b([13])f(a)1020
1706 y(graph)j(t)o(yp)q(e)f(is)h(de\014ned)g(as:)1176
1776 y Fo(datat)o(yp)q(e)g Fp(\013)e Fn(graph)i(=)e(Graph)h
Fo(of)f Fp(\013)6 b Fm(!)h Fp(\013)12 b Fn(list)1020
1849 y Fr(Here)i(a)g(graph)h(consists)g(of)f(a)g(function)i(that)e
(computes)h(the)f(suc-)1020 1890 y(cessors)j(of)g(eac)o(h)f(no)q(de.)29
b(This)17 b(de\014nition)i(requires)f(sp)q(ecial)h(care)1020
1932 y(while)14 b(programming)h(to)e(guaran)o(tee)h(program)g
(termination.)1076 1973 y(Our)i(graph)g(represen)o(tation)i(is)e(based)
h(on)f(the)g(idea)g(of)g(using)1020 2015 y(em)o(b)q(edded)f(functions)g
(in)g(a)e(manner)i(similar)h(to)d(the)h(w)o(a)o(y)g(w)o(e)f(did)1020
2056 y(it)e(for)f(circular)j(lists.)k(W)m(e)11 b(start)g(with)g(a)f
(datat)o(yp)q(e)i(that)f(can)g(repre-)1020 2098 y(sen)o(t)g(trees,)g
(whic)o(h)h(ha)o(v)o(e)f(no)q(des)h(supp)q(orting)h(arbitrary)f(branc)o
(hing)1020 2139 y(lev)o(els.)19 b(W)m(e)13 b(call)h(suc)o(h)g(a)f(tree)
g(a)g Fn(rose)p 1568 2139 12 2 v 14 w(tree)f Fr(and)i(de\014ne)g(it)g
(b)o(y)1080 2210 y Fo(datat)o(yp)q(e)g Fp(\013)e Fn(rose)p
1366 2210 V 14 w(tree)h(=)g(No)q(de)g Fo(of)f Fp(\013)h
Fm(\002)f Fp(\013)h Fn(rose)p 1824 2210 V 14 w(tree)g(list)1020
2282 y Fr(No)o(w,)i(w)o(e)g(think)i(of)f(a)f(graph)i(as)e(a)h
(generalization)j(of)c(rose)h(trees)1020 2324 y(with)e(cycles)g(and)f
(sharing:)1188 2391 y Fl(datat)o(yp)q(e)d Fh(\013)i Fk(graph)g(=)1232
2428 y(No)q(de)g Fl(of)g Fh(\013)g Fu(\002)g Fh(\013)f
Fk(graph)h(list)1194 2466 y Fu(j)28 b Fk(Rec)11 b Fl(of)i
Fh(\013)e Fk(graph)6 b Fu(!)g Fh(\013)12 b Fk(graph)1194
2503 y Fu(j)28 b Fk(Sha)o(re)12 b Fl(of)g Fk(\()p Fh(\013)f
Fk(graph)6 b Fu(!)h Fh(\013)k Fk(graph\))h Fu(\002)g
Fh(\013)f Fk(graph)1020 2574 y Fr(Here,)j Fn(Rec)g Fr(pla)o(ys)h(the)g
(role)f(of)g(the)h Fp(Y)22 b Fr(com)o(binator)16 b(in)f(expressing)1020
2616 y(cycles,)g(while)h Fn(Sha)o(re)f Fr(pla)o(ys)h(the)e(role)h(of)f
(a)g(function)i(application)q(.)961 2747 y(6)p eop
%%Page: 7 7
7 6 bop 332 12 a Fg(\022\021)332 -71 y(\023\020)374 -31
y Fr(0)107 237 y Fg(\022\021)107 154 y(\023\020)149 194
y Fr(2)557 237 y Fg(\022\021)557 154 y(\023\020)599 194
y Fr(1)442 -31 y(x)59 194 y(z)644 239 y(y)404 41 y Ff(@)445
82 y(@)487 124 y(@)524 161 y(@)-42 b(R)307 51 y(\000)266
93 y(\000)224 134 y(\000)187 172 y(\000)g(\011)154 154
y(\000)195 112 y(\000)237 71 y(\000)278 29 y(\000)288
20 y(\000)g(\022)p 194 195 360 2 v 194 194 a(\033)587
94 y Fg(\027)p 587 149 2 7 v 638 94 7 2 v 12 w(\024)p
699 149 2 7 v 644 94 7 2 v 699 156 2 7 v 699 206 a(\025)p
644 206 7 2 v 588 154 2 23 v 588 154 a Ff(?)-38 322 y
Fr(Figure)14 b(2:)j(Graph)d(with)f(three)g(no)q(des)h(0)p
Fp(;)7 b Fr(1)p Fp(;)f Fr(2)13 b(and)h(\014v)o(e)f(edges)-76
445 y(That)g(is,)h Fn(Sha)o(re\(f,e\))f Fr(is)h(unrolled)h(as)e
Fn(f)g(e)p Fr(.)k(All)d(free)f(o)q(ccurrences)h(of)-76
487 y Fn(x)h Fr(in)h Fn(u)f Fr(in)i(the)e(term)g Fn(Sha)o(re\()p
Fo(fn)e Fn(x)19 b Fm(\))11 b Fn(u,)h(e\))j Fr(are)h(b)q(ound)h(to)e
Fn(e)p Fr(,)h(i.e.,)-76 529 y(all)e Fn(x)f Fr(in)h Fn(u)e
Fr(share)i(the)f(same)g(subgraph)i Fn(e)p Fr(.)-20 570
y(The)e(function)-76 672 y Fk(Rec\()p Fl(fn)e Fk(x)18
b Fu(\))10 b Fk(Sha)o(re\()p Fl(fn)h Fk(z)18 b Fu(\))10
b Fk(No)q(de\(0,[z,Rec\()p Fl(fn)g Fk(y)18 b Fu(\))10
b Fk(No)q(de\(1,[y)m(,z]\)\)]\),)213 709 y(No)q(de\(2,[x]\)\)\))-76
780 y Fr(for)k(example,)i(describ)q(es)g(the)f(graph)g(in)g(Figure)h
(2.)k(By)15 b(follo)o(wing)-76 821 y(the)k(same)g(routine)i(as)e(for)f
(circular)j(lists,)g(i.e.,)f(b)o(y)f(adding)i(the)-76
863 y(new)13 b(constructor)i Fn(Place)o Fr(,)e(etc.,)g(the)g(graph)i
(catamorphism)g Fn(cataG)-76 904 y Fr(b)q(ecomes:)-47
964 y Fl(fun)d Fk(cataG\(f,g,k\))d(\(No)q(de\(a,r\)\))39
b(=)12 b(f\()g(a,)f(map\(cataG\(f,g,k\)\))e(r)j(\))-41
1002 y Fu(j)54 b Fk(cataG\(f,g,k\))9 b(\(Rec\(h\)\))83
b(=)12 b(g\()g(cataG\(f,g,k\))d(o)i(h)h(o)g(Place)f(\))-41
1039 y Fu(j)54 b Fk(cataG\(f,g,k\))9 b(\(Sha)o(re\(h,n\)\))28
b(=)12 b(k\()g(cataG\(f,g,k\))d(o)j(h)g(o)f(Place,)507
1077 y(cataG\(f,g,k\))e(n)j(\))-41 1114 y Fu(j)54 b Fk(cataG\(f,g,k\))9
b(\(Place)i(x\))77 b(=)12 b(x)-76 1185 y Fr(The)f(follo)o(wing)j(are)d
(examples)i(of)e(graph)h(manipulati)q(ons)i(that)e(use)-76
1226 y Fn(cataG)q Fr(:)-36 1286 y Fl(v)n(al)g Fk(listify)g(=)h(cataG\()
d Fl(fn)i Fk(\(a,r\))17 b Fu(\))10 b Fk(a::\(\015atten)g(r\),)h
Fl(fn)h Fk(f)17 b Fu(\))11 b Fk(f)g([)h(],)267 1324 y
Fl(fn)g Fk(\(f,r\))k Fu(\))10 b Fk(f)i(r)g(\))-36 1361
y Fl(v)n(al)g Fk(sum)g(=)g(cataG\()e Fl(fn)i Fk(\(a,r\))17
b Fu(\))10 b Fk(cata\()p Fl(op)h Fk(+\))h(r)f(a,)h Fl(fn)g
Fk(f)17 b Fu(\))10 b Fk(f)i(0,)248 1399 y Fl(fn)g Fk(\(f,r\))17
b Fu(\))10 b Fk(f)h(r)h(\))-36 1436 y Fl(fun)f Fk(mapG\(g\))g(=)h
(cataG\()e Fl(fn)i Fk(\(a,r\))17 b Fu(\))10 b Fk(No)q(de\(g)h(a,r\),)g
(Rec,)g(Sha)o(re)g(\))-76 1507 y Fn(listify)f Fr(\015attens)15
b(a)e(graph)i(in)o(to)g(a)e(list,)i Fn(sum)f Fr(computes)h(the)e(sum)h
(of)-76 1548 y(all)g(no)q(de)g(v)n(alues,)g(and)g Fn(mapG)f
Fr(is)h(the)f(map)g(o)o(v)o(er)g(a)g(graph.)-20 1590
y(The)j(follo)o(wing)i(is)e(another)g(datat)o(yp)q(e)h(for)e(graphs.)26
b(Here)16 b(w)o(e)-76 1631 y(ha)o(v)o(e)c(merged)h(the)f(roles)g(of)g
(the)g Fn(Sha)o(re)g Fr(and)h(the)e Fn(Rec)h Fr(constructors)-76
1673 y(b)o(y)h(using)i(a)e(list)h(in)g(the)f(domain)i(of)d
Fn(Rec)p Fr(:)90 1740 y Fl(datat)o(yp)q(e)e Fh(\013)i
Fk(graph)g(=)134 1778 y(No)q(de)g Fl(of)g Fh(\013)g Fu(\002)g
Fh(\013)f Fk(graph)h(list)96 1815 y Fu(j)28 b Fk(Rec)11
b Fl(of)i Fk(int)f Fu(\002)g Fk(\()p Fh(\013)f Fk(graph)h(list)6
b Fu(!)g Fh(\013)12 b Fk(graph)g(list\))-76 1886 y Fr(Under)h(suc)o(h)f
(a)h(graph)g(represen)o(tation,)h(the)e(graph)h(in)g(Figure)g(2)g(is)
-76 1928 y(constructed)h(b)o(y)-70 1998 y Fn(Rec\()e(3,)h
Fo(fn)f Fn([x,y)m(,z])18 b Fm(\))11 b Fn([No)q(de\(0,[y)m(,z]\),No)q
(de\(1,[y)m(,z]\),No)q(de\(2,[x]\)])65 2039 y Fm(j)g
Fn(x)19 b Fm(\))11 b Fn(erro)o(r)i(\))-76 2112 y Fr(In)k(general,)h(an)
o(y)f(set)g(of)f Fp(n)g Fr(m)o(utually)j(recursiv)o(e)f(Hask)o(ell)g
(de\014ni-)-76 2153 y(tions)g(of)f(the)g(form)g Fp(x)257
2157 y Fi(i)288 2153 y Fr(=)g Fp(f)354 2157 y Fi(i)367
2153 y Fr(\()p Fp(x)404 2157 y Fj(1)421 2153 y Fp(;)6
b(:)g(:)g(:)g(;)g(x)528 2157 y Fi(n)549 2153 y Fr(\),)18
b(1)f Fm(\024)h Fp(i)f Fm(\024)h Fp(n)p Fr(,)f(can)h(b)q(e)-76
2195 y(represen)o(ted)c(b)o(y)-76 2299 y Fn(Rec\()f(n,)f
Fo(fn)g Fn([)p Fp(x)138 2303 y Fj(1)155 2299 y Fp(;)6
b(:)g(:)g(:)h(;)f(x)263 2303 y Fi(n)284 2299 y Fn(])19
b Fm(\))11 b Fn([)p Fp(f)393 2303 y Fj(1)410 2299 y Fr(\()p
Fp(x)447 2303 y Fj(1)464 2299 y Fp(;)6 b(:)g(:)g(:)g(;)g(x)571
2303 y Fi(n)592 2299 y Fr(\))p Fp(;)g(:)h(:)f(:)g(;)g(f)712
2303 y Fi(n)733 2299 y Fr(\()p Fp(x)770 2303 y Fj(1)787
2299 y Fp(;)g(:)g(:)g(:)g(;)g(x)894 2303 y Fi(n)915 2299
y Fr(\))p Fn(])61 2340 y Fm(j)k Fn(x)19 b Fm(\))11 b
Fn(erro)o(r)i(\))-76 2415 y Fr(The)g(in)o(terpretation)j(of)d
Fn(Rec\(n,f)s(\))f Fr(is)i Fn(hd\(Y)e(f)s(\))o Fr(.)18
b(F)m(or)13 b(practical)i(rea-)-76 2456 y(sons,)f(b)q(oth)g(the)g
(input)h(and)f(the)g(output)g(list)h(of)e Fn(f)g Fr(m)o(ust)h(ha)o(v)o
(e)g(the)-76 2498 y(same)k(size,)h Fn(n)p Fr(,)f(in)h(order)f(for)f
(the)h(closure)g Fn(Y)13 b(f)k Fr(to)h(execute)g(with)-76
2539 y(no)13 b(run-time)h(error.)j(By)c(follo)o(wing)i(the)e(same)g
(routine)h(as)f(b)q(efore,)-76 2581 y(i.e.,)18 b(b)o(y)g(adding)h(the)e
(new)g(constructor)h Fn(Place)p Fr(,)f(etc.,)h(the)f(graph)-76
2622 y(catamorphism)e(b)q(ecomes:)1075 -50 y Fl(fun)d
Fk(cataG\(fn,fr\))d(\(No)q(de\(a,r\)\))h(=)i(fn\()g(a,)f
(map\(cataG\(fn,fr\)\))f(r)h(\))1081 -12 y Fu(j)54 b
Fk(cataG\(fn,fr\))9 b(\(Rec\(m,f)r(\)\))1230 25 y(=)j(fr\()g(m,)f
(map\(cataG\(fn,fr\)\))f Fu(\016)h Fk(f)g Fu(\016)h Fk(\(map)g(Place\))
e(\))1081 62 y Fu(j)54 b Fk(cataG\(fn,fr\))9 b(\(Place)i(x\))h(=)g(x)
1020 132 y Fr(F)m(or)h(example,)g(the)g(follo)o(wing)i(computes)e(the)g
(adjacency)h(list)g(of)e(a)1020 173 y(graph:)1140 241
y Fn(cataG\()h Fo(fn)f Fn(\(a,r\))19 b Fm(\))11 b Fn([\(a,map\(#1\))j
(\(\015atten)e(r\)\)],)1261 283 y Fo(fn)g Fn(\(n,f)s(\))18
b Fm(\))11 b Fn(\015atten\(f\(f\(ncopies)f(n)j([)g(]\)\)\))g(\))1020
353 y Fr(where)i Fn(ncopies)d(n)h(a)i Fr(creates)h(a)f(list)h(of)f
Fn(n)g Fr(copies)h(of)f Fn(a)q Fr(.)23 b(If)15 b(w)o(e)f(had)1020
395 y Fn(\015atten\(f\(ncopies)d(n)i([)g(]\)\))e Fr(in)h(the)f(second)h
(parameter)g(of)f Fn(cataG)q Fr(,)g(w)o(e)1020 436 y(w)o(ould)i(ha)o(v)
o(e)f(obtained)i(an)e(empt)o(y)h(adjacency)g(list)g(for)e(eac)o(h)i(no)
q(de.)1076 478 y(In)d(eac)o(h)f(of)h(the)f(examples)i(ab)q(o)o(v)o(e,)g
(it)f(w)o(as)f(necessary)i(to)e(use)h(the)1020 519 y(tric)o(k)h(of)f
(extending)j(the)d(datat)o(yp)q(e)i(de\014nition)h(with)e(an)g
(additional)1020 561 y(constructor)i Fn(Place)o Fr(,)e(adding)j(to)d
(the)h(datat)o(yp)q(e)g(a)g(t)o(yp)q(e)g(v)n(ariable)h(to)1020
603 y(hold)i(the)g(t)o(yp)q(e)f(of)g(the)g(result)h(of)f(a)g
(catamorphism,)i(and)f(writing)1020 644 y(the)c(catamorphism)h
(function)h(b)o(y)e(hand.)17 b(Unfortunately)m(,)12 b(in)f(none)1020
686 y(of)f(these)h(cases)f(is)h(there)g(a)f(guaran)o(tee)i(that)e(the)g
(programs)i(written)1020 727 y(ob)q(ey)o(ed)i(the)f(restriction)i
(describ)q(ed)g(in)f(Section)g(2.1.1.)1076 769 y(In)j(the)h(next)f
(section)i(w)o(e)d(de\014ne)i(a)g(language)h(in)f(whic)o(h)g(our)1020
810 y(tric)o(k)13 b(is)f(implemen)o(ted)j(implicitly)m(.)20
b(That)12 b(is,)g(the)g Fn(Place)f Fr(construc-)1020
852 y(tor)f(and)h(the)g(catamorphism)h(function)g(b)q(ecome)f(primitiv)
o(es)i(of)d(the)1020 893 y(language,)19 b(but)d(b)q(ecause)h
Fn(Place)e Fr(is)i(hidden,)h(it)f(is)f(imp)q(ossible)j(for)1020
935 y(the)c(user)f(to)g(construct)i(programs)f(that)f(use)h
Fn(Place)o Fr(.)21 b(The)14 b(result-)1020 976 y(ing)h(language)h(also)
f(supp)q(orts)g(a)f(t)o(yp)q(e)h(system)f(that)g(enforces)h(the)1020
1018 y(ab)q(o)o(v)o(e)i(men)o(tioned)h(restriction.)28
b(T)o(yp)q(e)17 b(inference)g(rules)g(for)f(this)1020
1059 y(t)o(yp)q(e)d(system)h(are)f(also)h(presen)o(ted.)1020
1171 y Fs(3)52 b(The)18 b(F)l(ormal)f(F)l(ramew)o(ork)1020
1250 y Fr(In)i(this)h(section)g(w)o(e)e(de\014ne)i(a)f(language)i(that)
e(allo)o(ws)h(the)f(def-)1020 1292 y(inition)i(of)d(new)g(datat)o(yp)q
(es)h(and)g(implicitly)j(supplies)e(the)e(tric)o(k)1020
1333 y(w)o(e)g(ha)o(v)o(e)h(used)g(in)g(the)g(examples)g(of)g(Section)g
(2.)33 b(The)19 b(expres-)1020 1375 y(sion)f(sub-language)h(includes)g
(the)e(catamorphism)i(op)q(erator)e(for)1020 1416 y(an)o(y)e(datat)o
(yp)q(e)h(as)f(a)g(primitiv)o(e.)25 b(Syn)o(tacticall)q(y)m(,)17
b(the)e(user)h(writes)1020 1458 y Fn(cata)e(T)p Fr(,)21
b(where)e Fn(T)h Fr(is)g(the)f(name)h(of)g(a)f(user-de\014ned)i(datat)o
(yp)q(e.)1020 1499 y(The)e(seman)o(tics)h(of)e(the)h(catamorphism)i
(primitiv)o(e)g(is)e(giv)o(en)h(as)1020 1541 y(an)13
b(implicit)i(case)e(analysis)h(o)o(v)o(er)f(the)g(datat)o(yp)q(e)g(tra)
o(v)o(ersed)g(b)o(y)g(the)1020 1582 y(catamorphism)k(and)e(need)g(not)g
(b)q(e)g(supplied)j(b)o(y)d(the)g(user.)22 b(This)1020
1624 y(seman)o(tics)c(accommo)q(dates)g(the)e Fn(Place)g
Fr(constructor)h(only)h(as)f(an)1020 1665 y(in)o(ternal)e(implemen)o
(tation)h(detail.)1076 1707 y(In)g(the)g(in)o(terest)h(of)f(simplicit)o
(y)m(,)j(the)d(language)i(do)q(es)f(not)f(use)1020 1748
y(explicit)d(v)n(alue)f(constructors,)g(as)f(do)g(most)g(functional)i
(languages.)1020 1790 y(Instead,)d(it)g(uses)f(binary)i(sum)f(and)f
(pro)q(duct)i(t)o(yp)q(es.)16 b(The)9 b(resulting)1020
1831 y(notation)k(renders)g(the)f(underlying)j(theory)d(easier)h(to)f
(explain)i(b)q(e-)1020 1873 y(cause)f(few)o(er)e(rules)i(are)f(needed)h
(to)f(express)h(our)f(algorithms,)i(but,)1020 1914 y(unfortunately)m(,)
e(also)e(mak)o(es)g(programs)g(hard)g(to)g(understand.)17
b(F)m(or)1020 1956 y(clarit)o(y)m(,)k(w)o(e)d(will)h(explicitl)q(y)i
(describ)q(e)f(the)f(corresp)q(ondence)h(b)q(e-)1020
1997 y(t)o(w)o(een)12 b(functional)j(languages)g(and)e(our)g(language)h
(as)f(w)o(e)f(pro)q(ceed)1020 2039 y(through)i(this)g(section.)1020
2147 y Fs(3.1)52 b(T)l(erms)1020 2213 y Fr(T)m(erms)9
b Fp(e)f Fr(in)i(the)f(language)i(are)e(generated)h(b)o(y)f(the)g
(follo)o(wing)i(gram-)1020 2254 y(mar:)1040 2326 y(\(term\))37
b Fp(e)22 b Fr(::=)e Fp(x)10 b Fm(j)h Fr(\(\))f Fm(j)h
Fp(e)6 b(e)k Fm(j)h Fp(\025x:)6 b(e)11 b Fm(j)f Fr(\()p
Fp(e;)c(e)p Fr(\))k Fm(j)g Fo(in)1750 2310 y Fi(T)1781
2326 y Fp(e)h Fm(j)f Fo(inL)f Fm(j)h Fo(inR)1287 2372
y Fm(j)h Fr(cata)1379 2356 y Fi(T)1410 2372 y Fp(e)f
Fm(j)h Fp(\025)p Fo(in)1519 2356 y Fi(T)1550 2372 y Fp(x:)5
b(e)11 b Fm(j)f Fp(\025)p Fr(\()p Fp(x;)c(x)p Fr(\))p
Fp(:)g(e)1287 2413 y Fm(j)11 b Fp(\025)p Fo(inL)5 b Fp(x:)h(e)g
Fr([)-6 b(])5 b Fo(inR)h Fp(x:)g(e)1020 2498 y Fr(where)13
b Fp(x)g Fr(denotes)h(a)f(v)n(ariable.)19 b(The)14 b(term)e
Fo(in)1704 2482 y Fi(T)1742 2498 y Fr(is)h(the)h(v)n(alue)g(con-)1020
2539 y(structor)f(for)f(the)g(recursiv)o(e)i(t)o(yp)q(e)e(asso)q
(ciated)j(with)d(the)h(t)o(yp)q(e)f(def-)1020 2581 y(inition)j
Fp(T)i Fr(\(to)12 b(b)q(e)h(explained)i(in)e(detail)h(later\).)j(The)12
b(constructors)1020 2622 y Fo(inL)d Fr(and)h Fo(inR)f
Fr(are)i(the)f(left)h(and)g(righ)o(t)g(injectors)g(of)f(the)g(sum)h(t)o
(yp)q(e.)961 2747 y(7)p eop
%%Page: 8 8
8 7 bop -76 -34 a Fr(The)9 b(function)i(cata)217 -50
y Fi(T)250 -34 y Fr(is)f(the)g(catamorphism)h(op)q(erator)f(for)f
Fp(T)c Fr(.)16 b(The)-76 7 y Fq(in-abstr)n(actio)o(n)e
Fp(\025)p Fo(in)230 -9 y Fi(T)261 7 y Fp(x:)6 b(e)16
b Fr(is)i(de\014ned)g(b)o(y)g(\()p Fp(\025)p Fo(in)645
-9 y Fi(T)676 7 y Fp(x:)5 b(e)p Fr(\))i(\()p Fo(in)805
-9 y Fi(T)830 7 y Fp(u)p Fr(\))24 b(=)-76 49 y(\()p Fp(\025x:)6
b(e)p Fr(\))h Fp(u)p Fr(,)12 b(and)i(the)f Fq(p)n(air-abstr)n(acti)o
(on)c Fp(\025)p Fr(\()p Fp(x;)e(y)q Fr(\))p Fp(:)f(e)12
b Fr(is)i(de\014ned)g(b)o(y:)122 122 y(\()p Fp(\025)p
Fr(\()p Fp(x;)7 b(y)q Fr(\))p Fp(:)f(f)t Fr(\()p Fp(x;)f(y)q
Fr(\)\)\()p Fp(e)425 126 y Fj(1)442 122 y Fp(;)i(e)478
126 y Fj(2)495 122 y Fr(\))21 b(=)g Fp(f)t Fr(\()p Fp(e)638
126 y Fj(1)655 122 y Fp(;)6 b(e)690 126 y Fj(2)707 122
y Fr(\))-76 196 y(The)17 b Fq(sum-abstr)n(actio)o(n)d
Fp(\025)p Fo(inL)5 b Fp(x)402 200 y Fj(1)419 196 y Fp(:)h(e)454
200 y Fj(1)478 196 y Fr([)-6 b(])5 b Fo(inR)g Fp(x)597
200 y Fj(2)614 196 y Fp(:)h(e)649 200 y Fj(2)667 196
y Fr(,)17 b(when)g(applied)-76 237 y(to)c Fo(inL)5 b
Fp(u)p Fr(,)13 b(computes)h(\()p Fp(\025x)317 241 y Fj(1)335
237 y Fp(:)6 b(e)370 241 y Fj(1)387 237 y Fr(\))g Fp(u)13
b Fr(and,)h(when)f(applied)j(to)d Fo(inR)6 b Fp(u)p Fr(,)-76
279 y(computes)14 b(\()p Fp(\025x)154 283 y Fj(2)171
279 y Fp(:)6 b(e)206 283 y Fj(2)224 279 y Fr(\))g Fp(u)p
Fr(.)-20 320 y(As)11 b(explained)j(ab)q(o)o(v)o(e,)f(our)e(language)j
(do)q(es)e(not)f(con)o(tain)i(v)n(alue)-76 362 y(constructors.)27
b(The)15 b(v)n(alue)i(constructors)g(of)f(a)g(t)o(yp)q(e)g(can)g(b)q(e)
g(de-)-76 403 y(\014ned)11 b(in)f(terms)g(of)g(other)g(op)q(erators)h
(and)f(these)g(de\014nitions)j(can)d(b)q(e)-76 445 y(generated)i
(automatically)m(.)19 b(F)m(or)11 b(example,)h(for)f(SML)g(lists)h
(de\014ned)-76 486 y(as:)66 552 y Fo(datat)o(yp)q(e)i
Fp(\013)e Fn(list)f(=)i(Nil)k Fm(j)11 b Fn(Cons)h Fo(of)g
Fp(\013)h Fm(\002)f Fp(\013)h Fn(list)-76 619 y Fr(the)g(v)n(alue)i
(constructors)f Fn(Nil)d Fr(and)j Fn(Cons)e Fr(could)i(b)q(e)f
(de\014ned)i(as:)-63 691 y Fn(Nil)d(=)g Fo(in)75 675
y Fn(List)136 691 y Fr(\()p Fo(inL)n Fr(\(\)\))146 b
Fn(Cons)p Fr(\()p Fp(a;)5 b(r)q Fr(\))13 b Fn(=)g Fo(in)661
675 y Fn(List)722 691 y Fr(\()p Fo(inR)o Fr(\()p Fp(a;)6
b(r)q Fr(\)\))-76 759 y(T)m(raditional)13 b(languages)f(use)e(case)h
(statemen)o(ts)f(to)g(decomp)q(ose)i(v)n(al-)-76 800
y(ues.)19 b(Our)14 b(term)g(language)h(can)f(capture)h(an)o(y)f(case)g
(analysis)i(o)o(v)o(er)-76 842 y(a)c(v)n(alue)h(construction)h(b)o(y)e
(using)h(sum-)f(and)g(in-abstractions.)19 b(F)m(or)-76
883 y(example,)109 949 y Fo(case)13 b Fp(e)g Fo(of)f
Fn(Nil)18 b Fm(\))11 b Fp(e)411 953 y Fj(1)447 949 y
Fm(j)g Fn(Cons)p Fr(\()p Fp(a;)5 b(r)q Fr(\))20 b Fm(\))11
b Fp(e)719 953 y Fj(2)-76 1016 y Fr(can)i(b)q(e)f(expressed)i(b)o(y)e
(the)h(follo)o(wing)h(comp)q(osition)h(of)d(op)q(erators:)22
1104 y(\()p Fp(\025)p Fo(in)96 1086 y Fn(List)164 1104
y Fp(x:)5 b Fr(\()p Fp(\025)p Fo(inL)g Fp(y)q(:)i(e)365
1108 y Fj(1)388 1104 y Fr([)-6 b(])6 b Fo(inR)f Fp(y)q(:)h
Fr(\()p Fp(\025)p Fr(\()p Fp(a;)h(r)q Fr(\))p Fp(:)f(e)681
1108 y Fj(2)699 1104 y Fr(\))g Fp(y)q Fr(\))g Fp(x)p
Fr(\))h Fp(e)-76 1211 y Fs(3.2)52 b(T)o(yp)q(es)-76 1277
y Fr(Our)13 b(t)o(yp)q(es)h(are)f(generated)h(b)o(y)f(the)g(follo)o
(wing)i(grammar:)-46 1349 y(\(t)o(yp)q(e-de\014nition\))41
b Fp(T)27 b Fr(::=)20 b(\003\()p Fp(x;)6 b(x)p Fr(\))p
Fp(:)f(T)17 b Fm(j)10 b Fp(\034)-46 1407 y Fr(\(t)o(yp)q(e\))209
b Fp(\034)25 b Fr(::=)c Fp(x)10 b Fm(j)g Fr(\(\))h Fm(j)f
Fp(\034)j Fm(\002)8 b Fp(\034)15 b Fm(j)c Fp(\034)h Fr(+)d
Fp(\034)15 b Fm(j)10 b Fp(\034)e Fm(!)t Fp(\034)16 b
Fm(j)10 b Fp(E)-46 1465 y Fr(\(t)o(yp)q(e-use\))143 b
Fp(E)23 b Fr(::=)e Fp(\026)413 1449 y Fi(!)442 1465 y
Fp(T)16 b Fm(j)10 b Fp(E)f Fr(\()p Fp(\034)r(;)d(\034)t
Fr(\))-46 1522 y(\(tag\))229 b Fp(!)22 b Fr(::=)f Fp(x)10
b Fm(j)g Fr(cased)i Fm(j)e Fr(folded)-76 1597 y(A)k(t)o(yp)q(e)g
(de\014nition)i(consists)g(of)d(a)h(n)o(um)o(b)q(er)g(of)g(t)o(yp)q(e)g
(abstractions)-76 1638 y(follo)o(w)o(ed)i(b)o(y)g(a)e(t)o(yp)q(e.)24
b(Eac)o(h)15 b(t)o(yp)q(e)g(abstraction)i(\003\()p Fp(x;)5
b(y)q Fr(\))p Fp(:)i(\034)19 b Fr(in)o(tro-)-76 1680
y(duces)e(t)o(w)o(o)e(t)o(yp)q(e)i(v)n(ariables:)25 b(a)15
b(p)q(ositiv)o(e)j(\(+\))e Fp(x)f Fr(and)i(a)f(negativ)o(e)-76
1721 y(\()p Fm(\000)p Fr(\))k Fp(y)q Fr(.)37 b(A)20 b(p)q(ositiv)o(e)i
(\(resp.,)f(negativ)o(e\))g(v)n(ariable)h(should)g(only)-76
1763 y(app)q(ear)f(in)f(a)f(p)q(ositiv)o(e)j(\(resp.,)e(negativ)o(e\))h
(p)q(osition)h(in)e(a)f(t)o(yp)q(e.)-76 1804 y(This)14
b(condition)i(is)d(implici)q(tly)j(c)o(hec)o(k)o(ed)e(b)o(y)g(the)f
(rules)h(guaran)o(tee-)-76 1846 y(ing)h(w)o(ell-formedness)g(of)f(t)o
(yp)q(es,)g(giv)o(en)h(in)g(Figure)g(3.)k(Under)14 b(this)-76
1887 y(condition,)h Fp(\013)d Fr(and)i Fp(\016)g Fr(app)q(ear)f(in)h(a)
f(p)q(ositiv)o(e)h(p)q(osition)h(in)f(the)f(t)o(yp)q(e)-76
1929 y(\()p Fp(\013)t Fm(!)t Fp(\014)r Fr(\))t Fm(!)t
Fp(\015)7 b Fm(!)t Fp(\016)q Fr(,)14 b(while)g Fp(\014)h
Fr(and)e Fp(\015)i Fr(in)f(a)f(negativ)o(e.)-20 1970
y(The)f(rules)i(in)f(Figure)g(3)f(c)o(hec)o(k)h(the)g(w)o
(ell-formedness)h(of)e(t)o(yp)q(es)-76 2012 y(using)j(the)e(follo)o
(wing)i(de\014nitions:)94 2084 y(\(kind\))237 b Fp(k)22
b Fr(::=)f Fp(x)10 b Fm(j)19 b Fr(+)g Fm(j)11 b(\000)94
2142 y Fr(\(kind-assignme)q(n)o(t\))40 b Fp(\032)21 b
Fr(::=)g Fm(fg)11 b(j)f Fp(\032)p Fm(f)p Fp(x)g Fr(:)h
Fp(k)q Fm(g)-76 2220 y Fr(A)18 b(t)o(yp)q(e)g Fp(T)25
b Fr(=)19 b(\003\()p Fp(x)222 2224 y Fj(0)239 2220 y
Fp(;)6 b(x)278 2204 y Fe(0)278 2227 y Fj(0)295 2220 y
Fr(\))p Fp(:)g(:)g(:)g(:)g Fr(\003\()p Fp(x)442 2224
y Fi(n)463 2220 y Fp(;)g(x)502 2204 y Fe(0)502 2227 y
Fi(n)523 2220 y Fr(\))p Fp(:\034)21 b Fr(m)o(ust)e(satisfy)g
Fp(\032)p Fm(f)p Fp(x)874 2224 y Fj(0)910 2220 y Fr(:)-76
2262 y(+)p Fp(;)12 b(x)-1 2246 y Fe(0)-1 2268 y Fj(0)28
2262 y Fr(:)f Fm(\000)p Fp(;)6 b(:)g(:)g(:)g(;)g(x)187
2266 y Fi(n)220 2262 y Fr(:)11 b(+)p Fp(;)h(x)317 2246
y Fe(0)317 2268 y Fi(n)350 2262 y Fr(:)f Fm(\000g)h(`)g
Fp(\034)j Fr(::)c(+.)18 b(A)c(t)o(yp)q(e)g(de\014nition)i
Fp(T)-76 2303 y Fr(m)o(ust)e(ha)o(v)o(e)g(at)g(least)h(one)f(t)o(yp)q
(e)g(abstraction)i(\003\()p Fp(x)672 2307 y Fj(0)688
2303 y Fp(;)7 b(x)728 2287 y Fe(0)728 2310 y Fj(0)745
2303 y Fr(\),)13 b(whic)o(h)i(is)-76 2345 y(used)g(when)g(constructing)
i(the)d(\014xp)q(oin)o(t)j Fp(\026)571 2329 y Fi(!)600
2345 y Fp(T)j Fr(of)14 b Fp(T)5 b Fr(.)22 b(The)15 b
Fp(!)g Fr(tag)-76 2386 y(in)g Fp(\026)-7 2370 y Fi(!)28
2386 y Fr(is)g(used)f(during)h(t)o(yp)q(e-c)o(hec)o(king)h(and)e(is)g
(hidden)i(from)d(pro-)-76 2428 y(grammers.)21 b(The)15
b(\014xp)q(oin)o(t)h(t)o(yp)q(e)f(constructor)g Fp(\026)659
2412 y Fi(!)696 2428 y Fr(is)g(a)f(primitiv)o(e)-76 2469
y(and)g(satis\014es)g(the)f(equation)-57 2542 y Fp(\026)-34
2526 y Fi(!)-5 2542 y Fp(T)f Fr(\()p Fp(\034)61 2546
y Fj(1)78 2542 y Fp(;)6 b(\034)116 2526 y Fe(0)112 2549
y Fj(1)129 2542 y Fr(\))h Fm(\001)f(\001)g(\001)g Fr(\()p
Fp(\034)234 2546 y Fi(n)255 2542 y Fp(;)g(\034)293 2526
y Fe(0)289 2549 y Fi(n)310 2542 y Fr(\))-9 2584 y(=)21
b Fp(T)12 b Fr(\(\()p Fp(\026)129 2568 y Fi(!)158 2584
y Fp(T)g Fr(\()p Fp(\034)224 2588 y Fj(1)241 2584 y Fp(;)7
b(\034)280 2568 y Fe(0)276 2591 y Fj(1)293 2584 y Fr(\))f
Fm(\001)g(\001)g(\001)g Fr(\()p Fp(\034)397 2588 y Fi(n)418
2584 y Fp(;)g(\034)456 2568 y Fe(0)452 2591 y Fi(n)474
2584 y Fr(\)\))p Fp(;)f Fr(\()p Fp(\026)558 2568 y Fi(!)587
2584 y Fp(T)12 b Fr(\()p Fp(\034)657 2568 y Fe(0)653
2591 y Fj(1)671 2584 y Fp(;)6 b(\034)705 2588 y Fj(1)722
2584 y Fr(\))g Fm(\001)g(\001)g(\001)g Fr(\()p Fp(\034)830
2568 y Fe(0)826 2591 y Fi(n)847 2584 y Fp(;)h(\034)882
2588 y Fi(n)903 2584 y Fr(\)\)\))72 2627 y(\()p Fp(\034)104
2631 y Fj(1)121 2627 y Fp(;)f(\034)159 2611 y Fe(0)155
2633 y Fj(1)172 2627 y Fr(\))g Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(\034)276 2631 y Fi(n)298 2627 y Fp(;)g(\034)336
2611 y Fe(0)332 2633 y Fi(n)353 2627 y Fr(\))1020 -34
y(That)18 b(is,)i Fp(\026)1200 -50 y Fi(!)1229 -34 y
Fp(T)k Fr(is)19 b(the)g(\014xp)q(oin)o(t)h(of)e Fp(T)5
b Fr(,)20 b(where)e(b)q(oth)h(the)g(argu-)1020 7 y(men)o(ts)e(of)f(the)
h(\014rst)f(abstraction)j(of)d Fp(T)22 b Fr(are)16 b(\014xed)i(to)e
Fp(\026)1868 -9 y Fi(!)1897 7 y Fp(T)5 b Fr(.)28 b(W)m(e)1020
49 y(will)13 b(see)e(later)i(that)e(an)o(y)h(t)o(yp)q(e)g(de\014nition)
i Fp(T)j Fr(that)11 b(meets)h(the)f(w)o(ell-)1020 90
y(formedness)i(criteria)g(of)f(Figure)h(3)g(is)f(a)g(functor)h(that)f
(is)h(co)o(v)n(arian)o(t)1020 132 y(in)k(its)f(p)q(ositiv)o(e)i
(argumen)o(ts)f(and)f(con)o(tra)o(v)n(arian)o(t)i(in)e(its)h(negativ)o
(e)1020 173 y(argumen)o(ts,)d(that)f(is,)1120 250 y(\()p
Fp(T)f Fr(\()p Fp(f)1203 254 y Fj(1)1220 250 y Fp(;)6
b(f)1260 234 y Fe(0)1256 257 y Fj(1)1273 250 y Fr(\))g
Fm(\001)g(\001)g(\001)g Fr(\()p Fp(f)1379 254 y Fi(n)1400
250 y Fp(;)g(f)1440 234 y Fe(0)1436 257 y Fi(n)1457 250
y Fr(\)\))j Fm(\016)f Fr(\()p Fp(T)k Fr(\()p Fp(g)1605
254 y Fj(1)1623 250 y Fp(;)6 b(g)1659 234 y Fe(0)1658
257 y Fj(1)1676 250 y Fr(\))g Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(g)1781 254 y Fi(n)1803 250 y Fp(;)g(g)1839
234 y Fe(0)1838 257 y Fi(n)1859 250 y Fr(\)\))1233 292
y(=)21 b Fp(T)12 b Fr(\()p Fp(f)1352 296 y Fj(1)1377
292 y Fm(\016)d Fp(g)1423 296 y Fj(1)1441 292 y Fp(;)d(g)1477
276 y Fe(0)1476 299 y Fj(1)1502 292 y Fm(\016)j Fp(f)1553
276 y Fe(0)1549 299 y Fj(1)1566 292 y Fr(\))d Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(f)1672 296 y Fi(n)1701 292 y Fm(\016)j Fp(g)1747
296 y Fi(n)1769 292 y Fp(;)d(g)1805 276 y Fe(0)1804 299
y Fi(n)1834 292 y Fm(\016)j Fp(f)1885 276 y Fe(0)1881
299 y Fi(n)1901 292 y Fr(\))1076 371 y(The)k(follo)o(wing)i(are)e
(examples)i(of)e(t)o(yp)q(e)g(de\014nitions:)1060 447
y(Bo)q(ol)119 b(=)37 b(\003\()p Fp(x;)6 b(y)q Fr(\))p
Fp(:)k Fr(\(\))f(+)f(\(\))1060 505 y(Nat)132 b(=)37 b(\003\()p
Fp(x;)6 b(y)q Fr(\))p Fp(:)k Fr(\(\))f(+)f Fp(x)1060
563 y Fr(List)131 b(=)37 b(\003\()p Fp(x;)6 b(y)q Fr(\))p
Fp(:)g Fr(\003\()p Fp(\013;)f(\013)1563 547 y Fe(0)1574
563 y Fr(\))p Fp(:)10 b Fr(\(\))f(+)f Fp(\013)g Fm(\002)h
Fp(x)1060 621 y Fr(Rose)p 1141 621 12 2 v 15 w(tree)37
b(=)g(\003\()p Fp(x;)6 b(y)q Fr(\))p Fp(:)g Fr(\003\()p
Fp(\013;)f(\013)1563 605 y Fe(0)1574 621 y Fr(\))p Fp(:)h
Fr(\003\()p Fp(\014)r(;)f(\014)1712 605 y Fe(0)1723 621
y Fr(\))p Fp(:)1387 663 y Fr(\(\))j(+)h(\()p Fp(\013)f
Fr(+)g Fp(\014)i Fm(\002)f Fr(\()p Fp(\026)1659 647 y
Fi(!)1681 663 y Fr(List)i(\()p Fp(x;)6 b(y)q Fr(\)\)\))1060
721 y(Clist)117 b(=)37 b(\003\()p Fp(x;)6 b(y)q Fr(\))p
Fp(:)g Fr(\003\()p Fp(\013;)f(\013)1563 705 y Fe(0)1574
721 y Fr(\))p Fp(:)10 b Fr(\(\))f(+)f(\()p Fp(\013)g
Fm(\002)h Fp(x)f Fr(+)g(\()p Fp(y)e Fm(!)t Fp(x)p Fr(\)\))1060
779 y(Ct)o(yp)q(e)94 b(=)37 b(\003\()p Fp(x;)6 b(y)q
Fr(\))p Fp(:)g Fr(\003\()p Fp(\013;)f(\013)1563 763 y
Fe(0)1574 779 y Fr(\))p Fp(:)10 b Fr(\()p Fp(\013)1650
763 y Fe(0)1665 779 y Fm(!)t Fp(\013)p Fr(\))f(+)g(\()p
Fp(y)d Fm(!)t Fp(x)p Fr(\))1020 857 y(The)13 b(inductiv)o(e)i
Fn(list)c Fr(t)o(yp)q(e)j(de\014nition)1152 926 y Fo(datat)o(yp)q(e)g
Fn(list\()p Fp(\013)p Fn(\))c(=)j(Nil)18 b Fm(j)10 b
Fn(Cons)i Fo(of)h Fp(\013)p Fm(\002)p Fn(list\()p Fp(\013)o
Fn(\),)1020 998 y Fr(for)f(instance,)i(is)g(deriv)o(ed)g(b)o(y)f
(applying)i(the)e(\014xp)q(oin)o(t)i(op)q(erator)e(to)1020
1039 y(List)h(to)f(obtain)1319 1116 y(list)r(\()p Fp(\013)p
Fr(\))21 b(=)g Fp(\026)1521 1098 y Fi(!)1550 1116 y Fr(List)7
b(\()p Fp(\013;)e(\013)p Fr(\))1020 1194 y(Note)15 b(that)g(t)o(yp)q
(es)g(that)g(do)g(not)g(include)i(em)o(b)q(edded)f(functions)g({)1020
1235 y(suc)o(h)e(as)g(the)f(familiar)j(List,)d(Nat)g(and)h(Bo)q(ol)h({)
e(mak)o(e)h(no)g(men)o(tion)1020 1277 y(of)f(their)h(negativ)o(e)g(t)o
(yp)q(e)g(v)n(ariables.)1020 1385 y Fs(3.3)52 b(The)18
b(Seman)o(tics)g(of)f(Catamorphism)1020 1455 y Fr(The)c(seman)o(tics)i
(of)e(the)g(catamorphism)i(cata)1705 1439 y Fi(T)1742
1455 y Fr(o)o(v)o(er)f(a)f(t)o(yp)q(e)h(de\014-)1020
1497 y(nition)g Fp(T)j Fr(can)c(b)q(e)f(giv)o(en)h(as)f(an)h(implicit)i
(case)d(analysis)i(o)o(v)o(er)e Fp(T)5 b Fr(.)18 b(A)1020
1538 y(t)o(yp)q(e)f(de\014nition)h Fp(T)k Fr(=)15 b(\003\()p
Fp(x)1436 1542 y Fj(0)1453 1538 y Fp(;)6 b(x)1492 1522
y Fe(0)1492 1545 y Fj(0)1509 1538 y Fr(\))g Fp(:)g(:)h(:)f
Fr(\003\()p Fp(x)1646 1542 y Fi(n)1666 1538 y Fp(;)g(x)1705
1522 y Fe(0)1705 1545 y Fi(n)1726 1538 y Fr(\))p Fp(:)16
b(\034)k Fr(is)c(asso)q(ciated)1020 1580 y(with)h(a)f(com)o(binator,)i
(whic)o(h)f(w)o(e)e(will)j(pro)o(v)o(e)e(is)h(a)f(functor.)26
b(The)1020 1621 y(t)o(yp)q(e)16 b(mapping)i(part)e(of)f(the)h(functor)h
(is)f(the)g(p)q(olymorphic)j(t)o(yp)q(e)1020 1663 y Fp(T)j
Fr(itself.)29 b(The)17 b(function)h(mapping)h(part)d(of)h(the)g
(functor)g(is)g(de-)1020 1704 y(\014ned)e(b)o(y)e Fp(T)g
Fr(\()p Fp(f)1237 1708 y Fj(0)1253 1704 y Fp(;)7 b(f)1294
1688 y Fe(0)1290 1711 y Fj(0)1306 1704 y Fr(\))g Fm(\001)f(\001)g(\001)
g Fr(\()p Fp(f)1413 1708 y Fi(n)1434 1704 y Fp(;)g(f)1474
1688 y Fe(0)1470 1711 y Fi(n)1491 1704 y Fr(\))11 b(=)h
Fm(M)p Fr([)-6 b([)p Fp(\034)t Fr(])g(],)11 b(where)j(eac)o(h)g
(function)1020 1746 y Fp(f)1039 1750 y Fi(i)1066 1746
y Fr(\(resp.,)g Fp(f)1208 1730 y Fe(0)1204 1753 y Fi(i)1219
1746 y Fr(\))g(is)h(asso)q(ciated)i(with)e(the)f(t)o(yp)q(e)h(v)n
(ariable)h Fp(x)1884 1750 y Fi(i)1911 1746 y Fr(\(resp.,)1020
1787 y Fp(x)1042 1771 y Fe(0)1042 1795 y Fi(i)1055 1787
y Fr(\).)21 b(The)14 b(term)g Fm(M)p Fr([)-6 b([)p Fp(\034)t
Fr(])g(])13 b(is)i(deriv)o(ed)h(b)o(y)e(a)h(case)f(analysis)j(o)o(v)o
(er)e(the)1020 1829 y(t)o(yp)q(e)e Fp(\034)t Fr(:)1067
1905 y Fm(M)p Fr([)-6 b([)p Fp(x)1151 1909 y Fi(i)1163
1905 y Fr(])g(])117 b(=)37 b Fp(f)1382 1909 y Fi(i)1067
1963 y Fm(M)p Fr([)-6 b([\(\)])g(])121 b(=)37 b Fp(\025x:x)1067
2020 y Fm(M)p Fr([)-6 b([)p Fp(\034)1146 2024 y Fj(1)1171
2020 y Fm(\002)8 b Fp(\034)1226 2024 y Fj(2)1244 2020
y Fr(])-6 b(])36 b(=)h Fp(\025)p Fr(\()p Fp(x;)6 b(y)q
Fr(\))p Fp(:)g Fr(\()p Fm(M)p Fr([)-6 b([)p Fp(\034)1585
2024 y Fj(1)1601 2020 y Fr(])g(])6 b Fp(x;)g Fm(M)p Fr([)-6
b([)p Fp(\034)1741 2024 y Fj(2)1757 2020 y Fr(])g(])5
b Fp(y)q Fr(\))1067 2078 y Fm(M)p Fr([)-6 b([)p Fp(\034)1146
2082 y Fj(1)1171 2078 y Fr(+)8 b Fp(\034)1226 2082 y
Fj(2)1244 2078 y Fr(])-6 b(])36 b(=)h Fp(\025)p Fo(inL)5
b Fp(x:)h Fo(inL)n Fr(\()p Fm(M)p Fr([)-6 b([)p Fp(\034)1651
2082 y Fj(1)1667 2078 y Fr(])g(])6 b Fp(x)p Fr(\))1369
2119 y([)-6 b(])6 b Fo(inR)f Fp(y)q(:)h Fo(inR)o Fr(\()p
Fm(M)p Fr([)-6 b([)p Fp(\034)1668 2123 y Fj(2)1684 2119
y Fr(])g(])6 b Fp(y)q Fr(\))1067 2177 y Fm(M)p Fr([)-6
b([)p Fp(\034)1146 2181 y Fj(1)1167 2177 y Fm(!)t Fp(\034)1226
2181 y Fj(2)1244 2177 y Fr(])g(])36 b(=)h Fp(\025h:)7
b(\025x:)f Fm(M)p Fr([)-6 b([)p Fp(\034)1565 2181 y Fj(2)1581
2177 y Fr(])g(]\()p Fp(h)p Fr(\()p Fm(M)p Fr([)g([)p
Fp(\034)1728 2181 y Fj(1)1743 2177 y Fr(])g(]\()p Fp(x)p
Fr(\)\)\))1086 2235 y Fm(M)p Fr([)g([)p Fp(\026)1171
2219 y Fi(!)1199 2235 y Fp(S)13 b Fr(\()p Fp(\034)1267
2239 y Fj(1)1284 2235 y Fp(;)6 b(\034)1322 2219 y Fe(0)1318
2242 y Fj(1)1335 2235 y Fr(\))h Fm(\001)f(\001)g(\001)g
Fr(\()p Fp(\034)1440 2239 y Fi(m)1469 2235 y Fp(;)g(\034)1507
2219 y Fe(0)1503 2242 y Fi(m)1532 2235 y Fr(\)])-6 b(])1183
2281 y(=)21 b(map)1306 2265 y Fi(S)1335 2281 y Fr(\()p
Fm(M)p Fr([)-6 b([)p Fp(\034)1429 2285 y Fj(1)1445 2281
y Fr(])g(])p Fp(;)5 b Fm(M)p Fr([)-6 b([)p Fp(\034)1560
2265 y Fe(0)1556 2287 y Fj(1)1572 2281 y Fr(])g(]\))5
b Fm(\001)h(\001)g(\001)g Fr(\()p Fm(M)p Fr([)-6 b([)p
Fp(\034)1753 2285 y Fi(m)1781 2281 y Fr(])g(])p Fp(;)5
b Fm(M)p Fr([)-6 b([)p Fp(\034)1896 2265 y Fe(0)1892
2287 y Fi(m)1920 2281 y Fr(])g(]\))1020 2363 y(where)13
b(for)g(the)h(com)o(binator)h Fp(S)e Fr(=)e(\003\()p
Fp(x)1600 2367 y Fj(0)1617 2363 y Fp(;)6 b(x)1656 2347
y Fe(0)1656 2370 y Fj(0)1673 2363 y Fr(\))g Fp(:)g(:)g(:)h
Fr(\003\()p Fp(x)1810 2367 y Fi(m)1838 2363 y Fp(;)f(x)1877
2347 y Fe(0)1877 2369 y Fi(m)1906 2363 y Fr(\))p Fp(:)g(\034)18
b Fr(w)o(e)1020 2404 y(ha)o(v)o(e)1132 2477 y(\(map)1219
2461 y Fi(S)1248 2477 y Fr(\()p Fp(f)1282 2481 y Fj(1)1299
2477 y Fp(;)6 b(f)1339 2461 y Fe(0)1335 2484 y Fj(1)1352
2477 y Fr(\))g Fm(\001)g(\001)g(\001)g Fr(\()p Fp(f)1458
2481 y Fi(m)1487 2477 y Fp(;)g(f)1527 2461 y Fe(0)1523
2484 y Fi(m)1552 2477 y Fr(\)\))j Fm(\016)g Fo(in)1655
2461 y Fi(S)1261 2522 y Fr(=)21 b Fo(in)1349 2507 y Fi(S)1379
2522 y Fm(\016)9 b Fr(\()p Fp(S)g Fr(\(map)1542 2507
y Fi(S)1570 2522 y Fr(\()p Fp(f)1604 2526 y Fj(1)1621
2522 y Fp(;)d(f)1661 2507 y Fe(0)1657 2529 y Fj(1)1674
2522 y Fr(\))g Fm(\001)g(\001)h(\001)f Fr(\()p Fp(f)1781
2526 y Fi(m)1810 2522 y Fp(;)g(f)1850 2507 y Fe(0)1846
2529 y Fi(m)1875 2522 y Fr(\))p Fp(;)1469 2568 y Fr(map)1542
2552 y Fi(S)1570 2568 y Fr(\()p Fp(f)1608 2552 y Fe(0)1604
2575 y Fj(1)1621 2568 y Fp(;)g(f)1657 2572 y Fj(1)1674
2568 y Fr(\))g Fm(\001)g(\001)h(\001)f Fr(\()p Fp(f)1785
2552 y Fe(0)1781 2574 y Fi(m)1810 2568 y Fp(;)g(f)1846
2572 y Fi(m)1875 2568 y Fr(\)\))1454 2610 y(\()p Fp(f)1488
2614 y Fj(1)1505 2610 y Fp(;)g(f)1545 2594 y Fe(0)1541
2617 y Fj(1)1558 2610 y Fr(\))g Fm(\001)g(\001)g(\001)h
Fr(\()p Fp(f)1665 2614 y Fi(m)1693 2610 y Fp(;)f(f)1733
2594 y Fe(0)1729 2616 y Fi(m)1758 2610 y Fr(\)\))961
2747 y(8)p eop
%%Page: 9 9
9 8 bop -76 -74 2086 2 v -76 340 2 415 v 176 57 a Fp(\032)10
b Fm(`)h Fr(\(\))g(::)f Fp(k)130 b(\032)10 b Fm(`)h Fp(x)g
Fr(::)f Fp(\032)p Fr(\()p Fp(x)p Fr(\))810 27 y Fp(\032)h
Fm(`)g Fp(\034)892 31 y Fj(1)920 27 y Fr(::)f Fp(k)q(;)27
b(\032)11 b Fm(`)g Fp(\034)1093 31 y Fj(2)1121 27 y Fr(::)f
Fp(k)p 792 41 401 2 v 870 84 a(\032)h Fm(`)g Fp(\034)952
88 y Fj(1)978 84 y Fm(\002)d Fp(\034)1033 88 y Fj(2)1061
84 y Fr(::)i Fp(k)1340 27 y(\032)g Fm(`)i Fp(\034)1422
31 y Fj(1)1449 27 y Fr(::)e Fp(k)q(;)28 b(\032)10 b Fm(`)h
Fp(\034)1622 31 y Fj(2)1650 27 y Fr(::)f Fp(k)p 1321
41 V 1400 84 a(\032)g Fm(`)h Fp(\034)1481 88 y Fj(1)1507
84 y Fr(+)e Fp(\034)1563 88 y Fj(2)1590 84 y Fr(::)h
Fp(k)195 200 y(\032)g Fm(`)h Fp(\034)276 204 y Fj(1)304
200 y Fr(::)f Fm(:)p Fp(k)q(;)27 b(\032)10 b Fm(`)i Fp(\034)503
204 y Fj(2)530 200 y Fr(::)e Fp(k)p 176 214 427 2 v 267
258 a(\032)h Fm(`)g Fp(\034)349 262 y Fj(1)370 258 y
Fm(!)t Fp(\034)429 262 y Fj(2)458 258 y Fr(::)f Fp(k)800
179 y(\032)h Fm(`)g Fp(\034)882 183 y Fi(i)906 179 y
Fr(::)f Fp(k)q(;)27 b(\032)11 b Fm(`)g Fp(\034)1083 163
y Fe(0)1079 186 y Fi(i)1105 179 y Fr(::)f Fm(:)p Fp(k)q(;)27
b(T)16 b Fr(=)11 b(\003\()p Fp(x)1365 183 y Fj(0)1382
179 y Fp(;)6 b(x)1421 163 y Fe(0)1421 186 y Fj(0)1438
179 y Fr(\))p Fp(:)g(:)g(:)g(:)g Fr(\003\()p Fp(x)1585
183 y Fi(n)1605 179 y Fp(;)h(x)1645 163 y Fe(0)1645 186
y Fi(n)1666 179 y Fr(\))p Fp(:\034)r(;)800 221 y(\032)p
Fm(f)p Fp(x)861 225 y Fj(0)889 221 y Fr(:)j(+)p Fp(;)j(x)986
205 y Fe(0)986 228 y Fj(0)1014 221 y Fr(:)d Fm(\000)p
Fp(;)c(:)g(:)g(:)g(;)g(x)1172 225 y Fi(n)1204 221 y Fr(:)k(+)p
Fp(;)i(x)1300 205 y Fe(0)1300 228 y Fi(n)1332 221 y Fr(:)e
Fm(\000g)h(`)g Fp(\034)k Fr(::)10 b(+)p 763 235 996 2
v 1005 279 a Fp(\032)h Fm(`)g Fp(\026)1093 263 y Fi(!)1122
279 y Fp(T)h Fr(\()p Fp(\034)1188 283 y Fj(1)1205 279
y Fp(;)6 b(\034)1243 263 y Fe(0)1239 286 y Fj(1)1256
279 y Fr(\))h Fm(\001)f(\001)g(\001)g Fr(\()p Fp(\034)1361
283 y Fi(n)1382 279 y Fp(;)g(\034)1420 263 y Fe(0)1416
286 y Fi(n)1437 279 y Fr(\))11 b(::)f Fp(k)p 2008 340
2 415 v -76 342 2086 2 v 343 416 a Fr(Figure)k(3:)j(W)m(ell-formedness)
e(of)e(T)o(yp)q(es)g(\(De\014nition:)20 b Fm(:)p Fr(\(+\))10
b(=)g Fm(\000)j Fr(and)h Fm(:)p Fr(\()p Fm(\000)p Fr(\))c(=)g(+\))-76
541 y Fo(Theorem)15 b(2)k Fq(F)m(or)d Fp(T)21 b Fr(=)15
b(\003\()p Fp(x)379 545 y Fj(0)396 541 y Fp(;)6 b(x)435
525 y Fe(0)435 548 y Fj(0)452 541 y Fr(\))g Fp(:)g(:)g(:)g
Fr(\003\()p Fp(x)588 545 y Fi(n)609 541 y Fp(;)g(x)648
525 y Fe(0)648 548 y Fi(n)669 541 y Fr(\))p Fp(:\034)t
Fq(,)16 b(the)g(c)n(ombi-)-76 583 y(nator)c Fp(T)g Fr(\()p
Fp(f)95 587 y Fj(0)112 583 y Fp(;)6 b(f)152 567 y Fe(0)148
590 y Fj(0)165 583 y Fr(\))g Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(f)271 587 y Fi(n)292 583 y Fp(;)g(f)332 567
y Fe(0)328 589 y Fi(n)349 583 y Fr(\))11 b(=)f Fm(M)p
Fr([)-6 b([)p Fp(\034)t Fr(])g(])11 b Fq(is)i(a)f(functor,)f(i.e.,)h
(it)h(sat-)-76 624 y(is\014es)16 702 y Fp(T)f Fr(\()p
Fp(\025x:x;)6 b(\025x:x)p Fr(\))g Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(\025x:x;)f(\025x:x)p Fr(\))21 b(=)h Fp(\025x:x)16
760 y Fr(\()p Fp(T)12 b Fr(\()p Fp(f)99 764 y Fj(0)116
760 y Fp(;)6 b(f)156 744 y Fe(0)152 767 y Fj(0)169 760
y Fr(\))g Fm(\001)g(\001)g(\001)h Fr(\()p Fp(f)276 764
y Fi(n)296 760 y Fp(;)f(f)336 744 y Fe(0)332 767 y Fi(n)353
760 y Fr(\)\))j Fm(\016)f Fr(\()p Fp(T)k Fr(\()p Fp(g)501
764 y Fj(0)519 760 y Fp(;)6 b(g)555 744 y Fe(0)554 767
y Fj(0)572 760 y Fr(\))g Fm(\001)g(\001)g(\001)g Fr(\()p
Fp(g)677 764 y Fi(n)699 760 y Fp(;)g(g)735 744 y Fe(0)734
767 y Fi(n)755 760 y Fr(\)\))145 802 y(=)21 b Fp(T)12
b Fr(\()p Fp(f)264 806 y Fj(0)289 802 y Fm(\016)d Fp(g)335
806 y Fj(0)353 802 y Fp(;)d(g)389 787 y Fe(0)388 809
y Fj(0)414 802 y Fm(\016)j Fp(f)465 787 y Fe(0)461 809
y Fj(0)478 802 y Fr(\))d Fm(\001)g(\001)g(\001)g Fr(\()p
Fp(f)584 806 y Fi(n)614 802 y Fm(\016)i Fp(g)659 806
y Fi(n)681 802 y Fp(;)e(g)717 787 y Fe(0)716 809 y Fi(n)746
802 y Fm(\016)j Fp(f)797 787 y Fe(0)793 809 y Fi(n)814
802 y Fr(\))-76 882 y(This)j(theorem)g(can)g(b)q(e)g(pro)o(v)o(ed)h(b)o
(y)f(induction)i(o)o(v)o(er)e(the)g(structure)-76 924
y(of)h Fp(\034)k Fr(in)c Fm(M)p Fr([)-6 b([)p Fp(\034)t
Fr(])g(].)15 b(Let)e Fm(M)286 928 y Fj(1)303 924 y Fr([)-6
b([)p Fp(\034)t Fr(])g(])9 b(=)h Fp(T)i Fr(\()p Fp(f)473
928 y Fj(0)490 924 y Fp(;)6 b(f)530 908 y Fe(0)526 931
y Fj(0)543 924 y Fr(\))g Fm(\001)g(\001)h(\001)f Fr(\()p
Fp(f)650 928 y Fi(n)670 924 y Fp(;)g(f)710 908 y Fe(0)706
930 y Fi(n)727 924 y Fr(\),)13 b Fm(M)812 928 y Fj(2)829
924 y Fr([)-6 b([)p Fp(\034)t Fr(])g(])9 b(=)-76 965
y Fp(T)j Fr(\()p Fp(g)-9 969 y Fj(0)9 965 y Fp(;)6 b(g)45
949 y Fe(0)44 972 y Fj(0)62 965 y Fr(\))g Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(g)167 969 y Fi(n)189 965 y Fp(;)g(g)225 949
y Fe(0)224 972 y Fi(n)245 965 y Fr(\),)k(and)g Fm(M)398
969 y Fj(3)415 965 y Fr([)-6 b([)p Fp(\034)t Fr(])g(])9
b(=)i Fp(T)h Fr(\()p Fp(f)586 969 y Fj(0)604 965 y Fm(\016)r
Fp(g)643 969 y Fj(0)661 965 y Fp(;)6 b(g)697 949 y Fe(0)696
972 y Fj(0)715 965 y Fm(\016)r Fp(f)759 949 y Fe(0)755
972 y Fj(0)772 965 y Fr(\))g Fm(\001)h(\001)f(\001)g
Fr(\()p Fp(f)879 969 y Fi(n)901 965 y Fm(\016)-76 1007
y Fp(g)-58 1011 y Fi(n)-36 1007 y Fp(;)g(g)0 991 y Fe(0)-1
1013 y Fi(n)33 1007 y Fm(\016)12 b Fp(f)87 991 y Fe(0)83
1013 y Fi(n)104 1007 y Fr(\).)34 b(It)19 b(su\016ces)g(to)g(pro)o(v)o
(e)g(that,)h(for)f(an)o(y)g(t)o(yp)q(e)g Fp(\034)t Fr(,)h(if)-76
1048 y Fm(fg)14 b(`)f Fp(\034)k Fr(::)12 b(+,)i(then)h
Fm(M)270 1052 y Fj(3)288 1048 y Fr([)-6 b([)p Fp(\034)t
Fr(])g(])11 b(=)h Fm(M)440 1052 y Fj(1)458 1048 y Fr([)-6
b([)p Fp(\034)t Fr(])g(])7 b Fm(\016)j(M)593 1052 y Fj(2)610
1048 y Fr([)-6 b([)p Fp(\034)t Fr(])g(],)12 b(and)j(otherwise)-76
1090 y Fm(M)-30 1094 y Fj(3)-13 1090 y Fr([)-6 b([)p
Fp(\034)t Fr(])g(])18 b(=)i Fm(M)154 1094 y Fj(2)171
1090 y Fr([)-6 b([)p Fp(\034)t Fr(])g(])10 b Fm(\016)i(M)311
1094 y Fj(1)329 1090 y Fr([)-6 b([)p Fp(\034)t Fr(])g(].)31
b(F)m(or)18 b(illustration)k(purp)q(oses,)f(w)o(e)-76
1131 y(presen)o(t)14 b(only)g(one)g(case)f(of)g(this)g(pro)q(of)h
(where)f Fp(\034)i Fr(=)10 b Fp(\034)713 1135 y Fj(1)735
1131 y Fm(!)t Fp(\034)794 1135 y Fj(2)825 1131 y Fr(and)j
Fp(\034)-76 1173 y Fr(is)h(p)q(ositiv)o(e;)h(the)e(pro)q(ofs)g(in)h
(the)f(remaining)i(cases)f(are)f(similar.)-39 1251 y
Fm(M)7 1255 y Fj(1)24 1251 y Fr([)-6 b([)p Fp(\034)t
Fr(])g(])7 b Fm(\016)i(M)158 1255 y Fj(2)175 1251 y Fr([)-6
b([)p Fp(\034)t Fr(])g(])-39 1292 y(=)37 b(\()p Fp(\025h:)7
b(\025x:)f Fm(M)212 1296 y Fj(1)229 1292 y Fr([)-6 b([)p
Fp(\034)262 1296 y Fj(2)278 1292 y Fr(])g(]\()p Fp(h)p
Fr(\()p Fm(M)392 1296 y Fj(1)409 1292 y Fr([)g([)p Fp(\034)442
1296 y Fj(1)458 1292 y Fr(])g(]\()p Fp(x)p Fr(\)\)\)\))28
1334 y Fm(\016)p Fr(\()p Fp(\025h:)7 b(\025x:)f Fm(M)231
1338 y Fj(2)249 1334 y Fr([)-6 b([)p Fp(\034)282 1338
y Fj(2)298 1334 y Fr(])g(]\()p Fp(h)p Fr(\()p Fm(M)412
1338 y Fj(2)428 1334 y Fr([)g([)p Fp(\034)461 1338 y
Fj(1)477 1334 y Fr(])g(]\()p Fp(x)p Fr(\)\)\)\))-39 1375
y(=)37 b Fp(\025h:)7 b(\025x:)f Fr(\()p Fm(M)212 1379
y Fj(1)229 1375 y Fr([)-6 b([)p Fp(\034)262 1379 y Fj(2)278
1375 y Fr(])g(]\()p Fm(M)355 1379 y Fj(2)372 1375 y Fr([)g([)p
Fp(\034)405 1379 y Fj(2)421 1375 y Fr(])g(]\()p Fp(h)p
Fr(\()p Fm(M)535 1379 y Fj(2)551 1375 y Fr([)g([)p Fp(\034)584
1379 y Fj(1)600 1375 y Fr(])g(]\()p Fm(M)677 1379 y Fj(1)693
1375 y Fr([)g([)p Fp(\034)726 1379 y Fj(1)742 1375 y
Fr(])g(]\()p Fp(x)p Fr(\)\)\)\)\)\))-39 1417 y(=)37 b
Fp(\025h:)7 b(\025x:)f Fr(\()p Fm(M)212 1421 y Fj(3)229
1417 y Fr([)-6 b([)p Fp(\034)262 1421 y Fj(2)278 1417
y Fr(])g(]\()p Fp(h)p Fr(\()p Fm(M)392 1421 y Fj(3)409
1417 y Fr([)g([)p Fp(\034)442 1421 y Fj(1)458 1417 y
Fr(])g(]\()p Fp(x)p Fr(\)\)\)\))-39 1458 y(=)37 b Fm(M)74
1462 y Fj(3)92 1458 y Fr([)-6 b([)p Fp(\034)t Fr(])g(])710
b Fd(2)-20 1538 y Fr(The)20 b(catamorphism)h(o)o(v)o(er)f(an)o(y)g
(datat)o(yp)q(e)g Fp(T)25 b Fr(is)c(de\014ned)f(in)-76
1580 y(terms)15 b(of)g(the)h(com)o(binator)h Fm(E)375
1564 y Fi(T)399 1580 y Fr(,)f(whic)o(h)g(is)g(equal)g(to)f(the)h
(functor)-76 1621 y Fp(T)j Fr(with)13 b(all)h(but)g(its)f(\014rst)h(t)o
(w)o(o)e(argumen)o(ts)i(\014xed)g(at)f(the)g(iden)o(tit)o(y:)-34
1705 y Fm(E)-11 1687 y Fi(T)20 1705 y Fr(\()p Fp(f)58
1687 y Fj(+)83 1705 y Fp(;)6 b(f)123 1687 y Fe(\000)149
1705 y Fr(\))21 b(=)h Fp(T)12 b Fr(\()p Fp(f)309 1687
y Fj(+)334 1705 y Fp(;)6 b(f)374 1687 y Fe(\000)399 1705
y Fr(\))h(\()p Fp(\025x:x;)e(\025x:x)p Fr(\))h Fm(\001)g(\001)g(\001)h
Fr(\()p Fp(\025x:x;)e(\025x:x)p Fr(\))-76 1789 y(According)15
b(to)e(Theorem)g(2,)f Fm(E)381 1773 y Fi(T)419 1789 y
Fr(satis\014es)j(the)e(la)o(w)3 1872 y Fm(E)26 1855 y
Fi(T)57 1872 y Fr(\()p Fp(f)95 1855 y Fj(+)120 1872 y
Fp(;)6 b(f)160 1855 y Fe(\000)186 1872 y Fr(\))i Fm(\016)h(E)260
1855 y Fi(T)292 1872 y Fr(\()p Fp(g)326 1855 y Fj(+)351
1872 y Fp(;)e(g)388 1855 y Fe(\000)414 1872 y Fr(\))k(=)f
Fm(E)503 1855 y Fi(T)535 1872 y Fr(\()p Fp(f)573 1855
y Fj(+)606 1872 y Fm(\016)f Fp(g)653 1855 y Fj(+)679
1872 y Fp(;)d(g)715 1855 y Fe(\000)750 1872 y Fm(\016)j
Fp(f)801 1855 y Fe(\000)827 1872 y Fr(\))-20 1951 y(According)14
b(to)e(our)g(previous)i(discussion,)g(to)e(de\014ne)h(the)f(cata-)-76
1993 y(morphism)18 b(o)o(v)o(er)f Fp(T)5 b Fr(,)18 b(w)o(e)e(need)h(to)
f(extend)i Fp(T)k Fr(with)17 b(a)g(new)f(v)n(alue)-76
2034 y(constructor)e Fn(Place)e Fr(and)i(a)f(new)g(t)o(yp)q(e)g(v)n
(ariable)i Fp(\014)r Fr(.)i(W)m(e)c(get)-52 2113 y Fp(T)-25
2095 y Fe(0)-7 2113 y Fp(\014)8 b Fr(\()p Fp(\013)63
2117 y Fj(0)80 2113 y Fp(;)e(\013)122 2095 y Fe(0)122
2120 y Fj(0)139 2113 y Fr(\))g Fm(\001)g(\001)g(\001)g
Fr(\()p Fp(\013)251 2117 y Fi(n)272 2113 y Fp(;)g(\013)314
2095 y Fe(0)314 2120 y Fi(n)335 2113 y Fr(\))21 b(=)h(\()p
Fp(T)12 b Fr(\()p Fp(\013)512 2117 y Fj(0)528 2113 y
Fp(;)7 b(\013)571 2095 y Fe(0)571 2120 y Fj(0)587 2113
y Fr(\))g Fm(\001)f(\001)g(\001)g Fr(\()p Fp(\013)700
2117 y Fi(n)721 2113 y Fp(;)g(\013)763 2095 y Fe(0)763
2120 y Fi(n)784 2113 y Fr(\)\))14 b(+)h Fp(\014)-76 2202
y Fr(Here)g Fn(Place)g Fr(is)h(equal)g(to)g Fo(in)350
2186 y Fi(T)372 2176 y Fc(0)395 2202 y Fm(\016)10 b Fo(inR)o
Fr(.)24 b(The)15 b(resulting)j(catamor-)-76 2243 y(phism)c(o)o(v)o(er)g
Fp(T)k Fr(is)-57 2330 y(\(cata)28 2314 y Fi(T)59 2330
y Fp(\036)p Fr(\))8 b Fm(\016)h Fo(in)170 2314 y Fi(T)192
2304 y Fc(0)243 2330 y Fr(=)37 b Fp(\025)p Fo(inL)5 b
Fp(x:)h(\036)p Fr(\()p Fm(E)502 2314 y Fi(T)533 2330
y Fr(\(cata)618 2314 y Fi(T)649 2330 y Fp(\036;)g Fo(in)726
2314 y Fi(T)748 2304 y Fc(0)770 2330 y Fm(\016)j Fo(inR)o
Fr(\))h Fp(x)p Fr(\))316 2372 y([)-6 b(])6 b Fo(inR)f
Fp(y)q(:)h(y)-76 2451 y Fr(But)16 b(here)g(the)g Fn(Place)f
Fr(constructor)i(is)g(transparen)o(t)g(to)f(program-)-76
2493 y(mers.)33 b(T)m(o)18 b(hide)i(it,)g(w)o(e)e(need)h(to)f(in)o(tro)
q(duce)i(the)f(sp)q(ecial)h(term)-76 2535 y Fo(Place)p
Fr(.)1020 541 y Fo(De\014nition)12 b(1)j(\(Catamorphism\))k
Fq(The)e(c)n(atamorphism)d(for)j(a)1020 588 y(typ)n(e)f
Fp(T)23 b Fq(is)17 b Fr(cata)1265 572 y Fi(T)1307 588
y Fr(:)35 b(\()p Fp(T)5 b Fr(\()p Fp(\013;)h(\013)p Fr(\))11
b Fm(!)g Fp(\013)p Fr(\))g Fm(!)h Fp(\026)1676 572 y
Fi(!)1704 588 y Fp(T)17 b Fm(!)12 b Fp(\013)p Fq(,)18
b(de\014ne)n(d)d(as)1020 629 y(fol)r(lows:)1111 711 y
Fr(cata)1181 695 y Fi(T)1212 711 y Fp(\036)6 b Fr(\()p
Fo(in)1293 695 y Fi(T)1317 711 y Fp(x)p Fr(\))90 b(=)38
b Fp(\036)p Fr(\()p Fm(E)1573 695 y Fi(T)1604 711 y Fr(\(cata)1689
695 y Fi(T)1720 711 y Fp(\036;)6 b Fo(Place)p Fr(\))k
Fp(x)p Fr(\))1111 756 y(cata)1181 740 y Fi(T)1212 756
y Fp(\036)c Fr(\()p Fo(Place)k Fp(x)p Fr(\))37 b(=)h
Fp(x)1020 836 y Fr(According)16 b(to)e(this)h(de\014nition,)i(the)e
(catamorphism)h(for)e(circular)1020 877 y(lists)g(is)g(cata)1208
862 y Fj(Clist)1280 877 y Fp(\036)p Fr(,)f(giv)o(en)h(b)o(y)1039
959 y(cata)1109 944 y Fj(Clist)1181 959 y Fp(\036)6 b
Fr(\()p Fo(in)1262 944 y Fj(Clist)1334 959 y Fp(x)p Fr(\))21
b(=)1071 1001 y Fp(\036)p Fr(\(\()p Fp(\025)p Fo(inL)5
b Fp(y)q(:)h Fo(inL)f Fp(y)1130 1047 y Fr([)-6 b(])5
b Fo(inR)h Fp(y)q(:)g Fo(inR)o Fr(\(\()p Fp(\025)p Fo(inL)f
Fp(z)r(:)h Fo(inL)n Fr(\(\()p Fp(\025)p Fr(\()p Fp(a;)h(r)q
Fr(\))p Fp(:)f Fr(\()p Fp(a;)g Fr(cata)1835 1031 y Fj(Clist)1907
1047 y Fp(\036)g(r)q Fr(\)\))g Fp(z)r Fr(\))1371 1092
y([)-6 b(])6 b Fo(inR)f Fp(h:)h Fo(inR)o Fr(\()p Fp(\025w)q(:)g
Fr(cata)1731 1076 y Fj(Clist)1803 1092 y Fp(\036)h Fr(\()p
Fp(h)p Fr(\()p Fo(Place)j Fp(w)q Fr(\)\)\))1350 1134
y(\))c Fp(y)q Fr(\)\))h Fp(x)p Fr(\))1039 1179 y(cata)1109
1163 y Fj(Clist)1181 1179 y Fp(\036)f Fr(\()p Fo(Place)11
b Fp(x)p Fr(\))21 b(=)g Fp(x)1020 1259 y Fr(If)11 b(w)o(e)f(had)i
(expressed)g(the)g(\014rst)f(case)g(of)g(this)h(de\014nition)i(in)e(a)f
(func-)1020 1301 y(tional)j(language)g(with)f(v)n(alue)h(constructors)f
(and)g(pattern)g(matc)o(h-)1020 1342 y(ing,)h(w)o(e)e(w)o(ould)i(ha)o
(v)o(e)1083 1424 y(cata)1154 1408 y Fj(Clist)1226 1424
y Fp(\036)6 b Fr(\()p Fo(in)1307 1408 y Fj(Clist)1378
1424 y Fp(x)p Fr(\))1132 1466 y(=)21 b Fp(\036)p Fr(\()p
Fo(case)j Fp(x)10 b Fo(of)1228 1508 y Fr(Nil)1277 1492
y Fe(0)1311 1508 y Fm(\))21 b Fr(Nil)1419 1492 y Fe(0)1212
1553 y Fm(j)10 b Fr(Cons)1316 1538 y Fe(0)1328 1553 y
Fr(\()p Fp(a;)c(r)q Fr(\))22 b Fm(\))g Fr(Cons)1578 1538
y Fe(0)1589 1553 y Fr(\()p Fp(a;)7 b Fr(cata)1712 1538
y Fj(Clist)1784 1553 y Fp(\036)f(r)q Fr(\))1212 1599
y Fm(j)k Fr(Rec)1295 1583 y Fe(0)1307 1599 y Fr(\()p
Fp(f)t Fr(\))21 b Fm(\))h Fr(Rec)1503 1583 y Fe(0)1514
1599 y Fr(\(\(cata)1614 1583 y Fj(Clist)1686 1599 y Fp(\036)p
Fr(\))9 b Fm(\016)f Fp(f)13 b Fm(\016)8 b Fo(Place)p
Fr(\)\))1020 1683 y(where)43 b(Nil)1210 1667 y Fe(0)1233
1683 y Fr(=)11 b Fo(inL)n Fr(\(\),)43 b(Cons)1504 1667
y Fe(0)1515 1683 y Fr(\()p Fp(a;)6 b(r)q Fr(\))11 b(=)g
Fo(inL)n Fr(\()p Fo(inR)o Fr(\()p Fp(a;)c(r)q Fr(\)\),)42
b(and)1020 1724 y(Rec)1082 1708 y Fe(0)1094 1724 y Fr(\()p
Fp(f)t Fr(\))17 b(=)g Fo(inR)o Fr(\()p Fo(inR)o Fr(\()p
Fp(f)t Fr(\)\).)28 b(F)m(or)17 b(example,)i(the)e(follo)o(wing)i(pro-)
1020 1766 y(gram)13 b(computes)h Fn(mapC\(g\))q Fr(,)e(the)h(map)g(o)o
(v)o(er)h(Clist:)1062 1850 y(cata)1132 1834 y Fj(Clist)1204
1850 y Fr(\()p Fp(\025)p Fo(inL)5 b Fp(y)q(:)h Fo(inL)f
Fp(y)1225 1891 y Fr([)-6 b(])6 b Fo(inR)f Fp(y)q(:)h
Fo(inR)o Fr(\(\()p Fp(\025)p Fo(inL)f Fp(z)r(:)h Fo(inL)n
Fr(\(\()p Fp(\025)p Fr(\()p Fp(a;)h(r)q Fr(\))p Fp(:)f
Fr(\()p Fp(g)i(a;)f(r)q Fr(\)\))f Fp(z)r Fr(\))1466 1933
y([)-6 b(])6 b Fo(inR)f Fp(h:)h Fo(inR)o Fr(\()p Fp(h)p
Fr(\)\))h Fp(y)q Fr(\)\))1076 2020 y(Meijer)17 b(and)g(Hutton)g([8])e
(de\014ne)j(a)e(catamorphism)i(cata)1944 2004 y Fi(T)1984
2020 y Fr(in)1020 2066 y(conjunction)h(with)f(its)g(dual,)h(the)f
(anamorphism)h(ana)1857 2050 y Fi(T)1882 2066 y Fr(,)e(as)h(fol-)1020
2108 y(lo)o(ws:)1039 2182 y(cata)1109 2166 y Fi(T)1140
2182 y Fp(\036)6 b( )i Fr(\()p Fo(in)1254 2166 y Fi(T)1278
2182 y Fp(x)p Fr(\))37 b(=)g Fp(\036)p Fr(\()p Fm(E)1480
2166 y Fi(T)1511 2182 y Fr(\(cata)1597 2166 y Fi(T)1627
2182 y Fp(\036)7 b( )q(;)f Fr(ana)1760 2166 y Fi(T)1791
2182 y Fp(\036)g( )q Fr(\))11 b Fp(x)p Fr(\))1039 2227
y(ana)1098 2211 y Fi(T)1129 2227 y Fp(\036)6 b( )i(x)139
b Fr(=)37 b Fo(in)1456 2211 y Fi(T)1480 2227 y Fr(\()p
Fm(E)1518 2211 y Fi(T)1550 2227 y Fr(\(ana)1624 2211
y Fi(T)1655 2227 y Fp(\036)6 b( )q(;)h Fr(cata)1798 2211
y Fi(T)1829 2227 y Fp(\036)f( )q Fr(\))11 b(\()p Fp( )d(x)p
Fr(\)\))1020 2314 y(That)13 b(is,)h(b)q(oth)g(cata)1328
2298 y Fi(T)1365 2314 y Fr(and)h(ana)1500 2298 y Fi(T)1538
2314 y Fr(should)g(tak)o(e)f(t)o(w)o(o)f(functions,)h
Fp(\036)1020 2356 y Fr(and)i Fp( )q Fr(.)26 b(The)16
b(\014rst,)g Fp(\036)p Fr(,)g(is)g(used)g(in)h(the)f(catamorphism)i
(and)e(the)1020 2397 y(other,)e Fp( )q Fr(,)g(is)g(b)q(e)g(used)g(in)h
(the)e(anamorphism.)21 b(This)15 b(dual)g(pair)f(of)1020
2439 y(cata-ana)e(should)g(satisfy)g(the)f(la)o(w)h(\(cata)1628
2423 y Fi(T)1659 2439 y Fp(\036)6 b( )q Fr(\))t Fm(\016)t
Fr(\(ana)1832 2423 y Fi(T)1863 2439 y Fp(\036)g( )q Fr(\))11
b(=)f(id)1020 2480 y(in)k(order)f(to)g(b)q(e)h(useful.)k(This)13
b(implies)j(that)d Fp(\036)8 b Fm(\016)h Fp( )j Fr(=)e(id)q(.)1076
2522 y(T)m(o)j(complete)i(the)f(explication)j(of)d(the)g(relationship)j
(b)q(et)o(w)o(een)1020 2563 y(our)12 b(w)o(ork)f(and)g(that)h(of)f
(Meijer)g(and)h(Hutton's,)g(w)o(e)e(sho)o(w)i(that)f(the)1020
2605 y(notion)k(of)d(anamorphism)j(is)f(dual)g(of)f(that)g(of)g
(catamorphism.)961 2747 y(9)p eop
%%Page: 10 10
10 9 bop -76 -34 a Fo(De\014nition)13 b(2)h(\(Anamorphism\))19
b Fq(The)9 b(anamorphism)f(for)h(a)h(typ)n(e)-76 12 y
Fp(T)20 b Fq(is)13 b Fr(ana)67 -4 y Fi(T)101 12 y Fr(:)21
b(\()p Fp(\013)t Fm(!)t Fp(T)5 b Fr(\()p Fp(\013;)i(\013)p
Fr(\)\))t Fm(!)t Fp(\013)t Fm(!)t Fp(\026)499 -4 y Fi(!)529
12 y Fp(T)e Fq(,)15 b(de\014ne)n(d)c(as)i(fol)r(lows:)47
92 y Fr(ana)106 76 y Fi(T)137 92 y Fp( )8 b(x)37 b Fr(=)g
Fo(in)333 76 y Fi(T)357 92 y Fr(\()p Fm(E)395 76 y Fi(T)427
92 y Fr(\(ana)501 76 y Fi(T)532 92 y Fp( )q(;)6 b Fo(Place)p
Fr(\))11 b(\()p Fp( )q(x)p Fr(\)\))-20 170 y(One)17 b(of)f(the)g(adv)n
(an)o(tages)i(of)e(using)i(catamorphisms)h(instead)-76
211 y(of)14 b(general)i(recursion)h(is)e(that)g(they)g(satisfy)g(nice)h
(prop)q(erties.)23 b(In)-76 253 y(particular,)14 b(they)e(satisfy)g(an)
g(imp)q(ortan)o(t)h(prop)q(ert)o(y)f(kno)o(wn)g(as)g(the)-76
294 y Fq(fusion)g(law)p Fr(,)g(whic)o(h)i(can)g(b)q(e)f(used)h(for)f
(fusing)h(an)o(y)g(strict)g(function)-76 336 y(with)h(a)g(catamorphism)
i(to)d(yield)j(another)e(catamorphism.)24 b(The)-76 377
y(fusion)c(la)o(w)e(for)g(a)g(catamorphism)j(of)d(t)o(yp)q(e)g
Fp(T)24 b Fr(is)19 b(giv)o(en)g(b)o(y)g(the)-76 419 y(follo)o(wing)c
(theorem.)-76 490 y Fo(Theorem)g(3)g(\(F)l(usion)f(La)o(w\))k
Fq(F)m(or)c(any)e(strict)h(function)e Fp(g)q Fq(:)223
574 y Fp(g)f Fm(\016)f Fp(\036)37 b Fr(=)g Fp( )10 b
Fm(\016)f(E)492 558 y Fi(T)523 574 y Fr(\()p Fp(g)q(;)e
Fr(id)q(\))p 179 588 487 2 v 216 635 a Fp(g)j Fm(\016)f
Fr(cata)343 619 y Fi(T)373 635 y Fp(\036)38 b Fr(=)f(cata)571
619 y Fi(T)602 635 y Fp( )-76 722 y Fq(Pr)n(o)n(of:)14
b Fr(Since)d Fo(Place)d Fr(is)i(in)o(ternal)h(to)e(eac)o(h)g(cata)618
706 y Fi(T)642 722 y Fr(,)g(w)o(e)g(will)i(consider)-76
764 y(only)i(the)e(case)g(where)h(the)f(input)i(is)e
Fo(in)498 748 y Fi(T)533 764 y Fr(\(external)i(uses)f(of)f
Fo(Place)-76 805 y Fr(are)i(detected)h(and)g(ruled)g(out)f(b)o(y)g(our)
h(t)o(yp)q(e)f(system\).)k(W)m(e)c(ha)o(v)o(e)-57 889
y Fp(g)d Fm(\016)f Fr(cata)69 873 y Fi(T)100 889 y Fp(\036)f
Fm(\016)h Fo(in)196 873 y Fi(T)258 889 y Fr(=)37 b Fp(g)10
b Fm(\016)f Fp(\036)f Fm(\016)h(E)463 873 y Fi(T)494
889 y Fr(\(cata)579 873 y Fi(T)610 889 y Fp(\036;)d Fo(Place)p
Fr(\))258 934 y(=)37 b Fp( )10 b Fm(\016)e(E)410 918
y Fi(T)442 934 y Fr(\()p Fp(g)q(;)e Fr(id)q(\))j Fm(\016)g(E)600
918 y Fi(T)631 934 y Fr(\(cata)716 918 y Fi(T)747 934
y Fp(\036;)d Fo(Place)p Fr(\))258 979 y(=)37 b Fp( )10
b Fm(\016)e(E)410 964 y Fi(T)442 979 y Fr(\()p Fp(g)i
Fm(\016)f Fr(cata)583 964 y Fi(T)614 979 y Fp(\036;)d
Fo(Place)i Fm(\016)h Fr(id)q(\))258 1025 y(=)37 b Fp( )10
b Fm(\016)e(E)410 1009 y Fi(T)442 1025 y Fr(\(cata)527
1009 y Fi(T)558 1025 y Fp( )q(;)e Fo(Place)p Fr(\))258
1070 y(=)37 b(cata)395 1054 y Fi(T)426 1070 y Fp( )10
b Fm(\016)f Fo(in)525 1054 y Fi(T)877 1070 y Fd(2)-76
1171 y Fs(3.4)52 b(T)o(yp)q(e-c)o(hec)o(king)-76 1236
y Fr(The)18 b(grammar)h(for)e(the)i(term)f(language)i(giv)o(es)f(syn)o
(tactic)g(rules)-76 1278 y(for)f(v)n(alid)i(term)d(constructions,)k
(but)e(not)f(all)h(suc)o(h)g(terms)f(ha)o(v)o(e)-76 1319
y(meaning.)30 b(T)m(raditionally)m(,)20 b(a)d(t)o(yp)q(e)g(system)g(is)
g(used)g(to)g(disco)o(v)o(er)-76 1361 y(in)o(v)n(alid)f(terms)e(b)o(y)g
(attempting)g(to)g(assign)h(t)o(yp)q(es)f(to)f(terms.)18
b(Here)-76 1402 y(w)o(e)11 b(will)i(use)e(the)h(t)o(yp)q(e)g(system)f
(to)g(distingui)q(sh)j(b)q(oth)e(the)g(ill-t)o(yp)q(ed)-76
1444 y(terms)j(and)g(terms)g(with)g(illegal)i(uses)f(of)e
(catamorphisms.)24 b(Since)-76 1485 y(our)13 b(language)i(supp)q(ort)f
(p)q(olymorphic)i(data)d(t)o(yp)q(es,)g(w)o(e)f(will)j(need)-76
1527 y(a)j(Hindley-Miln)q(er)i(st)o(yle)e(t)o(yp)q(e-inference)i
(algorithm.)32 b(Here)18 b(w)o(e)-76 1568 y(will)13 b(only)g(giv)o(e)f
(the)f(t)o(yping)i(rules)g(for)e(the)g(t)o(yp)q(e-inference)i(system.)
-20 1610 y(Figure)g(4)e(presen)o(ts)h(the)f(t)o(yping)i(rules)f(for)f
(our)g Fp(\025)p Fr(-calculus.)19 b(W)m(e)-76 1651 y(add)14
b(to)f(the)g(usual)h(rules)h(the)e(rules)h(\(CA)m(T)m(A\),)d(\(IN\),)h
(and)i(\(OUT\).)-76 1693 y(T)m(o)f(simplify)j(these)e(rules,)g(w)o(e)f
(assume)h(that)f(a)h(t)o(yp)q(e)g(de\014nition)i Fp(T)-76
1734 y Fr(has)f(only)i(one)e(t)o(yp)q(e)g(abstraction,)i(i.e.,)e(w)o(e)
f(assume)i(that)f Fp(T)20 b Fr(con-)-76 1776 y(tains)e(one)e(p)q
(ositiv)o(e)j(and)e(one)f(negativ)o(e)i(v)n(ariable.)29
b(If)16 b(w)o(e)g(ignore)-76 1817 y(the)f Fp(!)q Fr('s)g(in)h(the)g
(Rule)g(\(IN\),)e(then)i(the)f(t)o(yp)q(e)h(of)f Fo(in)693
1802 y Fi(T)724 1817 y Fp(e)g Fr(is)h(the)f(\014x-)-76
1859 y(p)q(oin)o(t)g(of)f(the)g(functor)g Fp(T)20 b Fr(and)14
b(the)g(t)o(yp)q(e)h(of)e Fp(e)h Fr(is)g Fp(T)20 b Fr(with)14
b(b)q(oth)h(its)-76 1900 y(p)q(ositiv)o(e)h(and)f(negativ)o(e)h
(argumen)o(ts)f(\014xed)g(to)g(the)f(\014xp)q(oin)o(t)i(of)e
Fp(T)5 b Fr(.)-76 1942 y(In)11 b(addition,)i(Rule)e(\(IN\))f
(propagates)i(the)e Fp(!)i Fr(\015ag)f(only)g(to)f(the)h(neg-)-76
1983 y(ativ)o(e)k(part)g(of)f Fp(T)5 b Fr(.)21 b(Rule)15
b(\(OUT\))f(is)h(in)g(some)f(sense)h(the)f(opp)q(osite)-76
2030 y(of)h(Rule)g(\(IN\))f(since)i Fp(\025)p Fo(in)303
2014 y Fi(T)334 2030 y Fp(x:)6 b(e)14 b Fr(is)h(a)g(function)h(from)f
(the)f(\014xp)q(oin)o(t)-76 2071 y(of)d Fp(T)17 b Fr(to)12
b(the)f(t)o(yp)q(e)h(of)f Fp(e)p Fr(.)17 b(Rule)12 b(\(OUT\))f(also)h
(sets)g(the)f Fp(!)i Fr(\015ag)f(of)f(the)-76 2113 y(negativ)o(e)k
(part)e(of)g Fp(T)18 b Fr(to)13 b Fq(c)n(ase)n(d)p Fr(.)i(Rule)g(\(CA)m
(T)m(A\))c(sets)i(the)g Fp(!)h Fr(tag)f(of)-76 2154 y
Fp(\026)-53 2138 y Fi(!)-20 2154 y Fr(to)e Fq(folde)n(d)p
Fr(.)j(If)c(a)h(term)g(of)g(t)o(yp)q(e)g Fp(\026)453
2138 y Fi(!)482 2154 y Fp(T)16 b Fr(is)c(examined)g(b)o(y)f(the)g(term)
-76 2196 y Fp(\025)p Fo(in)-17 2180 y Fi(T)14 2196 y
Fp(x:)6 b(e)p Fr(,)15 b(then)g(Rule)h(\(OUT\))e(sets)h(the)g
Fp(!)h Fr(tag)f(to)g Fq(c)n(ase)n(d)p Fr(,)e(whic)o(h)-76
2237 y(is)i(propagated)h(through)f(the)g(negativ)o(e)g(part)g(of)f
Fp(T)5 b Fr(.)21 b(If)13 b(the)i Fp(!)g Fr(tag)-76 2279
y(reac)o(hes)d(a)f(catamorphism,)h(then)g Fp(\026)453
2263 y Fj(cased)533 2279 y Fp(T)k Fr(and)c Fp(\026)667
2263 y Fj(folded)756 2279 y Fp(T)17 b Fr(will)12 b(not)-76
2320 y(unify)i(and)g(the)f(t)o(yp)q(e-c)o(hec)o(king)i(will)g(fail.)-20
2362 y(T)m(o)e(illustrate)j(ho)o(w)e(the)g(t)o(yping)h(rules)f(in)g
(Figure)h(4)f(detect)g(er-)-76 2403 y(rors,)f(consider)i(the)e(term)182
2487 y(cata)252 2470 y Fj(Clist)324 2487 y Fp(\036)6
b Fr(\(Rec\()p Fp(\025)p Fo(in)505 2470 y Fj(Clist)576
2487 y Fp(x:)g(e)p Fr(\)\))-76 2571 y(where)19 b(Rec)q(\()p
Fp(f)t Fr(\))h(=)h Fo(in)265 2556 y Fj(Clist)330 2571
y Fr(\()p Fo(inR)o Fr(\()p Fo(inR)o Fr(\()p Fp(f)t Fr(\)\)\).)34
b(This)20 b(term)f(is)h(not)-76 2618 y(w)o(ell-t)o(yp)q(ed,)g(since)f
(\()p Fp(\025)p Fo(in)299 2602 y Fj(Clist)371 2618 y
Fp(x:)6 b(e)p Fr(\))17 b(is)i(of)e(t)o(yp)q(e)i Fp(\026)667
2602 y Fj(cased)747 2618 y Fr(Clist)13 b Fm(!)g Fp(\034)t
Fr(,)1020 -34 y(the)j(term)f Fo(in)1220 -50 y Fj(Clist)1301
-34 y Fr(will)i(propagate)g(the)e(t)o(yp)q(e)h(of)f(its)i(negativ)o(e)g
(in-)1020 7 y(put,)23 b Fp(\026)1134 -9 y Fj(cased)1214
7 y Fr(Clist)q(,)g(to)e(its)g(output,)j(and)e(\014nally)h(the)e
(resulting)1020 49 y(t)o(yp)q(e)e Fp(\026)1135 33 y Fj(cased)1215
49 y Fr(Clist)h(will)g(not)e(unify)i(with)f(the)g(t)o(yp)q(e)g
Fp(\026)1848 33 y Fj(folded)1937 49 y Fr(Clist)1020 90
y(in)14 b(Rule)g(\(CA)m(T)m(A\).)d(On)i(the)g(other)g(hand,)1221
176 y(cata)1291 158 y Fj(Clist)1363 176 y Fp(\036)6 b
Fr(\(Cons)q(\()p Fp(a;)g Fr(\()p Fp(\025)p Fo(in)1617
158 y Fj(Clist)1689 176 y Fp(x:)g(e)p Fr(\))g Fp(r)q
Fr(\)\))1020 260 y(where)19 b(Cons\()p Fp(a;)7 b(r)q
Fr(\))20 b(=)h Fo(in)1413 244 y Fj(Clist)1479 260 y Fr(\()p
Fo(inR)o Fr(\()p Fo(inL)n Fr(\()p Fp(a;)6 b(r)q Fr(\)\)\),)20
b(is)g(w)o(ell-t)o(yp)q(ed,)1020 302 y(since)12 b(Rule)h(\(OUT\))d
(will)j(bind)g(the)e Fp(\026)g Fr(tag)h(of)f(the)g(negativ)o(e)i(part)e
(of)1020 343 y Fp(T)24 b Fr(to)18 b Fq(c)n(ase)n(d)p
Fr(.)31 b(Since)20 b(the)e(t)o(yp)q(e)h(of)f(the)h(constructor)g
Fn(Cons)e Fr(do)q(es)1020 385 y(not)j(use)f(the)h(negativ)o(e)h(part)f
(of)f Fp(T)5 b Fr(,)21 b(this)f(binding)i(will)f(not)f(b)q(e)1020
426 y(propagated.)1076 468 y(A)11 b(t)o(yp)q(e-c)o(hec)o(king)i(system)
f(that)f(is)h(based)g(on)f(the)g(t)o(yping)i(rules)1020
509 y(in)f(Figure)h(4)f(needs)g(a)g(uni\014cation)i(algorithm.)19
b(A)11 b(sligh)o(t)i(v)n(ariation)1020 551 y(of)k(the)g(usual)i
(uni\014cation)h(algorithm)f(can)e(b)q(e)h(used.)30 b(The)17
b(only)1020 592 y(sp)q(ecial)c(case)e(it)g(needs)h(to)f(consider)h(is)g
(the)f(case)g(of)f(unifying)j Fp(\026)1944 577 y Fi(!)1963
582 y Fb(1)1989 592 y Fp(T)1020 634 y Fr(with)18 b(another)h
Fp(\026)1281 618 y Fi(!)1300 623 y Fb(2)1326 634 y Fp(S)r
Fr(,)g(since)g(this)g(is)f(the)g(case)h(where)f(an)g(error)1020
675 y(o)q(ccurs)f(if)f(a)h(program)g(do)q(es)g(not)f(satisfy)h(the)g
(restrictions.)28 b(The)1020 717 y(t)o(yp)q(e)10 b Fp(\026)1126
701 y Fi(!)1145 706 y Fb(1)1170 717 y Fp(T)15 b Fr(will)d(unify)e(with)
g Fp(\026)1478 701 y Fi(!)1497 706 y Fb(2)1523 717 y
Fp(T)15 b Fr(\(denoted)10 b(as)g Fp(\026)1783 701 y Fi(!)1802
706 y Fb(1)1827 717 y Fp(T)17 b Fm(\021)10 b Fp(\026)1929
701 y Fi(!)1948 706 y Fb(2)1974 717 y Fp(T)5 b Fr(\))1020
764 y(unless)19 b(either)g Fp(\026)1275 748 y Fj(folded)1364
764 y Fp(T)24 b Fm(6\021)19 b Fp(\026)1482 748 y Fj(cased)1562
764 y Fp(T)k Fr(or)18 b Fp(\026)1682 748 y Fj(folded)1771
764 y Fp(T)24 b Fm(6\021)18 b Fp(\026)1888 748 y Fj(folded)1978
764 y Fp(T)5 b Fr(.)1020 805 y(W)m(e)18 b(ha)o(v)o(e)g(already)i
(presen)o(ted)e(an)h(example)g(in)f(whic)o(h)h(the)f(\014rst)1020
847 y(case)c(o)q(ccurs)h(and)g(in)g(whic)o(h)g(the)f(t)o(yp)q(e)g(c)o
(hec)o(k)o(er)h(should)h(therefore)1020 888 y(rep)q(ort)c(an)g(error.)
17 b(An)11 b(example)i(in)g(whic)o(h)f(the)g(second)h(case)f(o)q(ccur)
1020 930 y(w)o(as)h(giv)o(en)h(in)g(Section)g(2.2.1)f(b)o(y)1064
1009 y(mapC\()p Fp(\025x:)6 b Fr(2)j Fm(\003)g Fp(x)p
Fr(\)\(Rec\()p Fp(\025x:)d Fr(Cons\(1)p Fp(;)g Fr(mapC)q(\()p
Fp(\025x:)g(x)i Fr(+)h(1\))d Fp(x)p Fr(\)\)\))1020 1087
y(The)19 b(outer)g(mapC)g(is)h(a)f(catamorphism)i(o)o(v)o(er)e(the)g
(in\014nite)i(list)1020 1129 y(1)11 b(:)g(2)h(:)f(3)g(:)g
Fm(\001)6 b(\001)g(\001)p Fr(.)18 b(Since)c(the)g(inner)g(mapC)g(is)g
(a)f(catamorphism)i(to)q(o,)1020 1170 y(the)i Fq(folde)n(d)d
Fr(tag)i(will)i(b)q(e)f(propagated)h(all)g(the)e(w)o(a)o(y)g(through)i
(the)1020 1212 y(input)d(of)f(the)g(outer)g(mapC.)g(As)f(w)o(e)h(ha)o
(v)o(e)g(seen,)g(this)h(program)g(is)1020 1253 y(in)o(v)n(alid)h(and)d
(it)h(should)h(b)q(e)e(ruled)h(out)f(b)o(y)h(the)f(t)o(yp)q(e-c)o(hec)o
(k)o(er.)1020 1366 y Fs(4)52 b(Conclusion)1020 1445 y
Fr(W)m(e)9 b(ha)o(v)o(e)g(presen)o(ted)h(a)f(new)f(metho)q(d)i(for)e
(de\014ning)j(catamorphisms)1020 1486 y(o)o(v)o(er)g(datat)o(yp)q(es)h
(with)g(em)o(b)q(edded)g(functions.)18 b(Our)10 b(approac)o(h)j(can)
1020 1528 y(b)q(e)h(useful)i(ev)o(en)e(when)h(the)f(approac)o(h)h
(outlined)i(b)o(y)d(other)h(recen)o(t)1020 1569 y(prop)q(osals)21
b(fails,)h(since)f(it)e(do)q(es)h(not)g(require)g(the)g(existence)g(of)
1020 1611 y(in)o(v)o(erse)d(functions.)26 b(Our)16 b(metho)q(d)h(has)f
(a)f(more)h(e\016cien)o(t)h(imple-)1020 1652 y(men)o(tation)g(and)g(is)
g(often)f(easier)g(to)g(use)h(and)f(understand)i(since)1020
1694 y(it)g(do)q(es)g(not)g(require)g(programmers)h(to)e(explicitly)k
(dev)o(elop)e(the)1020 1735 y(in)o(v)o(erse)e(functions.)26
b(W)m(e)16 b(ha)o(v)o(e)g(c)o(haracterized)i(exactly)f(when)f(w)o(e)
1020 1777 y(can)j(trade)f(the)g(restrictiv)o(e)i(condition)h(ab)q(out)e
(the)f(existence)h(of)1020 1818 y(an)d(in)o(v)o(erse)g(for)g(another,)g
(more)g(useful,)g(condition)i(that)e(w)o(e)f(can)1020
1860 y(statically)h(test.)1076 1901 y(W)m(e)g(ha)o(v)o(e)h
(demonstrated)h(ho)o(w)e(to)g(use)g(datat)o(yp)q(es)i(with)e(em-)1020
1943 y(b)q(edded)j(functions)g(in)f(t)o(w)o(o)e(large)j(and)f(useful)g
(domains:)27 b(meta-)1020 1984 y(programming)11 b(and)e(circular)i
(structures.)16 b(W)m(e)9 b(ha)o(v)o(e)g(demonstrated)1020
2026 y(that)14 b(structures)i(with)e(em)o(b)q(edded)i(functions)g(pro)o
(vide)f(a)g(natural)1020 2067 y(w)o(a)o(y)f(to)g(express)i
(meta-programming)g(and)f(program)g(manipula-)1020 2109
y(tion)i(of)g(languages)h(with)f(binding)j(constructs)d(lik)o(e)h(lam)o
(b)q(da)g(ab-)1020 2150 y(straction,)13 b(b)q(ecause)h(there)e(is)h(no)
f(renaming)i(problem)f(or)g(need)f(for)1020 2192 y(a)17
b Fq(gensym)p Fr(-lik)o(e)f(solution.)31 b(Therefore,)18
b(our)f(approac)o(h)h(is)g(purely)1020 2233 y(functional)c(and)e(do)g
(not)g(require)g(us)g(to)g(resort)g(to)f(the)h(w)o(ell-kno)o(wn)1020
2275 y(stateful)i(monad)g(tric)o(ks.)1076 2316 y(The)j(other)h(domain)g
(of)f(examples)i(w)o(as)e(on)h(structures)g(with)1020
2358 y(cycles.)i(It)14 b(is)g(w)o(ell)h(kno)o(wn)f(that)g(implemen)o
(tation)q(s)i(of)e(functional)1020 2399 y(languages)h(use)e(p)q(oin)o
(ters)h(and)g(cycles,)f(but)g(these)g(are)g(hidden)i(im-)1020
2441 y(plemen)o(tation)e(details.)18 b(They)11 b(are)g(exactly)h(the)f
(mec)o(hanisms)h(pro-)1020 2482 y(grammers)j(w)o(ould)g(lik)o(e)h(to)e
(use)h(to)f(implemen)o(t)i(graphs,)f(but)g(can-)1020
2524 y(not.)i(W)m(e)c(ha)o(v)o(e)h(dev)o(elop)q(ed)h(a)e(mec)o(hanism)h
(that)f(allo)o(ws)i(program-)1020 2565 y(mers)d(to)g(get)h(a)f(b)q
(etter)g(hold)i(of)d(these)i(implemen)o(tation)i(details)f(in)1020
2607 y(a)f(manner)h(whic)o(h)g(is)f(still)i(safe.)951
2747 y(10)p eop
%%Page: 11 11
11 10 bop -76 -74 2086 2 v -76 838 2 913 v 94 27 a Fr(\(V)l(AR\))223
b Fp(\033)12 b Fm(`)f Fp(x)f Fr(:)h Fp(\033)q Fr(\()p
Fp(x)p Fr(\))310 b(\(UNIT\))329 b Fp(\033)12 b Fm(`)f
Fr(\(\))g(:)f(\(\))94 117 y(\(INL\))156 b Fp(\033)12
b Fm(`)f Fo(inL)e Fr(:)i Fp(\034)528 121 y Fj(1)549 117
y Fm(!)t Fp(\034)608 121 y Fj(1)635 117 y Fr(+)d Fp(\034)690
121 y Fj(2)936 117 y Fr(\(INR\))255 b Fp(\033)12 b Fm(`)f
Fo(inR)e Fr(:)i Fp(\034)1479 121 y Fj(2)1500 117 y Fm(!)t
Fp(\034)1559 121 y Fj(1)1586 117 y Fr(+)d Fp(\034)1641
121 y Fj(2)94 236 y Fr(\(APPL\))293 206 y Fp(\033)k Fm(`)f
Fp(e)379 210 y Fj(1)407 206 y Fr(:)f Fp(\034)445 210
y Fj(1)466 206 y Fm(!)t Fp(\034)525 210 y Fj(2)543 206
y Fp(;)38 b(\033)12 b Fm(`)g Fp(e)679 210 y Fj(2)706
206 y Fr(:)f Fp(\034)745 210 y Fj(1)p 274 220 507 2 v
422 264 a Fp(\033)h Fm(`)f Fp(e)508 268 y Fj(1)531 264
y Fp(e)549 268 y Fj(2)577 264 y Fr(:)g Fp(\034)616 268
y Fj(2)936 236 y Fr(\(ABS\))1336 206 y Fp(\033)q Fm(f)p
Fp(x)g Fr(:)f Fp(\034)1449 210 y Fj(1)1466 206 y Fm(g)h(`)g
Fp(e)g Fr(:)f Fp(\034)1597 210 y Fj(2)p 1309 220 332
2 v 1328 264 a Fp(\033)i Fm(`)f Fp(\025x:)6 b(e)k Fr(:)h
Fp(\034)1524 268 y Fj(1)1545 264 y Fm(!)t Fp(\034)1604
268 y Fj(2)94 404 y Fr(\(PR)o(OD\))333 374 y Fp(\033)h
Fm(`)f Fp(e)419 378 y Fj(1)447 374 y Fr(:)g Fp(\034)486
378 y Fj(1)503 374 y Fp(;)38 b(\033)12 b Fm(`)f Fp(e)638
378 y Fj(2)666 374 y Fr(:)f Fp(\034)704 378 y Fj(2)p
315 388 426 2 v 361 431 a Fp(\033)i Fm(`)f Fr(\()p Fp(e)462
435 y Fj(1)479 431 y Fp(;)6 b(e)514 435 y Fj(2)531 431
y Fr(\))11 b(:)f Fp(\034)595 435 y Fj(1)621 431 y Fm(\002)e
Fp(\034)676 435 y Fj(2)936 404 y Fr(\()p Fm(\002)p Fr(ABS\))1269
374 y Fp(\033)q Fm(f)p Fp(x)1333 378 y Fj(1)1361 374
y Fr(:)j Fp(\034)1400 378 y Fj(1)1417 374 y Fp(;)h(x)1462
378 y Fj(2)1490 374 y Fr(:)e Fp(\034)1528 378 y Fj(2)1546
374 y Fm(g)g(`)i Fp(e)e Fr(:)g Fp(\034)p 1223 388 504
2 v 1242 431 a(\033)i Fm(`)f Fp(\025)p Fr(\()p Fp(x)1369
435 y Fj(1)1386 431 y Fp(;)6 b(x)1425 435 y Fj(2)1443
431 y Fr(\))p Fp(:)g(e)k Fr(:)g Fp(\034)1541 435 y Fj(1)1567
431 y Fm(\002)f Fp(\034)1623 435 y Fj(2)1644 431 y Fm(!)t
Fp(\034)94 574 y Fr(\(CA)m(T)m(A\))374 542 y Fp(\033)j
Fm(`)f Fp(e)f Fr(:)h Fp(T)h Fr(\()p Fp(\034)r(;)6 b(\034)t
Fr(\))t Fm(!)t Fp(\034)p 295 556 465 2 v 314 603 a(\033)12
b Fm(`)f Fr(cata)452 587 y Fi(T)483 603 y Fp(e)f Fr(:)h
Fp(\026)556 587 y Fj(folded)645 603 y Fp(T)f Fm(!)t Fp(\034)936
574 y Fr(\(+ABS\))1151 544 y Fp(\033)q Fm(f)p Fp(x)1215
548 y Fj(1)1244 544 y Fr(:)g Fp(\034)1282 548 y Fj(1)1299
544 y Fm(g)h(`)g Fp(e)1381 548 y Fj(1)1409 544 y Fr(:)f
Fp(\034)r(;)38 b(\033)q Fm(f)p Fp(x)1562 548 y Fj(2)1591
544 y Fr(:)10 b Fp(\034)1629 548 y Fj(2)1646 544 y Fm(g)h(`)g
Fp(e)1728 548 y Fj(2)1756 544 y Fr(:)f Fp(\034)p 1110
558 730 2 v 1129 601 a(\033)i Fm(`)f Fr(\()p Fp(\025)p
Fo(inL)5 b Fp(x)1326 605 y Fj(1)1343 601 y Fp(:)h(e)1378
605 y Fj(1)1402 601 y Fr([)-6 b(])5 b Fo(inR)g Fp(x)1521
605 y Fj(2)1538 601 y Fp(:)h(e)1573 605 y Fj(2)1591 601
y Fr(\))k(:)h Fp(\034)1655 605 y Fj(1)1680 601 y Fr(+)e
Fp(\034)1736 605 y Fj(2)1757 601 y Fm(!)t Fp(\034)94
745 y Fr(\(IN\))334 714 y Fp(\033)j Fm(`)f Fp(e)g Fr(:)f
Fp(T)i Fr(\()p Fp(\026)524 698 y Fi(!)543 703 y Fb(1)568
714 y Fp(T)s(;)7 b(\026)634 698 y Fi(!)653 703 y Fb(2)678
714 y Fp(T)e Fr(\))p 315 728 425 2 v 387 775 a Fp(\033)12
b Fm(`)f Fo(in)492 759 y Fi(T)523 775 y Fp(e)f Fr(:)h
Fp(\026)596 759 y Fi(!)615 764 y Fb(2)640 775 y Fp(T)936
745 y Fr(\(OUT\))1215 716 y Fp(\033)q Fm(f)p Fp(x)f Fr(:)h
Fp(T)h Fr(\()p Fp(\026)1383 700 y Fi(!)1412 716 y Fp(T)s(;)6
b(\026)1477 700 y Fj(cased)1558 716 y Fp(T)f Fr(\))p
Fm(g)11 b(`)g Fp(e)g Fr(:)f Fp(\034)p 1196 730 558 2
v 1252 777 a(\033)i Fm(`)f Fp(\025)p Fo(in)1379 761 y
Fi(T)1410 777 y Fp(x:)6 b(e)k Fr(:)h Fp(\026)1522 761
y Fj(cased)1602 777 y Fp(T)f Fm(!)t Fp(\034)p 2008 838
2 913 v -76 840 2086 2 v 357 913 a Fr(Figure)15 b(4:)i(T)o(yping)d
(Rules)g(\(where)f(a)g(t)o(yp)q(e-assignmen)o(t)i(is)f
Fp(\033)22 b Fr(::=)f Fm(fg)11 b(j)f Fp(\033)q Fm(f)p
Fp(x)h Fr(:)g Fp(\034)t Fm(g)p Fr(\))-76 1039 y Fs(5)53
b(Ac)o(kno)o(wledgmen)o(ts)-76 1118 y Fr(The)16 b(authors)h(w)o(ould)g
(lik)o(e)g(to)f(thank)h(P)o(att)o(y)f(Johann,)h(Erik)g(Mei-)-76
1159 y(jer,)i(Ross)g(P)o(atterson,)i(Doaitse)f(Swierstra,)g(Andrew)f(T)
m(olmac)o(h,)-76 1201 y(and)13 b(the)g(anon)o(ymous)h(referees)e(for)g
(extensiv)o(e)i(commen)o(ts)f(on)f(ear-)-76 1242 y(lier)22
b(drafts)e(of)g(this)h(pap)q(er.)39 b(Leonidas)22 b(F)m(egaras)f(is)g
(supp)q(orted)-76 1284 y(in)g(part)f(b)o(y)h(the)f(National)i(Science)g
(F)m(oundation)g(under)f(gran)o(t)-76 1325 y(IRI-9509955,)h(and)e(b)o
(y)f(con)o(tract)h(b)o(y)g(the)f(Adv)n(anced)h(Researc)o(h)-76
1367 y(Pro)r(jects)12 b(Agency)m(,)f(ARP)m(A)g(order)h(n)o(um)o(b)q(er)
g(18,)g(monitored)g(b)o(y)g(the)-76 1408 y(US)17 b(Arm)o(y)h(Researc)o
(h)g(Lab)q(oratory)g(under)h(con)o(tract)e(D)o(AAB-07-)-76
1450 y(91-C-Q518.)g(Tim)11 b(Sheard)i(is)f(supp)q(orted)h(b)o(y)f(the)g
(USAF)f(Air)h(Ma-)-76 1491 y(terial)j(Command)e(under)h(con)o(tract)f
(#)g(F19628-93-C-0069.)-76 1601 y Fs(References)-57 1680
y Fr([1])19 b(R.)14 b(Bird)i(and)g(O.)e(de)h(Mo)q(or.)24
b(Solving)17 b(Optimisation)h(Prob-)3 1721 y(lems)12
b(with)g(Catamorphisms.)17 b(In)11 b Fq(Mathematics)g(of)h(Pr)n(o)n(gr)
n(am)3 1763 y(Construction)p Fr(,)17 b(pp)j(45{66.)g(Springer-V)m
(erlag,)j(LNCS)c(669,)3 1804 y(June)13 b(1992.)-57 1868
y([2])19 b(A.)f(Ch)o(urc)o(h.)34 b(A)18 b(F)m(orm)o(ulation)j(of)e(the)
g(Simple)h(Theory)f(of)3 1910 y(T)o(yp)q(es.)e Fq(Journal)12
b(of)h(Symb)n(olic)f(L)n(o)n(gic)p Fr(,)f(5:56{68,)i(1940.)-57
1974 y([3])19 b(L.)c(F)m(egaras,)i(T.)f(Sheard,)i(and)e(T.)g(Zhou.)27
b(Impro)o(ving)18 b(Pro-)3 2015 y(grams)i(whic)o(h)h(Recurse)g(o)o(v)o
(er)f(Multiple)i(Inductiv)o(e)g(Struc-)3 2057 y(tures.)16
b(In)d Fq(A)o(CM)g(SIGPLAN)f(Workshop)f(on)i(Partial)f(Evalu-)3
2098 y(ation)d(and)h(Semantics-Base)m(d)e(Pr)n(o)n(gr)n(am)j
(Manipulation,)d(Or-)3 2140 y(lando,)j(Florida)p Fr(,)g(pp)j(21{32,)f
(June)g(1994.)-57 2204 y([4])19 b(J.)13 b(Launc)o(h)o(bury)j(and)f(T.)e
(Sheard.)21 b(W)m(arm)15 b(F)m(usion.)21 b Fq(Seventh)3
2245 y(Confer)n(enc)n(e)9 b(on)i(F)m(unctional)e(Pr)n(o)n(gr)n(amming)i
(L)n(anguages)e(and)3 2287 y(Computer)16 b(A)o(r)n(chite)n(ctur)n(e,)f
(L)n(a)i(Jol)r(la,)g(California)p Fr(,)e(pp)j(314{)3
2328 y(323,)13 b(June)g(1995.)-57 2392 y([5])19 b(G.)8
b(Malcolm.)k(Data)d(Structures)h(and)g(Program)f(T)m(ransforma-)3
2434 y(tion.)27 b Fq(Scienc)n(e)14 b(of)i(Computer)g(Pr)n(o)n(gr)n
(amming)p Fr(,)f(14:255{279,)3 2475 y(1990.)-57 2539
y([6])k(G.)d(Malcolm.)29 b(Homomorphisms)18 b(and)f(Promotabilit)o(y)m
(.)30 b(In)3 2581 y Fq(Mathematics)20 b(of)j(Pr)n(o)n(gr)n(am)g
(Construction)p Fr(,)f(pp)h(335{347.)3 2622 y(Springer-V)m(erlag,)15
b(LNCS)d(375,)h(June)h(1989.)1039 1039 y([7])k(E.)e(Meijer,)g(M.)g(F)m
(okkinga,)h(and)g(R.)e(P)o(aterson.)26 b(F)m(unctional)1098
1081 y(Programming)e(with)e(Bananas,)j(Lenses,)f(En)o(v)o(elop)q(es)f
(and)1098 1122 y(Barb)q(ed)16 b(Wire.)22 b(In)15 b Fq(Pr)n(o)n(c)n(e)n
(e)n(dings)d(of)j(the)f(5th)g(A)o(CM)h(Confer-)1098 1164
y(enc)n(e)d(on)h(F)m(unctional)d(Pr)n(o)n(gr)n(amming)i(L)n(anguages)e
(and)i(Com-)1098 1205 y(puter)f(A)o(r)n(chite)n(ctur)n(e,)e(Cambridge,)
j(Massachuset)o(ts)p Fr(,)c(pp)k(124{)1098 1247 y(144.)i(Springer-V)m
(erlag,)h(LNCS)d(523,)h(August)h(1991.)1039 1311 y([8])k(E.)10
b(Meijer)h(and)f(G.)g(Hutton.)i(Bananas)g(in)f(Space:)16
b(Extending)1098 1353 y(F)m(old)10 b(and)g(Unfold)g(to)f(Exp)q(onen)o
(tial)j(T)o(yp)q(es.)f Fq(Seventh)c(Confer-)1098 1394
y(enc)n(e)12 b(on)h(F)m(unctional)d(Pr)n(o)n(gr)n(amming)i(L)n
(anguages)e(and)i(Com-)1098 1436 y(puter)h(A)o(r)n(chite)n(ctur)n(e,)d
(L)n(a)k(Jol)r(la,)e(California)p Fr(,)f(June)i(1995.)1039
1500 y([9])18 b(G.)e(Nadath)o(ur)g(and)h(D.)e(Miller.)28
b(Higher-Order)16 b(Logic)h(Pro-)1098 1542 y(gramming.)e(In)c(D.)g
(Gabba)o(y)m(,)h(C.)e(Hogger,)h(and)h(A.)e(Robinson,)1098
1583 y(editors,)j Fq(Handb)n(o)n(ok)c(of)i(L)n(o)n(gic)g(in)g(A)o
(rti\014cial)e(Intel)r(ligenc)n(e)g(and)1098 1625 y(L)n(o)n(gic)j(Pr)n
(o)n(gr)n(amming)p Fr(.)f(Oxford)i(Univ)o(ersit)o(y)h(Press,)e(1995.)17
b(T)m(o)1098 1666 y(app)q(ear.)1020 1731 y([10])h(R.)j(P)o(aterson.)43
b(Con)o(trol)22 b(Structures)g(from)f(T)o(yp)q(es.)42
b(Un-)1098 1773 y(published)29 b(draft.)d(Av)n(ailable)j(b)o(y)d(anon)o
(ymous)i(ftp)d(from)1098 1814 y Fa(ftp-ala.doc.)o(ic)o(.ac)o(.uk)o(/pu)
o(b/p)o(ap)o(ers)o(/R.)o(Pat)o(ers)o(on)o(/fo)o(lds)o(.dv)o(i)p
Fr(,)1098 1856 y(1994.)1020 1920 y([11])18 b(L.)g(P)o(aulson.)33
b Fq(ML)18 b(for)g(the)f(working)g(pr)n(o)n(gr)n(ammer)p
Fr(.)31 b(Cam-)1098 1962 y(bridge)15 b(Univ)o(ersit)o(y)g(Press,)e
(1991.)1020 2026 y([12])18 b(F.)k(Pfenning)i(and)g(C.)d(Elliott.)47
b(Higher-order)24 b(Abstract)1098 2068 y(Syn)o(tax.)i
Fq(Pr)n(o)n(c)n(e)n(e)n(dings)13 b(of)i(the)g(A)o(CM)h(SIGPLAN)e('88)h
(Sym-)1098 2109 y(p)n(osium)h(on)g(L)n(anguage)e(Design)h(and)h
(Implementation,)e(A)o(t-)1098 2151 y(lanta,)e(Ge)n(or)n(gia)p
Fr(,)f(pp)i(199{208,)h(June)f(1988.)1020 2216 y([13])18
b(C.)d(Reade.)24 b Fq(Elements)14 b(of)h(F)m(unctional)d(Pr)n(o)n(gr)n
(amming)p Fr(.)22 b(Ad-)1098 2257 y(dison)15 b(W)m(esley)m(,)f(1989.)
1020 2322 y([14])k(T.)26 b(Sheard)h(and)f(L.)g(F)m(egaras.)56
b(A)25 b(F)m(old)i(for)f(All)h(Sea-)1098 2363 y(sons.)43
b Fq(Sixth)19 b(Confer)n(enc)n(e)g(on)i(F)m(unctional)d(Pr)n(o)n(gr)n
(amming)1098 2405 y(L)n(anguages)j(and)g(Computer)i(A)o(r)n(chite)n
(ctur)n(e)o(,)g(Cop)n(enhagen,)1098 2446 y(Denmark)p
Fr(,)12 b(pp)h(233{242,)h(June)f(1993.)1020 2511 y([15])18
b(P)m(.)c(W)m(adler.)24 b(Theorems)15 b(for)f(F)m(ree!)29
b Fq(F)m(ourth)14 b(Confer)n(enc)n(e)f(on)1098 2552 y(F)m(unctional)d
(Pr)n(o)n(gr)n(amming)h(L)n(anguages)f(and)h(Computer)h(A)o(r-)1098
2594 y(chite)n(ctur)n(e,)f(Imp)n(erial)i(Col)r(le)n(ge,)f(L)n(ondon)p
Fr(,)e(Septem)o(b)q(er)k(1989.)951 2747 y(11)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
